###########################
# Finland Events
###########################

add_namespace = finland
add_namespace = fin_news
add_namespace = FIN_elections

# Soviet Ultimatum
country_event = {
	id = finland.1
	title = finland.1.t
	desc = finland.1.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = finland.1.a
		ai_chance = { 
			base = 25
			modifier = {											#we are not afraid of your giant army, come and get us!
				add = -5
				strength_ratio = { tag = SOV ratio > 0.4 }
			}
			modifier = {
				add = -5
				strength_ratio = { tag = SOV ratio > 0.2 }
			}
			modifier = {
				add = -5
				strength_ratio = { tag = SOV ratio > 0.1 }
			}
			modifier = {	#onega									#additional checks if Soviets have not moved an army to the border
				add = -5
				SOV = {
					divisions_in_state = { state = 215 size < 5 }
				}
			}
			modifier = {	#leningrad
				add = -5
				SOV = {
					divisions_in_state = { state = 195 size < 8 }
				}
			}
			modifier = {		#you are not claiming much and are demanding nicefully :D
				factor = 3
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = { # Don't accept if in a faction that can protect them
				factor = 0
				OR = {
					any_other_country = {
						is_major = yes
						OR = {
							is_in_faction_with = ROOT
							has_guaranteed = ROOT
						}
					}
					has_idea = anti_soviet_pact
				}
			}
		}
		SOV = {
			country_event = { days = 5 id = soviet.12 }
			effect_tooltip = {
				transfer_state = 146
				if = {
					limit = {
						722 = {
							is_claimed_by = SOV
						}
					}
					remove_state_claim = 722
				}
				if = {
					limit = {
						147 = {
							is_claimed_by = SOV
						}
					}
					remove_state_claim = 147
				}
			}
		}
	}
	option = { # Refuse
		name = finland.1.b
		ai_chance = { 
			base = 75
			modifier = {		#additional check so that historical outcome is very likely to occur
				factor = 10
				has_opinion = {
					target = FROM
					value < 10
				}
			}
		}
		FROM = {
			country_event = { days = 5 id = soviet.13 }
			effect_tooltip = {
				create_wargoal = {
					type = take_state
					target = ROOT
					generator = { 146 }
				}
			}
		}
	}
}

# Request Swedish Assistance?	replaced with decision - Fantom
#country_event = {
#	id = finland.2
#	title = finland.2.t
#	desc = finland.2.d
#	picture = GFX_report_event_soviet_finnish_pact
#	
#	fire_only_once = yes
#
#	trigger = {
#		tag = FIN
#		has_war_with = SOV
#		SWE = {
#			NOT = { has_war_with = FIN }
#			NOT = { is_in_faction_with = SOV }
#			exists = yes
#		}
#	}
#
#	mean_time_to_happen = {
#		days = 1
#	}
#
#	option = {
#		name = finland.2.a
#		SWE = {
#			country_event = { id = finland.3 }
#		}
#	}
#
#	option = {
#		name = finland.2.b
#	}
#}

#Swedish Support in Winter War
country_event = {
	id = finland.3
	title = finland.3.t
	desc = finland.3.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes

	option = {
		name = finland.3.a

		ai_chance = {
			base = 10 
			modifier = {
				factor = 10
				OR = {
					has_war = yes
					has_government = communism
				}
			}
		}

		FIN = {
			country_event = { id = finland.4 days = 3 }
			add_opinion_modifier = {
				target = ROOT
				modifier = refused_help
			}
		}
	}

	option = {
		name = finland.3.b

		ai_chance = {
			base = 25
			modifier = {
				factor = 5							
				has_government = democratic
				FIN = {
				 has_government = democratic
				}
			}
		}

		trigger = {
			has_war = no
			NOT = {
				has_government = communism
			}
			has_manpower > 8402
		}
		add_manpower = -8402
		if = {
			limit = {
				has_equipment = {
					infantry_equipment > 500
				}
			}
			send_equipment = {
				target = FIN
				type = infantry_equipment
				amount = 500
			}
		}
		if = {
			limit = {
				has_equipment = {
					artillery_equipment > 250
				}
			}
			send_equipment = {
				target = FIN
				type = artillery_equipment
				amount = 250
			}
		}
		add_ai_strategy = {
			type = support
			id = FIN
			value = 100
		}
		FIN = {
			country_event = { id = finland.5 days = 3 }
		}
	}

	option = {
		name = finland.3.c

		ai_chance = {

			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 100
				has_war = no
				has_government = democratic
				strength_ratio = {
					tag = SOV
					ratio > 0.2
				}
				FIN = {
					has_government = democratic
					strength_ratio = {
						tag = SOV 
						ratio > 0.3
					}
				}
			}			
		}

		declare_war_on = {
			target = SOV
			type = take_state
			generator = { 195 208 } # Leningrand and Luga
		}
		FIN = {
			country_event = { id = finland.6 days = 3 }
			add_opinion_modifier = {
				target = ROOT
				modifier = took_stand_for_us
			}
		}
	}
}

country_event = {
	id = finland.4
	title = finland.4.t
	desc = finland.4.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes

	option = {
		name = finland.4.a
	}
}

country_event = {
	id = finland.5
	title = finland.5.t
	desc = finland.5.d
	picture = GFX_report_event_swedish_soldier
	
	is_triggered_only = yes

	option = {
		name = finland.5.a
		add_manpower = 8402
		effect_tooltip = {
			SWE = {
				add_manpower = -8402
				if = {
					limit = {
						has_equipment = {
							infantry_equipment > 500
						}
					}
					send_equipment = {
						target = FIN
						type = infantry_equipment
						amount = 500
					}
				}
				if = {
					limit = {
						has_equipment = {
							artillery_equipment > 250
						}
					}
					send_equipment = {
						target = FIN
						type = artillery_equipment
						amount = 250
					}
				}
			}
		}
	}
}

country_event = {
	id = finland.6
	title = finland.6.t
	desc = finland.6.d
	picture = GFX_report_event_swedish_soldier
	
	is_triggered_only = yes

	option = {
		name = finland.6.a
	}
}

#Soviet response to Finish surrender
country_event = {
	id = finland.8
	title = finland.8.t
	desc = finland.8.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes

	#Accept surrender
	option = {
		name = finland.8.a
		ai_chance = {
			base = 9
		}
		white_peace = FIN
		transfer_state = 146
		transfer_state = 147
		if = {
			limit = {
				722 = {
					is_claimed_by = SOV
				}
			}
			remove_state_claim = 722
		}


		if = {
			limit = {
				GER = {
					is_subject = no
					not = { is_in_faction_with = SOV}
				}
			}
			add_ai_strategy = {
				type = alliance
				id = "GER"			
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = "GER"			
				value = 200
			}
			GER = {
				add_ai_strategy = {
					type = alliance
					id = "FIN"			
					value = 200
				}
			}
		}
	}

	#Take it all
	option = {
		name = finland.8.b
		add_political_power = -75
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}			
		}
		FIN = { country_event = { id = finland.9 } }
	}
}

#Soviet says no!
country_event = {
	id = finland.9
	title = finland.9.t
	desc = finland.9.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes

	option = {
		name = finland.9.a
	}
}
# WINTER WAR STARTS! -> (NSB Barbarossa free patch)
country_event = {
	id = finland.10
	title = finland.10.t
	desc = finland.10.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes

	option = {
		name = finland.10.a

		add_ideas = winter_war_ns
		unlock_decision_category_tooltip = FIN_the_winter_war_category	#not showing up:(
	}
}


#Declare War on the USSR
country_event = {
	id = finland.11
	title = finland.11.t
	desc = finland.11.d
	picture = GFX_report_event_militiant_haakon
	
	fire_only_once = yes
	
	trigger = {
		original_tag = FIN
		has_completed_focus = fin_germantreatyfoc
		GER = { has_war_with = SOV }
		OR = {
			GER = {
				OR = {
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
						has_full_control_of_state = 94
						has_full_control_of_state = 241
					}
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
					}
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
					}
					AND = {
						has_full_control_of_state = 96
						has_full_control_of_state = 812
						has_full_control_of_state = 813
					}
					AND = {
						has_full_control_of_state = 812
						has_full_control_of_state = 813
						has_full_control_of_state = 968
					}
				}
			}
			SOV = {
				surrender_progress > 0.15
			}
		}
		SOV = {
			surrender_progress > 0.04
		}
	}
	
	option = {
		name = finland.11.a
		ai_chance = {
			base = 2
			modifier = {
				is_historical_focus_on = yes
				factor = 10
			}
			modifier = {
				GER = {
					has_full_control_of_state = 813
				}
				add = 2
			}
			modifier = {
				GER = {
					has_full_control_of_state = 812
				}
				add = 2
			}
			modifier = {
				GER = {
					has_full_control_of_state = 811
				}
				add = 1
			}
			modifier = {
				GER = {
					has_full_control_of_state = 195
				}
				add = 10
			}
			modifier = {
				GER = {
					has_full_control_of_state = 208
				}
				add = 5
			}
			modifier = {
				GER = {
					is_ai = no
				}
				add = 1
			}
		}
		if = {
			limit = {
				SOV = {
					has_full_control_of_state = 146
				}
			}
			create_wargoal = {
				type = take_state_focus
				target = SOV
				generator = { 146 }
				expire = 0
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = SOV
				expire = 0
			}
		}
		set_country_flag = r56_fin_trigger_con_war_front_control
		hidden_effect = {
			news_event = fin_news.3
		}
	}
	
	option = {
		name = finland.11.b
		add_political_power = -25
		set_country_flag = r56_backstabed_germany
		custom_effect_tooltip = FIN_lesser_backstab_tt
		ai_chance = {
			base = 0
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				is_historical_focus_on = no
				add = 2 #50/50
			}
		}
		GER = {
			country_event = { id = finland.85 days = 1 }
		}
		GER = {
			add_opinion_modifier = { target = FIN modifier = FIN_betrayal }
		}
	}
}

#End the Continuation War
country_event = {
	id = finland.12
	title = finland.12.t 
	desc = finland.12.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	fire_only_once = yes
	is_triggered_only = yes
	
	#Say Yes
	option = {
		name = finland.12.a
		ai_chance = {
			base = 9
		}
		white_peace = FIN
		every_country = {
			limit = {
				is_in_faction_with = SOV
				has_war_with = FIN
			}
			white_peace = FIN
		}
		if = {
			limit = {
				FIN = {
					controls_state = 722
				}
			}
			transfer_state = 722
		}
		FIN = { 
			country_event= { id = finland.14 hours = 4 } 

			if = {
				limit = {
					has_idea = FIN_communism_banned 
				}
				remove_ideas = FIN_communism_banned 
			}

			if = {
				limit = {
					has_idea = FIN_revenge
				}
				remove_ideas = FIN_revenge
			}
			hidden_effect = {
				set_rule = { can_join_factions = yes }
			}
		}
		effect_tooltip = {
			if = {
				limit = {
					FIN = {
						gives_military_access_to = FIN
					}
				}
				GER = {
					diplomatic_relation = { country = FIN relation = military_access active = no }
				}
			}
			FIN = {
				if = {
					limit = {
						is_ai = yes
						GER = {
							has_war_with = SOV
						}
					}
					declare_war_on = {
						target = GER
						type = topple_government
					}
				}
				else_if = {
					limit = {
						GER = {
							has_war_with = SOV
						}
					}
					create_wargoal = {
						target = GER
						type = topple_government
						expire = 0
					}
				} 
			}
		}
		GER = {
			add_ai_strategy = {
				type = prepare_for_war
				id = "FIN"			
				value = 100
			}
		}
	}
		
	#Say No
	option = {
		name = finland.12.b
		add_political_power = -25
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}			
		}
		FIN = { country_event = { id = finland.13  hours = 2 } }
	}
}

#Soviets Say No
country_event = {
	id = finland.13
	title = finland.13.t
	desc = finland.13.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes
	
	option = { 
		name = finland.13.a
		set_country_flag = r56_fin_double_down
		if = {
			limit = {
				GER = {
					is_faction_leader = yes
					exists = yes
				}
			}
			GER = {
				country_event = { id = finland.15 days = 1 }
			}
		}
		hidden_effect = { 
			set_rule = { can_join_factions = yes } 
			remove_ideas = FIN_stopai
			unlock_national_focus = fin_joinaxifoc
		}
	}
}

#Soviets Say Yes
country_event = {
	id = finland.14
	title = finland.14.t
	desc = finland.14.d
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = finland.14.a
		if = {
			limit = {
				FIN = {
					gives_military_access_to = FIN
				}
			}
			GER = {
				diplomatic_relation = { country = FIN relation = military_access active = no }
			}
		}
		if = {
			limit = {
				has_completed_focus = fin_gerequipmentfoc
			}
			delete_unit_template_and_units = {
				division_template = "Jaeger SS Division"
				disband = no
			}
			delete_unit_template_and_units = {
				division_template = "Jaeger German Infanterie-Division"
				disband = no
			}
		} 
		if = {
			limit = {
				is_ai = yes
				GER = {
					has_war_with = SOV
				}
			}
			declare_war_on = {
				target = GER
				type = topple_government
			}
		}
		else_if = {
			limit = {
				GER = {
					has_war_with = SOV
				}
			}
			create_wargoal = {
				target = GER
				type = topple_government
				expire = 0
			}
		} 
		hidden_effect = {
			add_ai_strategy = {
				type = antagonize
				id = "GER"			
				value = 300
			}
			add_ai_strategy = {
				type = declare_war
				id = "GER"			
				value = 500
			}
			GER = {
				add_ai_strategy = {
					type = antagonize
					id = "FIN"			
					value = 300
				}
			}
		}
	}
}

# Finland Wants to join Axis
country_event = {
	id = finland.15
	title = finland.15.t
	desc = finland.15.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = finland.15.a
		add_to_faction = FROM
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		FROM = { country_event = { id = finland.16 } }
		hidden_effect = {
			news_event = { id = fin_news.2 }
		}
	}
	
	option = {
		name = finland.15.b
		ai_chance = { base = 0 }
		FROM = { 
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.17 }
		}
	}
}

#Germany accepts
country_event = {
	id = finland.16
	title = finland.16.t
	desc = finland.16.d
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = finland.16.a

	}
}

#Germany declines
country_event = {
	id = finland.17
	title = finland.17.t
	desc = finland.17.d
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = finland.17.a
	}
}

#X country NDA Invite
country_event = {
	id = finland.18
	title = finland.18.t
	desc = finland.18.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = { 
		name = finland.18.a
		FIN = {
			add_to_faction = ROOT
			country_event = { id = finland.31 }
			ROOT = {
				add_ai_strategy = {
					type = alliance
					id = "FIN"
					value = 200
				}
			}
		}
	}

	option = {
		name = finland.18.b
		ai_chance = { base = 0 }
		FIN = {
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.19 }
		}
	}
} 


#Soviet get a Finish status quo proposal
country_event = {
	id = finland.150
	title = finland.150.t
	desc = finland.150.d
	picture = GFX_CZKE_benes_exile_report
	
	is_triggered_only = yes

	#Accept surrender
	option = {
		name = finland.150.a
		ai_chance = {
			base = 19	#even more likely to accept, since high losses
		}
		add_war_support = -0.05
		white_peace = FIN
		every_state = {
			limit = {
				OR = {
					state = 147
					state = 722
					state = 146
				}
				is_controlled_by = ROOT
				is_claimed_by = SOV
			}
			remove_claim_by = SOV
		}
		FIN = {
			add_ai_strategy = {	#we hate what you forced us to do
				type = antagonize
				id = "SOV"			
				value = 50
			}
		}
		if = {
			limit = {
				GER = {
					is_subject = no
					not = { is_in_faction_with = SOV}
				}
			}
			add_ai_strategy = {
				type = alliance
				id = "GER"			
				value = 50
			}
			add_ai_strategy = {
				type = befriend
				id = "GER"			
				value = 50
			}
			GER = {
				add_ai_strategy = {	#we love you, for you are strong one!
					type = alliance
					id = "FIN"			
					value = 100
				}
			}
		}
	}

	#Take it all
	option = {
		name = finland.150.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}			
		}
		add_stability = -0.05
		add_war_support = -0.10
		FIN = { country_event = { id = finland.151 } }
	}
}

#Soviet says no!
country_event = {
	id = finland.151
	title = finland.151.t
	desc = finland.151.d
	picture = GFX_report_event_finnish_soldiers_snow
	
	is_triggered_only = yes

	option = {
		name = finland.151.a
	}
}

#Soviet response to Finish demands to ceded lands after severe losses
country_event = {
	id = finland.152
	title = finland.152.t
	desc = finland.152.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes

	#Accept surrender
	option = {
		name = finland.152.a
		ai_chance = {
			base = 19	#even more likely to accept, since high losses
		}
		add_war_support = -0.05
		white_peace = FIN
		every_state = {
			limit = {
				OR = {
					state = 147
					state = 722
					state = 146
				}
				is_controlled_by = ROOT
				is_claimed_by = SOV
			}
			remove_claim_by = SOV
		}
		every_state = {
			limit = {
				OR = {
					state = 213
					state = 215
					state = 216
				}
				SOV  = {
					controls_or_subject_of = yes
				}
			}
			FIN = {
				transfer_state = PREV
			}
			hidden_effect = {
				add_compliance = 25
			}
		}
		if = {
			limit = {
				SOV = {
					195 = {
						controls_or_subject_of = yes
					}
				}
			}
			195 = {
				set_demilitarized_zone = yes
			}
		}
		FIN = {
			add_ai_strategy = {	#we hate what you forced us to do
				type = antagonize
				id = "SOV"			
				value = 50
			}
		}
		if = {
			limit = {
				GER = {
					is_subject = no
					not = { is_in_faction_with = SOV}
				}
			}
			add_ai_strategy = {
				type = alliance
				id = "GER"			
				value = 50
			}
			add_ai_strategy = {
				type = befriend
				id = "GER"			
				value = 50
			}
			GER = {
				add_ai_strategy = {	#we love you, for you are strong one!
					type = alliance
					id = "FIN"			
					value = 300
				}
			}
		}
	}

	#Never!
	option = {
		name = finland.152.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}			
		}
		add_stability = -0.10
		add_war_support = -0.15
		FIN = { country_event = { id = finland.151 } }
	}
}

#X Country NDA accept
country_event = {
	id = finland.31
	title = finland.31.t
	desc = finland.31.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.31.a
	}
}

#X Country NDA Decline
country_event = {
	id = finland.19
	title = finland.19.t
	desc = finland.19.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.19.a
	}
}

#Create Nordic Union
country_event = {
	id = finland.99
	title = finland.99.t
	desc = finland.99.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.99.a
		SCA = {
			annex_country = { target = FIN transfer_troops = yes }
			annex_country = { target = SWE transfer_troops = yes }
			annex_country = { target = DEN transfer_troops = yes }
			annex_country = { target = NOR transfer_troops = yes }
			change_tag_from = FIN
			country_event = { hours = 10 id = finland.100 }      
		}
	}
}

#add cores to Nordic Union
country_event = { 
	id = finland.100
	title = finland.100.t
	desc = finland.100.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes

	
	option = {
		name = finland.100.a
		every_state = {
			limit = { 
				OR = {
					is_core_of = SWE
					is_core_of = NOR
					is_core_of = DEN
					is_core_of = ICE
					is_core_of = GRL
					is_core_of = FIN
				}
				NOT = {
					is_core_of = ROOT
				}
			}
			add_core_of = ROOT
		}
		SCA = { add_ideas = SCA_united }
	}
	
}

#Ask Iceland to be integrated too into the Nordic Union
country_event = {
	id = finland.101
	title = finland.101.t
	desc = finland.101.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.101.a
		ai_chance = { base = 99 }
		100 = {
			add_core_of = FIN
		}
		FIN = {	
			annex_country = { target = ICE transfer_troops = yes }
		}
		FIN = {  country_event = { hours = 6 id = finland.102 }  }
	}
	option = {
		ai_chance = { base = 1 }
		name = finland.101.b
		FIN = {  country_event = { hours = 6 id = finland.103 } }
	}
}

#Iceland accepts
country_event = {
	id = finland.102
	title = finland.102.t
	desc = finland.102.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.102.a 
	}
}

#Iceland declines
country_event = {
	id = finland.103
	title = finland.103.t
	desc = finland.103.d
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = finland.103.a 
	}
	option = {
		name = finland.103.b 
		create_wargoal = {
			type = take_state_focus
			target = ICE
			expire = 0
			generator = { 100 }
		}
	}
}

#Ask Soviets to remove claims in Karjala
country_event = {
	id = finland.20
	title = finland.20.t
	desc = finland.20.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes
	
	option = {
		name = finland.20.a
		ai_chance = { 
			base = 90
		}
		remove_state_claim = 146
		FIN = {
			country_event = { id = finland.21 }
		}
	}
		
	option = { 
		name = finland.20.b
		FIN = {
			country_event = { id = finland.22 }
		}
	}
}

#Soviets Say YEs
country_event = {
	id = finland.21
	title = finland.21.t
	desc = finland.21.d 
	picture = GFX_report_event_soviet_finnish_pact

	is_triggered_only = yes
	
	option = {
		name = finland.21.a
	}
}

#Soviets Say No
country_event = {
	id = finland.22
	title = finland.22.t
	desc = finland.22.d 
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes
	
	option = {
		name = finland.22.a
	}
}

#ENG Tech Sharing
country_event = {	
	id = finland.23
	title = finland.23.t
	desc = finland.23.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.23.a
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.5
			uses = 2
			category = electronics
		}
		ENG = {
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.5
				uses = 2
				category = electronics
			}
		}
	}
	
	option = {
		name = finland.23.b
		add_to_tech_sharing_group = commonwealth_research
	}
}

#GER Tech Sharing
country_event = {	
	id = finland.25
	title = finland.25.t
	desc = finland.25.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {	
		name = finland.25.a
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 2
			category = armor
		}
		GER = { 
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 2 
				category = armor
			}
		}
	}
	
	option = {
		name = finland.25.b
		add_to_tech_sharing_group = german_research
		GER = { add_to_tech_sharing_group = german_research }
	}
}

#Karjala ceded
country_event = {
	id = finland.26
	title = finland.26.t
	desc = finland.26.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = finland.26.a
	}
}
	
# Finland Wants to join Axis
country_event = {
	id = finland.27
	title = finland.27.t
	desc = finland.27.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = finland.27.a
		add_to_faction = FROM
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		FROM = { country_event = { id = finland.28 } }
	}
	
	option = {
		name = finland.27.b
		ai_chance = { base = 0 }
		FROM = { 
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.29 }
		}
	}
}

#Germany accepts
country_event = {
	id = finland.28
	title = finland.28.t
	desc = finland.28.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.28.a
	}
}

#Germany declines
country_event = {
	id = finland.29
	title = finland.29.t
	desc = finland.29.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.29.a
	}
}

#NDA Tech Agreement
country_event = {	
	id = finland.30
	title = finland.30.t
	desc = finland.30.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.30.a
		add_ideas = NDA_tech_agreement
		NOR = { add_ideas = NDA_tech_agreement }
		SWE = { add_ideas = NDA_tech_agreement }
		DEN = { add_ideas = NDA_tech_agreement }
	}
		
	option = {
		name = finland.30.b
		add_to_tech_sharing_group = nordic_research
		NOR = { add_to_tech_sharing_group = nordic_research }
		SWE = { add_to_tech_sharing_group = nordic_research }
		DEN = { add_to_tech_sharing_group = nordic_research }
	}
}

#X country NDA Invite
country_event = {
	id = finland.32
	title = finland.32.t
	desc = finland.32.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = { 
		name = finland.32.a
		FIN = {
			country_event = { id = finland.33 }
			add_to_faction = ROOT
			ROOT = {
				add_ai_strategy = {
					type = alliance
					id = "FIN"
					value = 200
				}
			}
		}
	}
	
	option = {
		name = finland.18.b
		ai_chance = { base = 0 }
		FIN = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.34 }
		}
	}
} 

#X Country NDA accept
country_event = {
	id = finland.33
	title = finland.33.t
	desc = finland.33.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.33.a
	}
}

#X Country NDA Decline
country_event = {
	id = finland.34
	title = finland.34.t
	desc = finland.34.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.34.a
	}
}

# Finland Wants to join the comintern
country_event = {
	id = finland.36
	title = finland.36.t
	desc = finland.36.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes
	
	option = {
		name = finland.36.a
		add_to_faction = FROM
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = "SOV"
				value = 200
			}
		}
		FROM = { country_event = { id = finland.37 } }
	}
	
	option = {
		name = finland.36.b
		ai_chance = { base = 0 }
		FROM = { 
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.38 }
		}
	}
}

#soviet says no i mean yes
country_event = {
	id = finland.37
	title = finland.37.t
	desc = finland.37.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.37.a
	}
}

#soviet says no no
country_event = {
	id = finland.38
	title = finland.38.t
	desc = finland.38.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.38.a
	}
}

# Finland Wants to join the Allies
country_event = {
	id = finland.104
	title = finland.104.t
	desc = finland.104.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes
	
	option = {
		name = finland.104.a
		add_to_faction = FROM
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		FIN = {
			country_event = { id = finland.105 }
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				uses = 1
				category = infantry_weapons					
			}
		}
	}
	
	option = {
		name = finland.104.b
		ai_chance = { base = 0 }
		FROM = { 
			add_opinion_modifier = {
				target = ROOT
				modifier = FIN_rejectalliance
			}
			country_event = { id = finland.42 }
		}
	}
}

#london says no i mean yes
country_event = {
	id = finland.105
	title = finland.105.t
	desc = finland.105.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.105.a
	}
}

#lonmdon says no no
country_event = {
	id = finland.42
	title = finland.42.t
	desc = finland.42.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.42.a
	}
}

#Deal With Sweden Event
country_event = {
	id = finland.43
	title = finland.43.t
	desc = finland.43.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option = {
		name = finland.43.a 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size < 21 }
				}
			}
			modifier = {
				add = 20
				FIN = {
					has_army_size = { size > 22 }
				}
			}
		}
		
		FIN = {
			country_event = { id = finland.44 }
			transfer_state = 666
		}
	}
		
	option = {
		name = finland.43.b 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size < 40 }
				}
			}
			modifier = {
				add = 100
				FIN = {
					has_army_size = { size > 40 }
				}
			}
		}
		FIN = { 
			puppet = SWE 
			country_event = { id = finland.1001 }
		}
	}
		
	option = { 
		name = finland.43.c
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size > 13 }
				}
			}
			modifier = {
				add = 100
				FIN = {
					has_army_size = { size < 12 }
				}
			}
		}
		FIN = {
			create_wargoal = {
				type = take_state
				target = SWE
				generator = { 666 }
			}
			country_event = { id = finland.46 }
		}
	}	

}

#Sweden gives land
country_event = {
	id = finland.44
	title = finland.44.t
	desc = finland.44.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.44.a
	}
}

#Sweden becomes a puppet
country_event = {
	id = finland.1001
	title = finland.1001.t
	desc = finland.1001.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.1001.a
	}
	
	option = {
		name = finland.1001.b
		annex_country = {
			target = SWE
			transfer_troops = yes
		}
	}
}

#Sweden declines everything
country_event = {
	id = finland.46
	title = finland.46.t
	desc = finland.46.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.46.a
	}
}

#Deal With Norway Event
country_event = {
	id = finland.47
	title = finland.47.t
	desc = finland.47.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option = {
		name = finland.47.a 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size < 21 }
				}
			}
			modifier = {
				add = 20
				FIN = {
					has_army_size = { size > 22 }
				}
			}
		}
		
		FIN = { 
			transfer_state = 144
			country_event = { id = finland.48 } 
		}
	}
		
	option = {
		name = finland.47.b 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size < 40 }
				}
			}
			modifier = {
				add = 100
				FIN = {
					has_army_size = { size > 40 }
				}
			}
		}
		FIN = { 
			puppet = NOR
			country_event = { id = finland.49 }
		}
	}
	
	option = { 
		name = finland.43.c
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size > 13 }
				}
			}
			modifier = {
				add = 100
				FIN = {
					has_army_size = { size < 12 }
				}
			}
		}
		FIN = {
			create_wargoal = {
				type = take_state
				target = NOR
				generator = { 144 }
			}
			country_event = { id = finland.50 }
		}
	}
}

#Norway gives land
country_event = {
	id = finland.48
	title = finland.48.t
	desc = finland.48.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.48.a
	}
}

#Norway becomes a puppet
country_event = {
	id = finland.49
	title = finland.49.t
	desc = finland.49.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.49.a
	}
	
	option = {
		name = finland.49.b
		annex_country = {
			target = NOR
			transfer_troops = yes
		}
	}
}

#Norway declines everything
country_event = {
	id = finland.50
	title = finland.50.t
	desc = finland.50.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.50.a
	}
}

#Deal With Denmark Event
country_event = {
	id = finland.51
	title = finland.51.t
	desc = finland.51.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option = {
		name = finland.51.a 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size < 29 }
				}
			}
			modifier = {
				add = 20
				FIN = {
					has_army_size = { size > 30 }
				}
			}
		}
		FIN = { 
			country_event = { id = finland.52 } 
			transfer_state = 99
			transfer_state = 964
		}
	}
		
	option = {
		name = finland.51.b 
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				FIN = { has_army_size = { size > 41 } }
			}
		}
		FIN = { 
			puppet = DEN
			country_event = { id = finland.53 }
		}
	}
		
	option = { 
		name = finland.43.c
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				FIN = {
					has_army_size = { size > 20 }
				}
			}
			modifier = {
				add = 100
				FIN = {
					has_army_size = { size < 19 }
				}
			}
		}
		FIN = {
			create_wargoal = {
				type = take_state
				target = DEN
				generator = { 99 964 }
			}
			country_event = { id = finland.54 }
		}
	}

}

#Denmark gives land
country_event = {
	id = finland.52
	title = finland.52.t
	desc = finland.52.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.52.a
	}
}

#Denmark becomes a puppet
country_event = {
	id = finland.53
	title = finland.53.t
	desc = finland.53.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.53.a
	}
	
	option = {
		name = finland.53.b
		annex_country = {
			target = DEN
			transfer_troops = yes
		}
	}
}

#Denmark declines everything
country_event = {
	id = finland.54
	title = finland.54.t
	desc = finland.54.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.54.a
	}
}

#Scandinavian intervention
country_event = {
	id = finland.55
	title = finland.55.t
	desc = finland.55.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.55.a
		ai_chance = {
			base = 50
			modifier = {
				add = -25
				FIN = { has_army_size = { size < 29 } }
			}
			modifier = {
				add = 100
				FIN = { has_army_size = { size > 30 } }
			}
		}
		FIN = { country_event = { id = finland.56 } }
	}
	
	option = {
		name = finland.55.b
		ai_chance = {
			base = 50
			modifier = {
				add = 100
				FIN = { has_army_size = { size < 29 } }
			}
			modifier = {
				add = -25
				FIN = { has_army_size = { size > 30 } }
			}
		}
		FIN = { country_event = { id = finland.57 } }
	}
}


#Sweden agrees on intervention
country_event = {
	id = finland.56
	title = finland.56.t
	desc = finland.56.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes

	option = {
		name = finland.56.a
		declare_war_on = { 
			target = GER
			type = annex_everything
		}
		DEN = {
			add_opinion_modifier = {
				target = SWE
				modifier = fin_scandintervention
			}
			add_opinion_modifier = {
				target = FIN
				modifier = fin_scandintervention
			}
		}
		NOR = {
			add_opinion_modifier = {
				target = SWE
				modifier = fin_scandintervention
			}
			add_opinion_modifier = {
				target = FIN
				modifier = fin_scandintervention
			}
		}
		SWE = { country_event = {id = finland.58 }}
	}
}

#Sweden disagrees on intervention
country_event = {
	id = finland.57
	title = finland.57.t
	desc = finland.57.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes

	option = {
		name = finland.57.a
		DEN = {
			add_opinion_modifier = {
				target = SWE
				modifier = fin_didntintervene
			}
			add_opinion_modifier = {
				target = FIN
				modifier = fin_didntintervene
			}
		}
		NOR = {
			add_opinion_modifier = {
				target = SWE
				modifier = fin_didntintervene
			}
			add_opinion_modifier = {
				target = FIN
				modifier = fin_didntintervene
			}
		}
	}
	
	option = {
		name = finland.57.b
		declare_war_on = {
			target = GER
			type = annex_everything
		}
		DEN = {
			add_opinion_modifier = {
				target = FIN
				modifier = fin_scandintervention
			}
		}
		NOR = {
			add_opinion_modifier = {
				target = FIN
				modifier = fin_scandintervention
			}
		}
	}
}

#Sweden joins war
country_event = {
	id = finland.58
	title = finland.58.t
	desc = finland.58.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.58.a
		declare_war_on = {
			target = GER
			type = annex_everything
		}
	}
}

#Finland demans murmansk, olonets and onega
country_event = {
	id = finland.59
	title = finland.59.t
	desc = finland.59.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.59.a
		ai_chance = {
			base = 30
			modifier = {
				add = 30
				FIN = {	is_in_faction_with = GER }
			}
		}
		FIN = {
			transfer_state = 213
			transfer_state = 215
			transfer_state = 216
			country_event = finland.63
		}	
	}
	
	option = {
		name = finland.59.b
		ai_chance = { base = 60 }
		FIN = { country_event = finland.64 }	
	}
}

#Deal With Estonia Event
country_event = {
	id = finland.60
	title = finland.60.t
	desc = finland.60.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes
	
	option = {
		name = finland.60.a 
		ai_chance = {
			base = 70
			modifier = {
				add = -25
				FIN = { is_in_faction_with = GER }
			}
		}
		FIN = {
			create_wargoal = {
				type = annex_everything
				target = EST
			}
			country_event = { id = finland.61 } 
		}	
	}
		
	option = {
		name = finland.60.b 
		ai_chance = {
			base = 30
			modifier = {
				add = 25
				FIN = { is_in_faction_with = GER }
			}
		}
		FIN = { 
			annex_country = {
				target = EST
				transfer_troops = yes
			}
			country_event = { id = finland.62 }
		}	
	}
}
	
#Estonia says not today buddy
country_event = {
	id = finland.61
	title = finland.61.t
	desc = finland.61.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option ={
			name = finland.61.a
	}
}

#Estonia becomes a puppet
country_event = {
	id = finland.62
	title = finland.62.t
	desc = finland.62.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option ={
			name = finland.62.a
	}
}
	
#Soviet gives lebensraum
country_event = {
	id = finland.63
	title = finland.63.t
	desc = finland.63.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.63.a
		FIN = {
			transfer_state = 216
			transfer_state = 213
			transfer_state = 215
		}
	}
}
	
#Soviet doesnt give shit
country_event = {
	id = finland.64
	title = finland.64.t
	desc = finland.64.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.64.a
	}
}
	
#Estonia for Karjala
country_event = {
	id = finland.68
	title = finland.68.t
	desc = finland.68.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	

	option ={
		name = finland.68.a
		EST = {
			transfer_state = 13
			transfer_state = 191
		}
		FIN = {
			puppet = EST
		}
		transfer_state = 146
	}
}
	
#Åland Question
country_event = {
	id = finland.69
	title = finland.69.t
	desc = finland.69.desc
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes

	option ={
		name = finland.69.a
		ai_chance = {
			base = 25
			modifier = {
				add = 100
				is_historical_focus_on = yes
			}
		}
	}
		
	option = {
		name = finland.69.b
		ai_chance = {
			base = 25
			modifier = {
				add = -100
				is_historical_focus_on = yes
			}
		}
		SWE = {
			transfer_state = 145
			country_event = { id = finland.70 }
		}
		145 = {
			add_core_of = SWE
		}
	}
	
	option = {
		name = finland.69.c
		trigger = {
			145 = {
				is_demilitarized_zone = yes
				is_owned_and_controlled_by = ROOT
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				add = -100
				is_historical_focus_on = yes
			}
		}
		145 = { set_demilitarized_zone = no }
	}
	
	option = {
		name = finland.69.d
		ai_chance = {
			base = 25
			modifier = {
				add = -100
				is_historical_focus_on = yes
			}
		}
		release = AHV
		puppet = AHV
		give_guarantee = AHV 
	}
}

#Finland gives Åland
country_event = {
	id = finland.70
	title = finland.70.t
	desc = finland.70.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.70.a
	}
}
	
#Uniting the Nordics event.
country_event = {
	id = finland.71
	title = finland.71.t
	desc = finland.71.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.71.a
		ai_chance = {
			base = 100
		}
		FIN = { 
			annex_country = { target = ROOT transfer_troops = yes }
			country_event = finland.72
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	
	option = {
		name = finland.71.b
		ai_chance = {
			base = 0
		}
		FIN = { 
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
			country_event = finland.73
		}	
	}
}

#X Joins Nordics
country_event = {
	id = finland.72
	title = finland.72.t
	desc = finland.72.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.72.a
	}
}
	
#X does not join Nordics
country_event = {
	id = finland.73
	title = finland.73.t
	desc = finland.73.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option ={
		name = finland.73.a
	}
}

#Solve the baltic question
country_event = {
	id = finland.75
	title = finland.75.t
	desc = finland.75.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.75.a
		SOV = {
			country_event = { id = finland.76 }
		}
	}
	
	option = {
		name = finland.75.b
		custom_effect_tooltip = finland.75.b_tt
		SOV = {
			country_event = { id = finland.77 }
		}
	}
	
	option = {
		name = finland.75.c
	}
}
	
#Remove claims in baltics?

country_event = {
	id = finland.76
	title = finland.76.t
	desc = finland.76.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.76.a
		FIN = {
			country_event = { id = finland.78 }
		}
	}
	option = {
		name = finland.76.b
		remove_state_claim = 13
		remove_state_claim = 191
		remove_state_claim = 11
		remove_state_claim = 189
		remove_state_claim = 12
		remove_state_claim = 190
		FIN = {
			country_event = { id = finland.79 }
		}
	}
}
	
#Karjala for baltic safety
country_event = {
	id = finland.77
	title = finland.77.t
	desc = finland.77.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.77.a
		FIN = {
			country_event = { id = finland.78 }
		}
	}
	option = {
		name = finland.77.b
		custom_effect_tooltip = finland.75.b_tt
		remove_state_claim = 13
		remove_state_claim = 191
		remove_state_claim = 11
		remove_state_claim = 189
		remove_state_claim = 12
		remove_state_claim = 190
		transfer_state = 146
		FIN = {
			country_event = { id = finland.80 }
		}
	}
}
	
#SU Says No
country_event = {
	id = finland.78
	title = finland.78.t
	desc = finland.78.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.78.a
	}
}
	
#SU Says Yes
country_event = {
	id = finland.79
	title = finland.79.t
	desc = finland.79.d
	picture = GFX_report_event_finnish_letter
		
	is_triggered_only = yes
	
	option = {
		name = finland.79.a
	}
}

#Karjala for safety yes
country_event = {
	id = finland.80
	title = finland.80.t
	desc = finland.80.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = finland.80.a
	}
}
	
#Kingdom Of Finland
country_event = {
	id = finland.81
	title = finland.81.t
	desc = finland.81.d
	picture = GFX_report_event_finnish_letter
	
	trigger = {
		tag = FIN
		has_government = neutrality
		GER = {
			has_government = neutrality
			OR = {
				has_completed_focus = GER_restore_the_empire
				AND = {
					has_completed_focus = GER_revive_the_kaiserreich
					has_completed_focus = GER_return_of_the_kaiser
				}
			}
			OR = {
				has_completed_focus = GER_finland_friend
				has_completed_focus = GER_support_the_finns
				is_in_faction_with = FIN
			}
		}
		NOT = {
			has_cosmetic_tag = SCA
		}
	}

	mean_time_to_happen = {
		days = 270				#don't check every day, no need
	}
	
	fire_only_once = yes
	
	option = {
		name = finland.81.a
		add_political_power = 50
		set_cosmetic_tag = KOF
		set_party_name = { 
			ideology = neutrality
			long_name = FIN_monarchy_long
			name = FIN_monarchy_long
		}
		if = {
			limit = {
				date < 1940.5.28
			}
			create_country_leader = {
				name = "Friedrich Karl I"
				picture = "gfx/leaders/FIN/Portrait_FIN_Fredrik_Kaarle_I.dds"
				expire = "1965.1.1"
				ideology = constitutional_monarchy
				traits = {
					popular_figurehead2
				}
			}
		}
		if = {
			limit = {
				date > 1940.5.28
			}
			create_country_leader = {
				name = "Wolfgang Moritz"
				picture = "gfx/leaders/FIN/Portrait_FIN_Wolfgang_Moritz.dds"
				expire = "1965.1.1"
				ideology = constitutional_monarchy
				traits = {
					likes_germany
				}
			}
		}
	}
	
	option ={
		name = finland.81.b
	}
}
	
#Choose Capital
country_event = {
	id = finland.82
	title = finland.82.t
	desc = finland.82.d
	picture = GFX_report_event_finnish_letter
	
	trigger = {
		tag = FIN
		has_cosmetic_tag = SCA
		owns_state = 110
		owns_state = 37
		owns_state = 141
	}

	mean_time_to_happen = {
		days = 365
	}
	
	fire_only_once = yes
	
	#Keep it in Helsinki
	option = {
		name = finland.82.a
	}
	
	#Move it to Stockholm
	option = {
		name = finland.82.b
		set_capital = { state = 141 }
	}
	
	#Move it to Oslo
	option = {
		name = finland.82.c
		set_capital = { state = 110 }
	}
	
	#Move it to Copenhagen
	option = {
		name = finland.82.e
		set_capital = { state = 37 }
	}
}

#Friedrich Karl I dies
country_event = {
	id = finland.83
	title = finland.83.t
	desc = finland.83.d
	picture = GFX_report_event_finnish_letter
	
	trigger = {
		tag = FIN
		has_government = neutrality
		has_country_leader = {
			name = "Friedrich Karl I"
			ruling_only = yes
		}
		has_cosmetic_tag = KOF
		date > 1940.1.1
	}
	
	mean_time_to_happen = {
		days = 360	# Died in May 1940
	}
	
	fire_only_once = yes
	
	option = {
		name = finland.83.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Wolfgang Moritz"
			picture = "gfx/leaders/FIN/Portrait_FIN_Wolfgang_Moritz.dds"
			expire = "1965.1.1"
			ideology = constitutional_monarchy
			traits = {
				likes_germany
			}
		}
	}
}

#previously finland.10
#Give Germany military access and tells them about plan to invade soviet union
country_event = {
	id = finland.84
	title = finland.84.t
	desc = finland.84.d
	picture = GFX_r56i_generic_event_06
	
	is_triggered_only = yes

	option = {
		name = finland.84.a
		if = {
			limit = {
				GER = {
					NOT = {
						has_war_with = SOV
					}
				}
			}
			custom_effect_tooltip = FIN_GER_agreement_GER_side_tt
		}
		if = {
			limit = {
				GER = {
					NOT = {
						has_military_access_to = GER
					}
				}
			}
			FIN = { give_military_access = GER }
		}
		effect_tooltip = {
			FIN = {
				add_opinion_modifier = { target = GER modifier = FIN_ger_diplomacy }
			}
		}
	}
}

#Finland backed out of soviet war
country_event = {
	id = finland.85
	title = finland.85.t
	desc = finland.85.d
	picture = GFX_report_event_france_franchet_d_esperey_funerals

	is_triggered_only = yes

	option = {
		add_ai_strategy = {
			type = antagonize
			id = "FIN"			
			value = 200
		}
		name = finland.85.a
	}
}

#Warns Germany of possible betrayal 
country_event = {
	id = finland.86
	title = finland.86.t
	desc = finland.86.d
	picture = GFX_r56i_generic_event_06

	is_triggered_only = yes

	option = {
		add_ai_strategy = {
			type = antagonize
			id = "FIN"			
			value = 300
		}
		name = finland.86.a
	}
}

#Went though with betrayal
country_event = {
	id = finland.87
	title = finland.87.t
	desc = finland.87.d
	picture = GFX_report_event_finnish_soldiers_snow

	is_triggered_only = yes

	option = {
		name = finland.87.a
		add_ai_strategy = {
			type = antagonize
			id = "FIN"			
			value = 300
		}
		if = {
			limit = {
				FIN = {
					has_completed_focus = fin_gerequipmentfoc
				}
				has_full_control_of_state = 144
				has_full_control_of_state = 143
			}
			custom_effect_tooltip =  FIN_GER_Units_return_1_tt
			hidden_effect = {
				load_oob = "FIN_GER_return_1"
			}
		}
		else_if = {
			limit = {
				FIN = {
					has_completed_focus = fin_gerequipmentfoc
				}
				has_full_control_of_state = 61
			}
			custom_effect_tooltip =  FIN_GER_Units_return_2_tt
			hidden_effect = {
				load_oob = "FIN_GER_return_2"
			}
		}
	}
}



# Finnish-German Diplomacy
news_event = {
	id = fin_news.1
	title = fin_news.1.t
	desc = fin_news.1.d
	picture = GFX_news_event_017
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		trigger = { 
			has_government = fascism 
			NOT = {
				original_tag = GER
				original_tag = FIN
				original_tag = ENG
				original_tag = SOV
			}
		}
		name = fin_news.1.a
	}

	option = {
		trigger = { 
			has_government = communism 
			NOT = {
				original_tag = GER
				original_tag = FIN
				original_tag = ENG
				original_tag = SOV
			}
		}
		name = fin_news.1.b
	}
	
	option = {
		name = fin_news.1.h
		trigger = {
			NOT = {
				original_tag = GER
				original_tag = FIN
				original_tag = ENG
				original_tag = SOV
			}
			NOT = { has_government = fascism }
			NOT = { has_government = communism }	
		}
	}

	option = {
		name = fin_news.1.c
		trigger = { original_tag = GER }
	}

	option = {
		name = fin_news.1.e
		trigger = { original_tag = FIN }
	}

	option = {
		name = fin_news.1.f
		trigger = { original_tag = SOV }
	}

	option = {
		name = fin_news.1.g
		trigger = { original_tag = ENG }
	}
	
 }	
 
 #FInland joins axis.
 
news_event = {
	id = fin_news.2
	title = fin_news.2.t
	desc = fin_news.2.d
	picture = GFX_news_event_mannerheim_hitler

	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = fin_news.2.a
		trigger = {
			NOT = {
				tag = GER
				original_tag = FIN
				tag = SOV
			}
		}
	}
	
	option = { 
		name = fin_news.2.b
		trigger = {
			OR = {
				tag = GER 
				original_tag = FIN		
			}
		}
	}
		
	option = { 
		name = fin_news.2.c
		trigger = {
			tag = SOV		
		}
	}
}
 
#Continuation War
news_event = {
	id = fin_news.3
	title = fin_news.3.t
	desc = fin_news.3.d
	picture = GFX_news_event_ryti_radio

	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = fin_news.3.a
		trigger = {
			NOT = {
				original_tag = GER
				original_tag = FIN
				original_tag = SOV
			}	
		}
	}
	
	option = { 
		name = fin_news.3.b
		trigger = {
			OR = {
				original_tag = GER 
				original_tag = FIN				
			}
		}
	}
			
	option = { 
		name = fin_news.3.c
		trigger = {
			original_tag = SOV		
		}
	}	
}
 
	#Birth of the Nordic Defencive Alliance
news_event = {
	id = fin_news.4
	title = fin_news.4.t
	desc = fin_news.4.d
	picture = GFX_news_event_generic_rally_3

	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = fin_news.4.a
		trigger = {
			NOT = {
				original_tag = FIN
			}
		}
	}
	
	option = { 
		name = fin_news.4.b
		trigger = {
			original_tag = FIN		
		}
	}
}
 
	#United Nordics
news_event = {
	id = fin_news.5
	title = fin_news.5.t
	desc = fin_news.5.d
	picture = GFX_news_event_troenderbataljonen_at_skafferhullet_1940

	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = fin_news.5.a
		trigger = {
			NOT = {
				original_tag = FIN
				tag = SCA
			}
		}
	}
	
	option = {
		name = fin_news.5.b
		trigger = {
			OR = {
				original_tag = FIN
				tag = SCA
			}
		}
	}
}

# Options and results are now hard coded to doing focuses. 
# Election of 1937: Svinhufvund vs Kallio
country_event = { #Kallio being leader moved to doing focuses instead of dates fyi
	id = FIN_elections.1
	title = FIN_elections.1.t
	desc = FIN_elections.1.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes

	trigger = {
		tag = FIN
		OR = {
			has_completed_focus = fin_interfoc
			has_completed_focus = fin_comfoc
			has_completed_focus = fin_neutralfoc
			has_completed_focus = fin_nationalismfoc
		}
	}
	
	option = { 	
		name = FIN_elections.1.a
		ai_chance = {
			base = 1
		}
		trigger = {
			OR = {
				has_completed_focus = fin_interfoc
				has_completed_focus = fin_comfoc
			}
		}	
		set_party_name = { ideology = democratic long_name = FIN_kokoomusparty_long name = FIN_kokoomusparty }
		add_popularity = {
			ideology = democratic
			popularity = 0.02
		}
	}

	option = { 
		name = FIN_elections.1.b
		trigger = {
			OR = {
				has_completed_focus = fin_neutralfoc
				has_completed_focus = fin_nationalismfoc
			}
		}	
		ai_chance = {
			base = 1
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.21
		}
		if = {
			limit = {
				has_completed_focus = fin_nationalismfoc
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.06
			}
		}
		
	}
}

# 1940 Kyösti Kallio resigns
country_event = {
	id = FIN_elections.2
	title = FIN_elections.2.t
	desc = FIN_elections.2.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes

	trigger = {
		has_country_leader = {
			character = FIN_kyosti_kallio
			ruling_only = yes
		}
		OR = {
			has_completed_focus = fin_guardfoc #needs to get out of here one way or another by this time 
			date > 1940.12.19 #irl death date 
		}
	}

	
	option = { 	
		name = FIN_elections.2.a
		kill_country_leader = yes
		set_party_name = { ideology = democratic long_name = FIN_edistyspuolue_long name = FIN_edistyspuolue }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
		FIN_risto_heikki_ryti = {
			promote_character = yes
		}
	}
}

#Mannerheim becomes defacto leader/elected
country_event = {
	id = FIN_elections.3
	title = FIN_elections.3.t
	desc = FIN_elections.3.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes 

	trigger = {
		tag = FIN
		OR = {
			AND = {
				has_country_leader = {
					character = FIN_risto_heikki_ryti
					ruling_only = yes
				}
				date > 1944.8.03
			}
			AND = {
				has_country_leader = {
					character = FIN_risto_heikki_ryti
					ruling_only = yes
				}
				OR = {
					has_completed_focus = fin_deffoc
					has_completed_focus = fin_consprictfoc
				}
				OR = {
					SOV = {
						AND = { 
							has_full_control_of_state = 146
							NOT = {
								is_in_faction_with = FIN
							}
						}
					}
					ROOT = {
						OR = {
							has_idea = fin_revenge
							has_country_flag = winterwarlost
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = { days = 30 }
	
	option = {
		ai_chance = {
			base = 1
		}
		name = FIN_elections.3.a
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.14
		}
		add_country_leader_role = {
			Character = FIN_carl_mannerheim
			Promote_leader = yes
			Country_leader = {
		  		ideology = military_junta
				expire = 1965.1.1.1
			  	traits = {
					nationalistic_tendencies fierce_patriot army_connections defacto_leader 
			   	}
				desc = FIN_carl_mannerheim_leader_desc
			}
		}
	}
		
}

country_event = { #removes defacto trait from Mannerheim. 
	id = FIN_elections.4
	title = FIN_elections.4.t
	desc = FIN_elections.4.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes 

	hidden = yes

	trigger = {
		tag = FIN
		has_country_leader = {
			character = FIN_carl_mannerheim
			ruling_only = yes
		}
		date > 1944.8.01
		has_country_leader_with_trait = defacto_leader 
	}
	mean_time_to_happen = {
		days = 365				#don't check every day dude
	}

	option = {
		ai_chance = {
			base = 1
		}
		name = FIN_elections.4.a
		remove_country_leader_trait = defacto_leader 
		hidden_effect = {
			set_country_leader_description = {
				ideology = neutrality
				desc = FIN_carl_mannerheim_leader_clear_desc
			}
		}
	}
}