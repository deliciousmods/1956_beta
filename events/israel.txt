###########################
# R56 events for israel 
###########################

add_namespace = israel


country_event = { # Haganah - Irgun fight
	id = israel.1
	title = israel.1.t
	desc = israel.1.d
	picture = GFX_report_event_isr_altalena
	trigger = {
		TAG = ISR
		has_war = no
		has_completed_focus = ISR_prepare_coup
	}
	mean_time_to_happen = {
		days = 10
	}
	fire_only_once = yes
	option = {
		name = israel.1.a
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
		}
		set_cosmetic_tag = ISR_couped
	}
}
country_event = { #Jabotinsky Dies
	id = israel.2
	title = israel.2.t
	desc = israel.2.d
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	trigger = {
		TAG = ISR
		date > 1940.8.4
		has_country_leader = {
			character = ISR_zeev_jabotinsky
			ruling_only = no
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	
	option = {
		name = israel.2.a
		set_country_flag = ISR_jabotinsky_died
		kill_ideology_leader = neutrality
		promote_character = ISR_menachem_begin
		add_popularity = {
			ideology = neutrality
			popularity = -0.01
		}
		if = {
			limit = {
				has_completed_focus = ISR_cement_five_mems
			}
			complete_national_focus = ISR_begin_takes_over
		}
	}
}
country_event = { #ISR move capital
	id = israel.3
	title = israel.3.t
	desc = israel.3.d
	is_triggered_only = yes
	option = {
		name = israel.3.a
		add_political_power = 50
		ai_chance = {
			factor = 1
		}
		if = {
			limit = {
				has_government = democratic
			}
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
		else_if = {
			limit = {
				has_government = neutrality
			}
			add_popularity = {
				ideology = neutrality
				popularity = -0.075
			}
		}
		else_if = {
			limit = {
				has_government = fascism
			}
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
		}
		else_if = {
			limit = {
				has_government = communism
			}
			add_popularity = {
				ideology = communism
				popularity = -0.025
			}
		}
	}
	option = {
		name = israel.3.b
		ai_chance = {
			factor = 2
			modifier = {
				has_government = neutrality 
				factor = 2
			}
		}
		set_victory_points = {
            province = 1086
            value = 8
        }
		
        set_victory_points = {
            province = 4206
            value = 5
        }	
		set_capital = { state = 1016 }
		add_stability = -0.05
	}
}
country_event = { #Aliyah
	id = israel.4
	title = israel.4.t
	desc = israel.4.d
	is_triggered_only = yes 
	picture = GFX_report_event_MPL_aliyah 
	option = {
		name = israel.4.a
		add_political_power = 50
		custom_effect_tooltip = MPL_warning_aliyah
		swap_ideas = {
			remove_idea = ISR_diaspora_volunteers
			add_idea = ISR_aliyah
		}
		add_ideas = r56i_laws_social_diversity
		#hidden_effect = {
		#	country_event = {
		#		id = israel.16
		#		days = 1000
		#		random_days = 100
		#		random_hours = 24
		#	}
		#}
	}
}
country_event = { #Election
	id = israel.5
	title = israel.5.t
	desc = israel.5.d
	picture = GFX_report_event_isr_elections
	is_triggered_only = yes
	option = {
		name = israel.5.a
		hidden_effect = {
			random = {
				chance = 80
				ISR_set_seats = yes
				random = {
					chance = 80
					ISR_set_seats = yes
					random = {
						chance = 80
						ISR_set_seats = yes
						random = {
							chance = 80
							ISR_set_seats = yes
							random = {
								chance = 80
								ISR_set_seats = yes
								random = {
									chance = 80
									ISR_set_seats = yes
									random = {
										chance = 80
										ISR_set_seats = yes
										random = {
											chance = 80
											ISR_set_seats = yes
										}
									}
								}
							}
						}
					}
				}
			}
			
		}
		ISR_hold_elections = yes
		custom_effect_tooltip = ISR_elections_held
		custom_effect_tooltip = ISR_check_knesset
		unlock_decision_category_tooltip = ISR_knesset_category
	}
}
country_event = { #Hardliners gaining influence
	id = israel.6
	title = israel.6.t
	desc = israel.6.d
	is_triggered_only = yes
	option = {
		name = israel.6.a
		hidden_effect = {
			country_event = {
				id = israel.7
				days = 30
				random_days = 10
				random_hours = 24
			}
		}
	}
	option = {
		name = israel.6.b
		add_political_power = -100
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
}
country_event = { #Hardliners coup
	id = israel.7
	title = israel.7.t
	desc = israel.7.d
	picture = GFX_report_event_generic_army
	is_triggered_only = yes
	option = {
		name = israel.7.a
		kill_ideology_leader = neutrality
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
	}
}
country_event = { #demand jordan
	id = israel.8
	title = israel.8.t
	desc = israel.8.d
	picture = GFX_report_event_generic_army
	is_triggered_only = yes
	option = {
		name = israel.8.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.8
				is_major = no
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0
				TAG = JOR
			}
		}
		effect_tooltip = {
			455 = {
				transfer_state_to = ISR
			}
			if = {
				limit = {
					455 = {
						controller = {
							controls_state = 1021
						}
					}
				}
				1021 = {
					transfer_state_to = ISR
				}
			}
			if = {
				limit = {
					455 = {
						controller = {
							controls_state = 1022
						}
					}
				}
				1022 = {
					transfer_state_to = ISR
				}
			}
		}
		ISR = {
			country_event = { #jordan yes
				id = israel.9
				days = 1
				random_hours = 12
			}
		}
	}
	option = {
		name = israel.8.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.2
				is_major = no
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		ISR = {
			
			country_event = { #jordan no
				id = israel.10
				days = 1
				random_hours = 12
			}
		}
	}
}
country_event = { #jordan yes
	id = israel.9
	title = israel.9.t
	desc = israel.9.d
	is_triggered_only = yes
	option = {
		name = israel.9.a
		if = {
			limit = {
				455 = {
					controller = {
						controls_state = 1021
					}
				}
			}
			1021 = {
				transfer_state_to = ISR
			}
			}
		if = {
			limit = {
				455 = {
					controller = {
						controls_state = 1022
					}
				}
			}
			1022 = {
				transfer_state_to = ISR
			}
		}
		455 = {
			transfer_state_to = ISR
		}
		
	}
}
country_event = {
	id = israel.10
	title = israel.10.t
	desc = israel.10.d
	is_triggered_only = yes
	option = {
		name = israel.10.a
		add_political_power = -50
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
	}
	option = {
		name = israel.10.b
		455 = {
			controller = {
				ISR = {
					create_wargoal = {
						target = PREV
						type = take_claimed_state
					}
				}
			}
		}
		1021 = {
			controller = {
				ISR = {
					create_wargoal = {
						target = PREV
						type = take_claimed_state
					}
				}
			}
		}
		1022 = {
			controller = {
				ISR = {
					create_wargoal = {
						target = PREV
						type = take_claimed_state
					}
				}
			}
		}
	}
}
country_event = { 
	id =  israel.11
	picture = GFX_report_event_generic_soldiers_surrendering
	title = israel.11.t
	desc =  israel.11.d
	is_triggered_only = yes
	fire_only_once = yes
	

	trigger = {	
	}

	option = {
		name = israel.11.a
		ai_chance = { factor = 99 }
		white_peace = ISR
		if = {
			limit = {
				EGY = {
					is_in_faction = yes
				}
			}
			EGY = {
				faction_leader = { 
          			white_peace = ISR
       			}
			}

		}
		ISR = {
			transfer_state = 453
			transfer_state = 995
			if = {
				limit = {
					controls_state = 911
				}
				transfer_state = 911
			}
		}
	}

	option = {
		name = israel.11.b
		ai_chance = { factor = 1 }
		add_stability = -0.1
		add_political_power = -150
	}
}

country_event = { 
	id =  israel.12
	picture = GFX_report_event_generic_soldiers_surrendering
	title = israel.12.t
	desc =  israel.12.d
	is_triggered_only = yes
	fire_only_once = yes
	

	trigger = {	
	}
	option = {
		name = israel.12.a
		ai_chance = { factor = 99 }
		white_peace = ISR
		if = {
			limit = {
				EGY = {
					is_in_faction = yes
				}
			}
			EGY = { 
				faction_leader = { 
        			white_peace = ISR
       			}
			}
		}
		PAL = {
			add_ideas = PAL_loss_in_the_war_for_sinai
		}
	}

	option = {
		name = israel.12.b
		ai_chance = { factor = 1 }
		add_stability = -0.05
		add_political_power = -75
	}
}
country_event = { #Victory
	id = israel.15
	picture = GFX_report_event_isr_victory
	title = israel.15.t
	desc = israel.15.d
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = israel.15.a
		news_event = {
			id = mandate_palestine.208
			days = 1
			random_hours = 12
		}
		country_event = {
			id = israel.4
			days = 10
			random_hours = 24
		}
		if = {
			limit = {
				has_idea = MPL_civil_war_isr
			}
			remove_ideas = MPL_civil_war_isr
			
		}
		if = {
			limit = {
				has_idea = ISR_alei_barikadot
			}
			swap_ideas = {
				remove_idea = ISR_alei_barikadot
				add_idea = ISR_zionist_consensus
			}
		}
		else_if = {
			limit = {
				has_idea = ISR_always_first
			}
			swap_ideas = {
				remove_idea = ISR_always_first
				add_idea = ISR_zionist_consensus
			}
		}
		else = {
			add_ideas = ISR_zionist_consensus
		}
		remove_ideas = MPL_collapse_idea
	}
}
country_event = { #Aliyah tensions ease
	id = israel.16
	picture = GFX_report_event_MPL_aliyah
	title = israel.16.t
	desc = israel.16.d
	is_triggered_only = yes
	trigger = {
		has_idea = ISR_aliyah
	}
	option = {
		name = israel.16.a
		swap_ideas = {
			remove_idea = ISR_aliyah
			add_idea = ISR_aliyah_2
		}
	}
}
country_event = { #PRESIDENT
	id = israel.20
	title = israel.20.t
	
	desc = israel.20.d
	
	is_triggered_only = yes
	option = {
		name = israel.20.a
		add_ideas = ISR_president_weizmann
	}
	option = {
		name = israel.20.b
		add_ideas = ISR_president_ben_zvi
	}
	option = {
		name = israel.20.c
		trigger = {
			has_completed_focus = ISR_national_higher_education
			NOT = {
				has_completed_focus = ISR_gather_irgun
			}
		}
		add_ideas = ISR_president_einstein
	}
}
#country_event = { #EINSTEIN RESIGN
#	id = israel.21
#	title = israel.21.t
#	picture = GFX_report_event_isr_einstein
#	desc = {
#		trigger = {
#			has_completed_focus = ISR_work_with_religious
#		}
#		text = israel.21.d.a 
#	}
#	desc = {
#		text = israel.21.d.b
#	}
#	fire_only_once = yes	#prevents false positive error
#	trigger = {
#		TAG = ISR
#		has_idea = ISR_president_einstein
#		OR = {
#			has_completed_focus = ISR_work_with_religious
#			has_completed_focus = ISR_hatzohar
#		}
#	}
#	option = {
#		name = israel.21.a
#		swap_ideas = {
#			remove_idea = ISR_president_einstein
#			add_idea = ISR_president_weizmann
#		}
#	}
#}

country_event = {
	id = israel.22
	title = israel.22.t
	desc = {
		trigger = {
			tag = ISR
		}
		text = israel.22.d.a
	}
	desc = {
		trigger = {
			NOT = {
				tag = ISR
			}
		}
		text = israel.22.d.b
	}
	picture = GFX_report_event_isr_jerusalem
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				TAG = ISR
			}
			hidden_effect = {
				JOR = {
					country_event = israel.22
				}
			}
		}
	}
	option = {
		name = israel.22.a
		if = {
			limit = {
				TAG = ISR
			}
			add_opinion_modifier = {
				target = JOR
				modifier = small_increase
			}
			JOR = {
				add_opinion_modifier = {
					target = ISR
					modifier = small_increase
				}
			}
			set_truce = {
				target = JOR
				days = 550
			}
		}
		else = {
			effect_tooltip = {
				add_opinion_modifier = {
					target = ISR
					modifier = small_increase
				}
				ISR = {
					add_opinion_modifier = {
						target = JOR
						modifier = small_increase
					}
				}
				set_truce = {
					target = ISR
					days = 550
				}
			}
		}
	}
}

country_event = {
	id = israel.23
	title = israel.23.t
	desc = israel.23.d
	is_triggered_only = yes
	picture = GFX_report_event_isr_herzl
	option = {
		name = israel.23.a
		add_political_power = -20
		add_popularity = {
			ideology = ISR
			popularity = 0.05
		}
		4 = {
			controller = {
				country_event = {
					id = israel.24
					days = 1 
					random_hours = 12
				}
			}
		}
	}
	option = {
		name = israel.23.b
		add_popularity = {
			ideology = ISR
			popularity = -0.05
		}
	}
}
country_event = {
	id = israel.24
	title = israel.24.t
	desc = israel.24.d
	is_triggered_only = yes
	option = {
		name = israel.24.a
		ISR = {
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase
			}
		}
		save_event_target_as = ISR_herzl_event_target
		ISR = {
			country_event = {
				id = israel.25
				days = 1 
				random_hours = 12
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				is_ally_with = ISR
				factor = 100
			}
			modifier = {
				has_government = ISR
				factor = 2
			}
			modifier = {
				has_government = democratic
				factor = 90
			}
			modifier = {
				has_government = communism
				factor = 80
			}
			modifier = {
				has_government = neutrality
				factor = 50
			}
			modifier = {
				has_government = fascism
				factor = 10
			}
			modifier = {
				TAG = GER
				has_government = fascism
				NOT = {
					is_ally_with = ISR
				}
				factor = 0
			}
		}
	}
	option = {
		name = israel.24.b
		ai_chance = {
			factor = 1
			modifier = {
				is_ally_with = ISR
				factor = 0
			}
			modifier = {
				has_government = ISR
				factor = 0.666
			}
			modifier = {
				has_government = democratic
				factor = 10
			}
			modifier = {
				has_government = communism
				factor = 20
			}
			modifier = {
				has_government = neutrality
				factor = 50
			}
			modifier = {
				has_government = fascism
				factor = 90
			}
			modifier = {
				TAG = GER
				has_government = fascism
				NOT = {
					is_ally_with = ISR
				}
				factor = 100
			}
		}
		add_political_power = -30
		ISR = {
			add_opinion_modifier = {
				target = ROOT
				modifier = large_decrease
			}
		}
		save_event_target_as = ISR_herzl_event_target
		ISR = {
			country_event = {
				id = israel.26
				days = 1 
				random_hours = 12
			}
		}
	}
}
country_event = {
	id = israel.25
	title = israel.25.t
	desc = {
		trigger = {
			controls_state = 1016
		}
		text = israel.25.d.a
	}
	desc = {
		text = israel.25.d.b
	}
	picture = GFX_report_event_isr_herzl_body
	is_triggered_only = yes
	option = {
		name = israel.25.a
		add_political_power = 25
		effect_tooltip = {
			add_opinion_modifier = {
				target = AUS
				modifier = large_increase
			}
		}
	}
}
country_event = {
	id = israel.26
	title = israel.26.t
	desc = israel.26.d
	is_triggered_only = yes
	option = {
		name = israel.26.a
		effect_tooltip = {
			add_opinion_modifier = {
				target = AUS
				modifier = large_decrease
			}
		}
	}
}

country_event = {
	id = israel.27
	title = israel.27.t
	desc = israel.27.d
	is_triggered_only = yes
	picture = GFX_report_event_isr_nakba
	option = {
		name = israel.27.a
		if = {
			limit = {
				controls_state = 454
			}
			454 = {
				add_manpower = -55000
			}
		}
		if = {
			limit = {
				controls_state = 1016
			}
			1016 = {
				add_manpower = -25000
			}
		}
		if = {
			limit = {
				controls_state = 949
			}
			949 = {
				add_manpower = -10000
			}
		}
		if = {
			limit = {
				controls_state = 966
			}
			966 = {
				add_manpower = -100000
			}
		}
	}
}
country_event = {
	id = israel.30
	title = israel.30.t
	desc = israel.30.d
	is_triggered_only = yes
	option = {
		name = israel.30.a
		set_country_flag = ISR_holding_west_bank_elections
		custom_effect_tooltip = ISR_marginally_strengthen_mapai
		custom_effect_tooltip = ISR_moderately_strengthen_hashomer
		custom_effect_tooltip = ISR_significantly_strengthen_maki
		add_to_variable = {
			ISR_maki_max_seats = 5
		}
		add_to_variable = {
			ISR_maki_min_seats = 5
		}
		add_to_variable = {
			ISR_hashomer_max_seats = 3
		}
		add_to_variable = {
			ISR_hashomer_min_seats = 3
		}
		add_to_variable = {
			ISR_mapai_max_seats = 2
		}
		add_to_variable = {
			ISR_mapai_min_seats = 2
		}
	}
	option = {
		name = israel.30.b
		custom_effect_tooltip = ISR_marginally_strengthen_general
		custom_effect_tooltip = ISR_moderately_strengthen_hatzohar
		add_to_variable = {
			ISR_hatzohar_max_seats = 3
		}
		add_to_variable = {
			ISR_hatzohar_min_seats = 5
		}
	}
}
country_event = {
	id = israel.31
	title = israel.31.t
	desc = israel.31.d
	is_triggered_only = yes
	option = {
		name = israel.31.a
		set_country_flag = ISR_ben_gurion_retired
		complete_national_focus = ISR_sharett_takes_over
		effect_tooltip = {
			retire_country_leader = yes
			promote_character = ISR_moshe_sharett
		}
	}
	option = {
		name = israel.31.b
		set_country_flag = ISR_ben_gurion_stayed
		complete_national_focus = ISR_ben_gurion_stays
		effect_tooltip = {
			ISR_david_ben_gurion = {
				add_country_leader_trait = ISR_the_great_father
			}
		}

	}
}
country_event = { #suez crisis
	id = israel.40
	title = israel.40.t
	desc = israel.40.d
	fire_only_once = yes
	trigger = {
		TAG = EGY
		ISR = {
			exists = yes
		}
		is_neighbor_of = ISR
		owns_state = 995
		controls_state = 995
	}
	picture = GFX_report_event_EGY_suez_attacked
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = israel.40.a
		add_political_power = 50
		add_popularity = {
			ideology = EGY 
			popularity = 0.05
		}
		ISR = {
			add_opinion_modifier = {
				target = EGY
				modifier = large_decrease
			}
		}
		ISR = {
			country_event = {
				id = israel.41
				days = 1 
				random_hours = 12
			}
		}
		set_country_flag = ISR_egypt_blockaded_suez
		custom_effect_tooltip = ISR_war_israel_maybe
	}
	option = {
		ai_chance = {
			factor = 0
		}
		name = israel.40.b
	}
}
country_event = {
	id = israel.41
	title = israel.41.t
	desc = israel.41.d
	is_triggered_only = yes
	picture = GFX_report_event_EGY_suez_attacked
	option = {
		name = israel.41.a
		custom_effect_tooltip = ISR_suez_blocked
		set_country_flag = ISR_suez_crisis_flag
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = ISR_suez_crisis
	}
}
news_event = {
	id = israel.42
	title = israel.42.t
	desc = israel.42.d
	picture = GFX_news_event_isr_sinai
	major = yes
	is_triggered_only = yes
	option = {
		name = israel.42.a
	}
}