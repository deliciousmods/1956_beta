add_namespace = nippon_events

#puyi coronation
country_event = {
	id = nippon_events.11
	title = nippon_events.11.t
	desc = nippon_events.11.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	
	option = {
		name = nippon_events.11.a
		ai_chance = {
			factor = 80
		}
		JAP = {
			declare_war_on = {
				target = MAN
				type = puppet_wargoal_focus
			}
		}
	}
	
	option = {
		ai_chance = {
			factor = 20
		}
		name = nippon_events.11.b
		add_political_power = -250
		add_stability = -0.1
	}
}

#seek support independence
country_event = {
	id = nippon_events.13
	title = nippon_events.13.t
	desc = nippon_events.13.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	option = {
		name = nippon_events.13.a
		ai_chance = {
			factor = 30
			modifier = {
				is_historical_focus_on = no
				factor = 45
			}
		}
		FROM = {
			country_event = { id = nippon_events.14 }
			set_country_flag = independence_supported
		}
	}
	
	option = {
		name = nippon_events.13.b
		ai_chance = {
			factor = 70
			modifier = {
				is_historical_focus_on = no
				factor = 55
			}
		}
		FROM = {
			country_event = { id = nippon_events.15 }
		}
	}
}
#seek support independence - yes
country_event = {
	id = nippon_events.14
	title = nippon_events.14.t
	desc = nippon_events.14.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						tag = SOV
					}
				}
				add_ideas = MAN_communist_influence
			}
			if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				add_ideas = MAN_democratic_influence
			}
			FROM = {
				give_guarantee = MAN
			}
		}
	}
	
	option = {
		name = nippon_events.14.a
		effect_tooltip = {
			if = {
				limit = {
					FROM = {
						tag = SOV
					}
				}
				add_ideas = MAN_communist_influence
			}
			if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				add_ideas = MAN_democratic_influence
			}
			FROM = {
				give_guarantee = MAN
			}
		}
	}
}

#seek support independence - no
country_event = {
	id = nippon_events.15
	title = nippon_events.15.t
	desc = nippon_events.15.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	option = {
		name = nippon_events.15.a
	}
}
#mck wants us to act now
country_event = {
	id = nippon_events.16
	title = nippon_events.16.t
	desc = nippon_events.16.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = nippon_events.16.a
		ai_chance = {
			factor = 90
		}
		JAP = {
			country_event = { id = nippon_events.17 days = 1 }
		}
	}
	
	option = {
		name = nippon_events.16.b
		ai_chance = {
			factor = 10
		}
		#MAN = {
		#	country_event = { id = nippon_events.18 days = 1 }
		#}
	}
	
	option = {
		name = nippon_events.16.c
		ai_chance = {
			factor = 0
		}
		declare_war_on = {
			target = JAP
			type = puppet_wargoal_focus
		}
	}
}
#usa ultimatum
country_event = {
	id = nippon_events.17
	title = nippon_events.17.t
	desc = nippon_events.17.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = nippon_events.17.a
		set_global_flag = JAP_grant_MAN_independence
		ai_chance = {
			factor = 10
		}
		end_puppet = MAN
		hidden_effect = {
			USA = {
				puppet = MAN
				end_puppet = MAN
			}
		}
		USA = {
			country_event = { id = nippon_events.19 }
		}
		MAN = {
			country_event = { id = nippon_events.20 }
			hidden_effect = {
				if = {
					limit = {
						has_idea = MAN_dongbei_partisan
					}
					remove_ideas = MAN_dongbei_partisan
				}
				if = {
					limit = {
						has_idea = MAN_dongbei_partisan_pacified
					}
					remove_ideas = MAN_dongbei_partisan_pacified
				}
			}
		}
	}
	
	option = {
		name = nippon_events.17.b
		ai_chance = {
			factor = 90
		}
		USA = {
			country_event = { id = nippon_events.21 }
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
}
#jap release mck
country_event = {
	id = nippon_events.19
	title = nippon_events.19.t
	desc = nippon_events.19.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = nippon_events.19.a
	}
}

#jap release us
country_event = {
	id = nippon_events.20
	title = nippon_events.20.t
	desc = nippon_events.20.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = nippon_events.20.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			every_other_country = {
				limit = {
					has_war_with = MAN
				}
				white_peace = MAN
			}
		}
	}
}

#jap refuses, declare war
country_event = {
	id = nippon_events.21
	title = nippon_events.21.t
	desc = nippon_events.21.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
	
	option = {
		name = nippon_events.21.a
		effect_tooltip = {
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
}

#join usa!
country_event = {
	id = nippon_events.22
	title = nippon_events.22.t
	desc = nippon_events.22.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			JAP = {
				country_event = { id = nippon_events.23 }
			}
		}
	}
	option = {
		name = nippon_events.22.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			add_to_war = {
				targeted_alliance = USA
				enemy = JAP
			}
		}
	}
}

#mck joined usa!
country_event = {
	id = nippon_events.23
	title = nippon_events.23.t
	desc = nippon_events.23.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	option = {
		name = nippon_events.23.a
		effect_tooltip = {
			end_puppet = MAN
			MAN = {
				add_to_war = {
					targeted_alliance = USA
					enemy = JAP
				}
			}
		}
	}
}

#become qing vassal?
country_event = {
	id = nippon_events.28
	title = nippon_events.28.t
	desc = nippon_events.28.d
	
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.28.a
		ai_chance = { 
			factor = 100	
			modifier = {
				MAN = {
					any_war_score < 0.3
				}
				factor = 50
			}
			modifier = {
				is_in_faction = yes
				factor = 20
			}
		}
		MAN = {
			puppet = ROOT
			country_event = { id = nippon_events.29 }
		}
		if = {
			limit = {
				ROOT = { tag = SIA }
			}
			add_state_core = 741
			add_state_core = 670
			add_state_core = 640
		}
	}
	
	option = {
		name = nippon_events.28.b
		MAN = {
			country_event = { id = nippon_events.30 }
			create_wargoal = {
				target = ROOT
				type = puppet_wargoal_focus
			}
		}
		add_stability = 0.05
	}
}

#yes
country_event = {
	id = nippon_events.29
	title = nippon_events.29.t
	desc = nippon_events.29.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.29.a
		effect_tooltip = {
			puppet = FROM
		}
	}
	
	option = {
		name = nippon_events.29.b
		trigger = {
			any_state = {
				is_core_of = MAN
				is_owned_by = FROM
			}
		}
		annex_country = {
			target = FROM
			transfer_troops = yes
		}
	}
}

#no
country_event = {
	id = nippon_events.30
	title = nippon_events.30.t
	desc = nippon_events.30.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.30.a
		effect_tooltip = {
			create_wargoal = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
	}
}

# Manchukuo requests Kanto Shu
country_event = {
	id = nippon_events.31
	title = nippon_events.31.t
	desc = nippon_events.31.d
	picture = GFX_report_event_generic_read_write
	 
	is_triggered_only = yes
	
	option = {
		name = nippon_events.31.a
		ai_chance = { 
		base = 5
		modifier = {
				has_opinion = { target = MAN value > 75 }
				factor = 5.0
			}
		}
		MAN = {
			transfer_state = 745
			country_event = { hours = 2 id = nippon_events.32 }
		}
	}
	option = {
		name = nippon_events.31.b
		ai_chance = { base = 5 }	
		MAN = {
			country_event = { hours = 2 id = nippon_events.32 }
		}
	}
}
# Manchukuo receives Kanto Shu
country_event = {
	id = nippon_events.32
	title = nippon_events.32.t
	desc = nippon_events.32.d
	picture = GFX_report_event_generic_read_write
	 
	is_triggered_only = yes
	
	option = {
		name = nippon_events.32.a
	}
}

# Manchukuo cannot have Kanto Shu
country_event = {
	id = nippon_events.33
	title = nippon_events.33.t
	desc = nippon_events.33.d
	picture = GFX_report_event_generic_read_write
	 
	is_triggered_only = yes
	
	option = {
		name = nippon_events.33.a
	}
}

#naval expansion permission
country_event = {
	id = nippon_events.34
	title = nippon_events.34.t
	desc = nippon_events.34.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.31.a
		MAN = {
			country_event = { id = nippon_events.35 }
		}
	}
	
	option = {
		name = nippon_events.31.b
		MAN = {
			country_event = { id = nippon_events.36 }
		}
	}
}

#naval expansion permission yes
country_event = {
	id = nippon_events.35
	title = nippon_events.35.t
	desc = nippon_events.35.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.35.a
		set_country_flag = MAN_navy_allowed
	}
}

#naval expansion permission no
country_event = {
	id = nippon_events.36
	title = nippon_events.36.t
	desc = nippon_events.36.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.36.a
	}
}

#xuantung restoration - 1
country_event = {
	id = nippon_events.37
	title = nippon_events.37.t
	desc = nippon_events.37.d
	
	picture = GFX_report_event_generic_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.1
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				set_state_flag = MAN_xt_1
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_1
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
}

#xuantung restoration - 2
country_event = {
	id = nippon_events.38
	title = nippon_events.37.t
	desc = nippon_events.38.d
	
	picture = GFX_report_event_generic_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.2
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_2
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_1
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
}

#xuantung restoration - 3
country_event = {
	id = nippon_events.39
	title = nippon_events.37.t
	desc = nippon_events.39.d
	
	picture = GFX_report_event_generic_research_lab
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.3
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_xt_3_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = MAN_xt_3_af
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_3_ic
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_3_af
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}
}

#xuantung restoration - 4
country_event = {
	id = nippon_events.40
	title = nippon_events.40.t
	desc = nippon_events.40.d
	
	picture = GFX_report_event_generic_lend_lease
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.4
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = MAN_xt_4_1
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_xt_4_2
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_4_1
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_4_2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}
}

#xuantung restoration - 5
country_event = {
	id = nippon_events.41
	title = nippon_events.40.t
	desc = nippon_events.41.d
	
	picture = GFX_report_event_british_artillery
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.5
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = MAN_xt_5_af
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_xt_5_dy
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_5_af
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_5_dy
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_xt_5_dy
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
	}
}

#xuantung restoration - 6
country_event = {
	id = nippon_events.42
	title = nippon_events.42.t
	desc = nippon_events.42.d
	
	picture = GFX_report_event_destroyers
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.6
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = dockyard
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_6
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_6
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = dockyard
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_6
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
}

#xuantung restoration - 7
country_event = {
	id = nippon_events.43
	title = nippon_events.43.t
	desc = nippon_events.43.d
	
	picture = GFX_report_event_ast_navy
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.7
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = MAN_xt_7_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_xt_7_ab
			}
			add_doctrine_cost_reduction = {
				name = SPR_navy_modernization
				cost_reduction = 0.25
				uses = 1
				category = naval_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SPR_navy_modernization
				cost_reduction = 0.25
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_7_dy
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_7_ab
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = SPR_navy_modernization
				cost_reduction = 0.25
				uses = 1
				category = naval_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SPR_navy_modernization
				cost_reduction = 0.25
				uses = 1
				category = air_doctrine
			}
		}
	}
}

#xuantung restoration - 8
country_event = {
	id = nippon_events.44
	title = nippon_events.43.t
	desc = nippon_events.44.d
	
	picture = GFX_report_event_airplane_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.8
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_8_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_8_ab_1
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_8_ab_2
			}
			add_tech_bonus = {
				name = air_bonus
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_8_ic
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_8_ab_1
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_8_ab_2
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = air_bonus
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
}

#xuantung restoration - 9
country_event = {
	id = nippon_events.45
	title = nippon_events.45.t
	desc = nippon_events.45.d
	
	picture = GFX_report_event_physics_lab_01
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.9
			focus = MAN_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_9_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_9_af
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_9_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_9_ab
			}
			if = {
				limit = {
					618 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 13
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 16
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 19
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 22
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 25
						state = 618
					}
				}
			}
			if = {
				limit = {
					617 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 617
					}
				}
			}
			if = {
				limit = {
					619 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 619
					}
				}
			}
			if = {
				limit = {
					287 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 287
					}
				}
			}
			if = {
				limit = {
					714 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 18
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 26
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 34
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 42
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 50
						state = 714
					}
				}
			}
			if = {
				limit = {
					amount_research_slots < 6
				}
				add_research_slot = 1
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_9_ic
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_9_af
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_9_dy
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_9_ab
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			if = {
				limit = {
					618 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 13
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 16
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 19
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 22
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 25
						state = 618
					}
				}
			}
			if = {
				limit = {
					617 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 617
					}
				}
			}
			if = {
				limit = {
					619 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 619
					}
				}
			}
			if = {
				limit = {
					287 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 287
					}
				}
			}
			if = {
				limit = {
					714 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 18
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 26
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 34
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 42
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 50
						state = 714
					}
				}
			}
			if = {
				limit = {
					amount_research_slots < 6
				}
				add_research_slot = 1
			}
		}
	}
}

#xuantung restoration - 10
country_event = {
	id = nippon_events.46
	title = nippon_events.46.t
	desc = nippon_events.45.d
	
	picture = GFX_report_event_physics_lab_02
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_10_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_10_af
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_xt_10_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MAN_xt_10_ab
			}
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 4
				category = industry
				category = electronics
				category = infantry_weapons
				category = artillery
				category = naval_equipment
				category = air_equipment
			}
			if = {
				limit = {
					609 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}			
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					328 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}			
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					717 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 12
						state = 717
					}
				}
			}
			if = {
				limit = {
					605 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 10
					state = 605
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 605
				}
				add_resource = {
					type = aluminium
					amount = 10
					state = 605
				}
			}
			if = {
				limit = {
					603 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 5
					state = 603
				}
				add_resource = {
					type = aluminium
					amount = 3
					state = 603
				}
			}
			if = {
				limit = {
					620 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 15
					state = 620
				}
			}
			if = {
				limit = {
					602 = {
						is_owned_by = ROOT
					}
				}
				add_resource = {
					type = tungsten
					amount = 4
					state = 602
				}
			}
			if = {
				limit = {
					616 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					604 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = aluminium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 10
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = aluminium
						amount = 15
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 20
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 25
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = aluminium
						amount = 30
						state = 715
					}
				}
			}
			if = {
				limit = {
					amount_research_slots < 6
				}
				add_research_slot = 1
			}
		}
	}
	
	option = {
		name = nippon_events.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_xt_10_ic
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_10_af
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_10_dy
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MAN_xt_10_ab
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 4
				category = industry
				category = electronics
				category = infantry_weapons
				category = artillery
				category = naval_equipment
				category = air_equipment
			}
			if = {
				limit = {
					609 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}			
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					328 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}			
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					717 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 12
						state = 717
					}
				}
			}
			if = {
				limit = {
					605 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 10
					state = 605
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 605
				}
				add_resource = {
					type = aluminium
					amount = 10
					state = 605
				}
			}
			if = {
				limit = {
					603 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 5
					state = 603
				}
				add_resource = {
					type = aluminium
					amount = 3
					state = 603
				}
			}
			if = {
				limit = {
					620 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 15
					state = 620
				}
			}
			if = {
				limit = {
					602 = {
						is_owned_by = ROOT
					}
				}
				add_resource = {
					type = tungsten
					amount = 4
					state = 602
				}
			}
			if = {
				limit = {
					616 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					604 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = aluminium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 10
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = aluminium
						amount = 15
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 20
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 25
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = aluminium
						amount = 30
						state = 715
					}
				}
			}
			if = {
				limit = {
					amount_research_slots < 6
				}
				add_research_slot = 1
			}
		}
	}
}
#mck independence war send ultimatum
country_event = {
	id = nippon_events.52
	title = nippon_events.52.t
	desc = nippon_events.52.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	trigger = {
		MAN = {
			has_war_with = JAP
			is_in_faction = no
		}
		AND = {
			608 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			609 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			611 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			612 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}		
			610 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			716 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			328 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			717 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			715 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			714 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			527 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			525 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			917 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			918 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			919 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			920 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
		}
		tag = MAN
	}
	
	mean_time_to_happen = { days = 200 }
	
	fire_only_once = yes
	
	option = {
		ai_chance = {
			factor = 100
		}
		name = nippon_events.52.a
		JAP = {
			country_event = { id = nippon_events.53 }
		}
	}
	
	option = {
		name = nippon_events.52.b
	}
}

#mck independence war ultimatum
country_event = {
	id = nippon_events.53
	title = nippon_events.53.t
	desc = nippon_events.53.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 75
			modifier = {
				any_other_country = {
					is_major = yes
					has_war_with = JAP
				}
				factor = 95
			}
		}
		name = nippon_events.53.a
		effect_tooltip = {
			white_peace = MAN
		}
		MAN = {
			custom_effect_tooltip = MAN_independence_yes_tt
		}
		MAN = {
			country_event = { id = nippon_events.54 }
		}
	}
	
	option = {
		ai_chance = {
			factor = 25
			modifier = {
				any_other_country = {
					is_major = yes
					has_war_with = JAP
				}
				factor = 5
			}
		}
		name = nippon_events.53.b
		MAN = {
			country_event = { id = nippon_events.55 }
		}
	}
}

#mck independence war ultimatum - yes
country_event = {
	id = nippon_events.54
	title = nippon_events.54.t
	desc = nippon_events.54.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					MEN = { 
						exists = yes 
						NOT = {
							is_puppet_of = CHI
						}
					}
				}
				annex_country = {
					target = MEN
					transfer_troops = no
				}
			}
			if = {
				limit = {
					PGR = { exists = yes }
				}
				annex_country = {
					target = PGR
					transfer_troops = no
				}
			}
			every_state = {
				limit = {
					OR = {
						region = 155
						region = 143
					}
					owner = {
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
					}
				}
				ROOT = {
					transfer_state = PREV
				}
			}
			JAP = {
				white_peace = PREV
			}
		}
	}
	
	option = {
		name = nippon_events.54.b
		effect_tooltip = {
			white_peace = JAP
			custom_effect_tooltip = MAN_independence_yes_tt
		}
	}
}

#mck independence war ultimatum - no
country_event = {
	id = nippon_events.55
	title = nippon_events.55.t
	desc = nippon_events.55.d
	
	picture = GFX_report_event_japanese_officers
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.55.b
	}
}

#mck changed government
country_event = {
	id = nippon_events.57
	title = nippon_events.57.t
	desc = nippon_events.57.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.57.a
		MAN = {
			country_event = { id = nippon_events.58 }
		}
	}
	
	option = {
		name = nippon_events.57.b
	}
}

#jap demand our annexation
country_event = {
	id = nippon_events.58
	title = nippon_events.58.t
	desc = nippon_events.58.d
	
	picture = GFX_report_event_japanese_siam_politicians
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.58.a
		JAP = {
			end_puppet = MAN
		}
		hidden_effect = {
			if = {
				limit = {
					has_war_together_with = FROM
				}
				country_event = { id = wd.1 }
			}
			if = {
				limit = {
					has_idea = MAN_communist_influence
				}
				set_politics = {
					ruling_party = communism
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.10
				}
				add_popularity = {
					ideology = communism
					popularity = 0.85
				}
				SOV = {
					give_guarantee = MAN
				}
			}
			if = {
				limit = {
					has_idea = MAN_democratic_influence
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_political_party = {
					ideology = communism
					popularity = 0
				}
				set_political_party = {
					ideology = fascism
					popularity = 5
				}
				set_political_party = {
					ideology = neutrality
					popularity = 20
				}
				set_political_party = {
					ideology = democratic
					popularity = 80
				}
				USA = {
					give_guarantee = MAN
				}
			}
		}
		JAP = {
			country_event = { id = nippon_events.59 }
			create_wargoal = {
				target = MAN
				type = annex_everything
			}
		}
	}
	
	option = {
		name = nippon_events.58.b
		FROM = {
			country_event = { id = nippon_events.60 }
			effect_tooltip = {
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
		}
	}
}

#mck break free
country_event = {
	id = nippon_events.59
	title = nippon_events.59.t
	desc = nippon_events.59.d
	
	picture = GFX_report_event_chinese_soldiers_01
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.58.a
		effect_tooltip = {
			end_puppet = MAN
			create_wargoal = {
				target = MAN
				type = annex_everything
			}
		}
	}
}

#mck annexed
country_event = {
	id = nippon_events.60
	title = nippon_events.60.t
	desc = nippon_events.60.d
	
	picture = GFX_report_event_japanese_parade
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.60.a
		annex_country = {
			target = MAN
			transfer_troops = yes
		}
	}
}

#join usa!
country_event = {
	id = nippon_events.61
	title = nippon_events.22.t
	desc = nippon_events.22.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	trigger = {
		tag = MAN
		USA = {
			has_war_with = JAP
		}
		is_puppet_of = JAP
		has_global_flag = MAN_will_join_usa
	}
	
	immediate = {
		hidden_effect = {
			MAN = {
				overlord = {
					set_autonomy = {
						target = MAN
						autonomy_state = autonomy_free
					}
				}
			}
			USA = {
				set_autonomy = {
					target = MAN
					autonomy_state = autonomy_puppet
				}
				set_autonomy = {
					target = MAN
					autonomy_state = autonomy_free
				}
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = mck_liberate
					add_to_faction = MAN
					else = {
						random_country = {
							limit = {
								OR = {
									is_in_faction_with = USA
									tag = USA
								}
								is_faction_leader = yes
							}
							add_to_faction = MAN
						}
					}
				}
			}
			MAN = {
				declare_war_on = { 
				target = JAP 
				type = puppet_wargoal_focus }
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_political_party = {
					ideology = communism
					popularity = 0
				}
				set_political_party = {
					ideology = fascism
					popularity = 5
				}
				set_political_party = {
					ideology = neutrality
					popularity = 20
				}
				set_political_party = {
					ideology = democratic
					popularity = 80
				}
				add_to_war = {
					targeted_alliance = USA
					enemy = JAP
				}
				if = {
					limit = {
						has_idea = MAN_dongbei_partisan
					}
					remove_ideas = MAN_dongbei_partisan
				}
				if = {
					limit = {
						has_idea = MAN_dongbei_partisan_pacified
					}
					remove_ideas = MAN_dongbei_partisan_pacified
				}
			}
			JAP = {
				country_event = { id = nippon_events.23 }
			}
		}
	}
	
	option = {
		name = nippon_events.22.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			add_to_war = {
				targeted_alliance = USA
				enemy = JAP
			}
		}
	}
}
country_event = {
	id = nippon_events.80
	title = nippon_events.80.t
	desc = nippon_events.80.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.80.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.02
		}
		add_stability = 0.01
		add_political_power = 50
	}
	
	option = {
		name = nippon_events.80.b
		add_political_power = -25
		add_stability = -0.01
	}
}

#schools teaching restorationist ideology
country_event = {
	id = nippon_events.81
	title = nippon_events.81.t
	desc = nippon_events.81.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		NOT = {
			has_idea = MAN_neutrality_school
		}
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.81.a
		add_timed_idea = {
			days = 30
			idea = MAN_neutrality_school
		}
	}
	
	option = {
		name = nippon_events.81.b
		add_stability = -0.02
	}
}

#anti-jap assembly
country_event = {
	id = nippon_events.82
	title = nippon_events.82.t
	desc = nippon_events.82.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.82.a
		add_popularity = {
			ideology = fascism
			popularity = -0.02
		}
	}
	
	option = {
		name = nippon_events.82.b
		add_political_power = -75
	}
}

#som politicians openly criticise japanese
country_event = {
	id = nippon_events.83
	title = nippon_events.83.t
	desc = nippon_events.83.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
		has_japanese_officials_in_gov = yes
		NOT = {
			has_idea = MAN_reduced_jap_influence
			has_country_flag = no_ban_on_jap
		}
	}
	
	mean_time_to_happen = { days = 250 }
	
	option = {
		name = nippon_events.83.a
		set_country_flag = no_jap_officials
		add_popularity = {
			ideology = fascism
			popularity = -0.06
		}
		add_timed_idea = {
			idea = MAN_reduced_jap_influence
			days = 150
		}
		add_political_power = 300
	}
	
	option = {
		name = nippon_events.83.b
		add_political_power = -50
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			add_autonomy_ratio = {
				value = -0.05
			}
		}
	}
}

#military_dislike
country_event = {
	id = nippon_events.84
	title = nippon_events.84.t
	desc = nippon_events.84.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
		has_japanese_officials_in_mili = yes
		NOT = {
			has_idea = MAN_court_martialed_patriotic_men
			has_country_flag = no_ban_on_jap
		}
	}
	
	mean_time_to_happen = { days = 250 }
	
	option = {
		name = nippon_events.84.a
		set_country_flag = no_jap_mili_officials
		add_popularity = {
			ideology = fascism
			popularity = -0.16
		}
		add_political_power = 550
		add_timed_idea = {
			idea = MAN_nationalism_military
			days = 300
		}
	}
	
	option = {
		name = nippon_events.84.b
		add_political_power = -50
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_timed_idea = {
			idea = MAN_court_martialed_patriotic_men
			days = 60
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			add_autonomy_ratio = {
				value = -0.05
			}
		}
	}
}

#jap killed
country_event = {
	id = nippon_events.85
	title = nippon_events.85.t
	desc = nippon_events.85.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.85.a
		add_popularity = {
			ideology = fascism
			popularity = -0.02
		}
	}
	
	option = {
		name = nippon_events.85.b
		add_political_power = -100
	}
}

#anti-nippon_events.guerilla
country_event = {
	id = nippon_events.87
	title = nippon_events.87.t
	desc = nippon_events.87.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
		neutrality > 0.29
		NOT = {
			has_idea = MAN_halt_guerilla_expansion
		}
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.87.a
		add_popularity = {
			ideology = fascism
			popularity = -0.02
		}
	}
	
	option = {
		name = nippon_events.87.b
		add_political_power = -15
		add_timed_idea = {
			idea = MAN_halt_guerilla_expansion
			days = 30
		}
	}
}

#vandalism against jap
country_event = {
	id = nippon_events.88
	title = nippon_events.88.t
	desc = nippon_events.88.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		neutrality > 0.24
		NOT = {
			has_idea = MAN_faster_repair
		}
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.85.a
		add_popularity = {
			ideology = fascism
			popularity = -0.02
		}
	}
	
	option = {
		name = nippon_events.88.b
		add_political_power = -50
		add_timed_idea = {
			idea = MAN_faster_repair
			days = 30
		}
	}
}

#ambitious plan
country_event = {
	id = nippon_events.89
	title = nippon_events.89.t
	desc = nippon_events.89.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			is_puppet = yes
		}
		has_country_flag = neutral_path
		NOT = {
			has_idea = MAN_confidentiality_first
		}
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.89.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
	}
	
	option = {
		name = nippon_events.89.b
		add_timed_idea = {
			idea = MAN_confidentiality_first
			days = 30
		}
	}
}

################################## 1 ######################################

#leaflet guy caught
country_event = {
	id = nippon_events.90
	title = nippon_events.90.t
	desc = nippon_events.90.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		neutrality > 0.10
		MAN = {
			neutrality > 0.10
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_rest_propa_flag
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.90.a
		random_list = {
			30 = {
				custom_effect_tooltip = MAN_nothing_tt
			}
			5 = {
				add_popularity = {
					ideology = neutrality
					popularity = 0.01
				}
			}
		}
	}
	
	option = {
		name = nippon_events.90.b
		add_political_power = -30
	}
}

#potential whistleblower
country_event = {
	id = nippon_events.91
	title = nippon_events.91.t
	desc = nippon_events.91.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.10
			is_puppet = yes
		}
		has_country_flag = neutral_path
	}
	
	mean_time_to_happen = { days = 300 }
	
	option = {
		name = nippon_events.91.a
		random_list = {
			45 = {
				custom_effect_tooltip = MAN_nothing_tt
			}
			55 = {
				add_political_power = 50
			}
		}
	}
	
	option = {
		name = nippon_events.91.b
		add_political_power = -50
	}
}

#secret meeting busted
country_event = {
	id = nippon_events.92
	title = nippon_events.92.t
	desc = nippon_events.92.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.10
			is_puppet = yes
		}
		has_country_flag = neutral_path
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.92.a
		add_political_power = -10
		add_popularity = {
			ideology = neutrality
			popularity = 0.02
		}
	}
	
	option = {
		name = nippon_events.92.b
		add_stability = -0.01
	}
}

#inspector killed
country_event = {
	id = nippon_events.93
	title = nippon_events.93.t
	desc = nippon_events.93.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.10
			is_puppet = yes
		}
		has_country_flag = neutral_path
		has_country_flag = MAN_anti_sentiment
	}
	
	mean_time_to_happen = { days = 200 }
	
	option = {
		name = nippon_events.85.a
	}
	
	option = {
		name = nippon_events.93.b
		add_stability = -0.02
	}
}

################################## 2 #####################################
#[Root.GetLeader] visited by investigator
country_event = {
	id = nippon_events.94
	title = nippon_events.94.t
	desc = nippon_events.94.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.25
			is_puppet = yes
		}
		has_country_flag = neutral_path
	}
	
	mean_time_to_happen = { 
		days = 200
		modifier = {
			factor = 0.75
			has_country_flag = MAN_anti_sentiment
		}
	}
	
	option = {
		name = nippon_events.94.a
	}
	
	option = {
		name = nippon_events.94.b
		add_stability = -0.02
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
	}
}

#suspected stalker
country_event = {
	id = nippon_events.95
	title = nippon_events.95.t
	desc = nippon_events.95.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.25
			is_puppet = yes
		}
		has_country_flag = neutral_path
		NOT = {
			has_idea = MAN_decoys
		}
	}
	
	mean_time_to_happen = { 
		days = 200
		modifier = {
			factor = 0.75
			has_country_flag = MAN_anti_sentiment
		}
	}
	
	option = {
		set_country_flag = r56_flag_stalker
		name = nippon_events.95.a
	}
	
	option = {
		name = nippon_events.95.b
		add_political_power = -25
		set_country_flag = r56_flag_stalker
		add_timed_idea = {
			idea = MAN_decoys
			days = 80
		}
	}
}

#tapped phone
country_event = {
	id = nippon_events.96
	title = nippon_events.96.t
	desc = nippon_events.96.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.25
			is_puppet = yes
		}
		has_country_flag = neutral_path
		NOT = {
			has_idea = MAN_tapped_phone_idea
		}
	}
	
	mean_time_to_happen = { 
		days = 250
	}
	
	option = {
		name = nippon_events.96.a
		add_political_power = -25
	}
	
	option = {
		name = nippon_events.96.b
		random_list = {
			25 = {
				add_timed_idea = {
					idea = MAN_tapped_phone_idea
					days = 120
				}
			}
			75 = {
				custom_effect_tooltip = MAN_nothing_tt
			}
		}
	}
}

#nippon_events.secret police spotted
country_event = {
	id = nippon_events.97
	title = nippon_events.97.t
	desc = nippon_events.97.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.25
			is_puppet = yes
		}
		OR = {
			AND = {
				has_country_flag = neutral_path
			}
			AND = {
				has_country_flag = neutral_path
				has_country_flag = MAN_anti_sentiment
			}
		}
		NOT = {
			has_idea = MAN_halt_propagation
		}
	}
	
	mean_time_to_happen = { 
		days = 250
		modifier = {
			factor = 0.75
			has_country_flag = MAN_anti_sentiment
		}
	}
	
	option = {
		name = nippon_events.97.a
		random_list = {
			20 = {
				custom_effect_tooltip = MAN_nothing_tt
			}
			5 = {
				add_popularity = {
					ideology = neutrality
					popularity = -0.1
				}
			}
		}
	}
	
	option = {
		name = nippon_events.97.b
		add_timed_idea = {
			idea = MAN_halt_propagation
			days = 180
		}
	}
}

#################################### 3 #################################
#request removal of ban
country_event = {
	id = nippon_events.98
	title = nippon_events.98.t
	desc = nippon_events.98.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.40
			is_puppet = yes
		}
		tag = JAP
		MAN = {
			has_country_flag = neutral_path
			OR = {
				has_country_flag = no_jap_officials
				has_country_flag = no_jap_mili_officials
			}
		}
	}
	
	mean_time_to_happen = { 
		days = 10
	}
	
	option = {
		ai_chance = { factor = 100 }
		name = nippon_events.98.a
		MAN = {
			country_event = { id = nippon_events.99 }
		}
	}
	
	option = {
		name = nippon_events.98.b
		add_political_power = 75
	}
}

#withdraw ban on jap offi
country_event = {
	id = nippon_events.99
	title = nippon_events.99.t
	desc = nippon_events.99.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.99.a
		clr_country_flag = no_jap_officials
		clr_country_flag = no_jap_mili_officials
		set_country_flag = no_ban_on_jap
		add_political_power = -200
		FROM = {
			country_event = { id = nippon_events.100 }
		}
	}
	
	option = {
		name = nippon_events.99.b
		add_political_power = 150
		FROM = {
			country_event = { id = nippon_events.101 }
		}
	}
}

#withdraw ban on jap offi - agreed
country_event = {
	id = nippon_events.100
	title = nippon_events.100.t
	desc = nippon_events.100.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.100.a
	}
}

#withdraw ban on nippon_events.offi - rejected
country_event = {
	id = nippon_events.101
	title = nippon_events.101.t
	desc = nippon_events.101.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.101.a
		ai_chance = {
			factor = 100
			modifier = {
				has_war_together_with = FROM
				factor = 0
			}
		}
		hidden_effect = {
			MAN = {				
				retire_country_leader = yes
				set_politics = {
					ruling_party = neutrality
				}
			}
			if = {
				limit = {
					has_war_together_with = FROM
				}
				FROM = {
					country_event = { id = wd.1 }
				}
			}
			MAN = {
				add_popularity = {
					ideology = communism
					popularity = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = -1
				}
			}
		}
		end_puppet = FROM
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
	
	option = {
		name = nippon_events.101.a
		ai_chance = {
			factor = 1
		}
		add_political_power = -5
	}
}

#house arrest [MAN.GetLeader]?
country_event = {
	id = nippon_events.102
	title = nippon_events.102.t
	desc = nippon_events.102.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		MAN = {
			neutrality > 0.40
			is_puppet = yes
		}
		tag = JAP
		MAN = {
			has_country_flag = r56_flag_stalker
			has_country_flag = neutral_path
		}
	}
	
	mean_time_to_happen = { 
		days = 100
	}
	
	option = {
		name = nippon_events.102.a
		ai_chance = {
			factor = 100
		}
		MAN = {
			country_event = { id = nippon_events.103 }
		}
	}
	
	option = {
		name = nippon_events.102.b
	}
}

#house arrest [MAN.GetLeader]?
country_event = {
	id = nippon_events.103
	title = nippon_events.103.t
	desc = nippon_events.103.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.103.a
		ai_chance = {
			factor = 55
		}
		hidden_effect = {
			retire_country_leader = yes
			set_politics = {
				ruling_party = neutrality
			}
			if = {
				limit = {
					has_war_together_with = FROM
				}
				country_event = { id = wd.1 }
			}
			add_popularity = {
				ideology = communism
				popularity = -1
			}
			add_popularity = {
				ideology = democratic
				popularity = -1
			}
		}
		FROM = {
			end_puppet = ROOT
			country_event = { id = nippon_events.104 }
		}
	}
	
	option = {
		name = nippon_events.103.b
		ai_chance = {
			factor = 45 
		}
		add_country_leader_trait = MAN_under_house_arrest
	}
}

#[From] fights back
country_event = {
	id = nippon_events.104
	title = nippon_events.104.t
	desc = nippon_events.104.d
	picture = GFX_report_event_chinese_soldiers_01
	
	is_triggered_only = yes
	
	option = {
		name = nippon_events.104.a
		effect_tooltip = {
			end_puppet = FROM
			FROM = {
				declare_war_on = {
					target = ROOT
				}
			}
		}
	}
}

#move capital to Beijing
country_event = {
	id = nippon_events.106
	title = nippon_events.106.t
	desc = nippon_events.106.d
	picture = GFX_report_event_chinese_soldiers_01
	
	fire_only_once = yes
	
	trigger = {
		original_tag = MAN
		is_puppet = no
		controls_state = 608
		capital_scope = {
			NOT = {
				state = 608
			}
		}
		has_government = neutrality
	}
	
	option = {
		name = nippon_events.106.a
		set_capital = { state = 608 }
	}
}
