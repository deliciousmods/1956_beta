focus_tree = {
	id = Spain_focus
	country = {
		factor = 0
        
        modifier = {
            add = 10
            original_tag = SPR
        }
	}
	continuous_focus_position = {
		x = 75 y = 1025
	}

	reset_on_civilwar = yes
	default = no
	#prelude
	focus = {
		id = SPR_back_the_ceda
		icon = GFX_r56_goal_SPR_una_grande_y_libre
		mutually_exclusive = { focus = SPR_maintain_the_popular_front }
		x = 2
		y = 0
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_country_flag = SPR_back_the_ceda_finished 
			custom_effect_tooltip = SPR_back_the_ceda_tt
			hidden_effect = {
				add_popularity = {
					ideology = fascism
					popularity = 0.01
				}
			}
		}
	}


	focus = {
		id = SPR_establish_a_conspiracy
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SPR_back_the_ceda }
		x = 2
		y = 1
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}
		

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { 
				has_country_flag = spanish_civil_war_started_flag
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = SPR_establish_a_conspiracy_tt
		}

		completion_reward = {
			custom_effect_tooltip = SPR_establish_a_conspiracy_tt
			if = {
				limit = {
					is_ai = yes
				}
				set_global_flag = scw_is_ai_driven
			}
		}
	}


	focus = {
		id = SPR_the_army_of_africa_connection
		icon = GFX_goal_EGY_suspend
		prerequisite = { focus = SPR_establish_a_conspiracy  }
		x = 2
		y = 2
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}
		

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = SPR_the_army_of_africa_connection_tt
		}

		completion_reward = {
			custom_effect_tooltip = SPR_the_army_of_africa_connection_tt
		}
	}

	focus = {
		id = SPR_maintain_the_popular_front
		icon = GFX_r56_goal_spr_democracy_in_our_country
		mutually_exclusive = { focus = SPR_back_the_ceda }
		x = 4
		y = 0
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}
		

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_country_flag = SPR_maintain_the_popular_front_finished 
			custom_effect_tooltip = SPR_maintain_the_popular_front_tt
			if = {
				limit = {
					is_ai = yes
				}
				set_global_flag = scw_is_ai_driven
			}
		}
	}

	focus = {
		id = SPR_maintain_the_civil_guards_loyality
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SPR_maintain_the_popular_front }
		x = 4
		y = 1
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}
		

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = SPR_maintain_the_popular_front_tt
		}

		completion_reward = {
			custom_effect_tooltip = SPR_maintain_the_civil_guards_loyality_tt
		}
	}

	focus = {
		id = SPR_proclaim_a_general_strike
		icon = GFX_goal_generic_citizens
		prerequisite = { focus = SPR_maintain_the_civil_guards_loyality }
		x = 4
		y = 2
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}
	

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = SPR_proclaim_a_general_strike_tt
		}

		completion_reward = {
			custom_effect_tooltip = SPR_proclaim_a_general_strike_tt
		}
	}

	focus = {
		id = SPR_strike_first
		icon = GFX_goal_generic_partisans
		prerequisite = { focus = SPR_the_army_of_africa_connection focus = SPR_proclaim_a_general_strike }
		x = 3
		y = 3
		offset = {
			trigger = { 
				has_country_flag = spanish_civil_war_started_flag
			}	
			x = 43
			y = 0
		}

		
		#allow_branch = {
		#	is_ai = no
	   	#}

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_country_flag = spanish_civil_war_started_flag }
		}
 

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_timed_idea = {
				idea = SPR_r56_strike_first
				days = 30
			}
			if = {
				limit = {
					is_ai = no
				}
				country_event = { id = spain.1 hours = 4 }
			}
		}
	}
	#prelude ends
	focus = {
		id = SPR_Mil
		icon = GFX_goal_generic_build_tank
		cost = 10.00
		x = 8
		y = 0
			ai_will_do = {
					factor = 10
				}
			allow_branch = {
				 has_country_flag = spanish_civil_war_started_flag
			}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Doc_Bonus
							bonus = 1
							uses = 1
							category = land_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}

	focus = {
		id = SPR_Naval
		icon = GFX_goal_generic_build_navy
		cost = 10.00
		x = 15
		y = 0
			ai_will_do = {
					factor = 5
				}
			available = {
					any_state = {
							is_coastal = yes
							is_controlled_by = ROOT
						}
				}
			completion_reward = {
					171 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = dockyard
									level = 2
									instant_build = yes
								}
						}
					168 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = dockyard
									level = 2
									instant_build = yes
								}
						}
				}
				search_filters = { FOCUS_FILTER_INDUSTRY }
				allow_branch = {
					has_country_flag = spanish_civil_war_started_flag
			   }
	}
	focus = {
		id = SPR_Air_Officers
		icon = GFX_r56_goal_spr_expand_airforce_academies
		cost = 10.00
		x = 20
		y = 0
			ai_will_do = {
					factor = 8
				}
			completion_reward = {
					air_experience = 10
					add_tech_bonus = {
							name = SPR_Air_bonus
							bonus = 1
							uses = 1
							category = air_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }
				allow_branch = {
					has_country_flag = spanish_civil_war_started_flag
			   }

	}
	focus = {
		id = SPR_nationalist_victory
		icon = GFX_focus_spa_unify_the_nationalist_front
		cost = 3.00
		available = {
			has_country_flag = spanish_civil_war_started_flag
			has_country_flag = sided_with_the_nationalists_spanish_civil_war_flag
			has_civil_war = no
		}
		ai_will_do = {
			factor = 100
		}

		allow_branch = {
			AND = {
				has_country_flag = spanish_civil_war_started_flag
				NOT = { 
					has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
				}
			}
		}

		completion_reward = {
			add_political_power = 75
			if = {
				limit = {
					has_government = fascism
				}
				set_cosmetic_tag = SPR_spanish_state_cosmetic
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		mutually_exclusive = {
			focus = SPR_republican_victory
		}
		x = 31
		y = 0

	}
	focus = {
		id = SPR_republican_victory
		icon = GFX_focus_spr_maintain_the_republic
		cost = 3.00
		available = {
			has_country_flag = spanish_civil_war_started_flag
			has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			has_civil_war = no
		}
		allow_branch = {
			AND = {
				has_country_flag = spanish_civil_war_started_flag
				NOT = { 
					has_country_flag = sided_with_the_nationalists_spanish_civil_war_flag
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 75
			if = {
				limit = {
					has_country_flag = spanish_civil_war_started_flag
					has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
					has_civil_war = no
				}
				set_cosmetic_tag = SPR
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		mutually_exclusive = {
			focus = SPR_nationalist_victory
		}
		x = 48
		y = 0
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_post_depression_recovery
		icon = GFX_goal_generic_construction
		cost = 10.00
		ai_will_do = {
			factor = 40
		}

		bypass = {
			any_other_country = {
				has_completed_focus = SPR_post_depression_recovery
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 2
		y = 0

		allow_branch = {
			has_country_flag = spanish_civil_war_started_flag
	   }

	}
	focus = {
		id = SPR_increase_public_investments
		icon = GFX_goal_generic_construct_civ_factory
		cost = 10.00
		prerequisite = {
			focus = SPR_post_depression_recovery
		}
		ai_will_do = {
			factor = 40
		}

		bypass = {
			any_other_country = {
				has_completed_focus = SPR_increase_public_investments
			}
		}		

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 1
		y = 1

	}
	focus = {
		id = SPR_create_the_ini
		icon = GFX_goal_generic_intelligence_exchange
		cost = 10.00
		prerequisite = {
			focus = SPR_increase_public_investments
		}
		ai_will_do = {
			factor = 30
		}

		bypass = {
		#	any_other_country = {
		#		limit = {
		#			original_tag = SPR
		#		}
		#		has_completed_focus = SPR_create_the_ini
		#	}
			has_idea = SPR_ini
		}

		completion_reward = {
			add_ideas = SPR_ini
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 0
		y = 2

	}
	focus = {
		id = SPR_create_instalaza
		icon = GFX_r56_goal_spr_fund_instalaza
		cost = 10.00
		ai_will_do = {
			factor = 30
		}
		prerequisite = {
			focus = SPR_create_the_ini
		}


		bypass = {
		#	any_other_country = {
		#		has_completed_focus = SPR_create_instalaza
		#	}
		}		

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 1
		y = 3

	}
	focus = {
		id = SPR_surevaluate_the_peseta
		icon = GFX_focus_GRE_Combat_depression
		cost = 10.00
		ai_will_do = {
			factor = 35
		}
		prerequisite = {
			focus = SPR_post_depression_recovery
		}


		bypass = {
		#	any_other_country = {
		#		has_completed_focus = SPR_surevaluate_the_peseta
		#	}
		}

		completion_reward = {
			add_ideas = SPR_peseta_surevaluated
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 3
		y = 1

	}
	focus = {
		id = SPR_save_the_education_budget
		icon = GFX_goal_generic_scientific_exchange
		cost = 10.00
		prerequisite = {
			focus = SPR_increase_public_investments
		}
		ai_will_do = {
			factor = 50
		}
		prerequisite = {
			focus = SPR_surevaluate_the_peseta
		}
		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 2
		y = 2

	}
	focus = {
		id = SPR_repair_the_national_roads
		icon = GFX_goal_generic_construct_infrastructure
		cost = 10.00
		prerequisite = {
			focus = SPR_surevaluate_the_peseta
		}
		available = {
			has_civil_war = no
		}
		ai_will_do = {
			factor = 45
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 4
		y = 2

	}
	focus = {
		id = SPR_expand_the_mines
		icon = GFX_goal_generic_construction2
		cost = 10.00
		ai_will_do = {
			factor = 20
		}

		available = {
			controls_state = 171
			controls_state = 166
			controls_state = 173

		}

		bypass = {
			any_other_country = {
				has_completed_focus = SPR_expand_the_mines
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = excavation_tech_bonus
				bonus = 1
				uses = 3
				category = excavation_tech
			}			
		#	add_resource = {
		#	    type = tungsten
		#	    amount = 21
		#	    state = 171
		#	}
		#	add_resource = {
		#	    type = steel
		#	    amount = 13
		#	    state = 166
		#	}
		#	add_resource = {
		#	    type = steel
		#	    amount = 13
		#	    state = 173
		#	}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		prerequisite = {
			focus = SPR_repair_the_national_roads
		}
		x = 3
		y = 3

	}
	focus = {
		id = SPR_support_the_heavy_industry
		icon = GFX_goal_generic_construct_mil_factory
		cost = 10.00
		prerequisite = {
			focus = SPR_create_instalaza
		}
		ai_will_do = {
			factor = 50
		}

		bypass = {
		#	any_other_country = {
		#		has_completed_focus = SPR_support_the_heavy_industry
		#	}
		}

		prerequisite = {
			focus = SPR_expand_the_mines
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 2
		y = 4

	}
	focus = {
		id = SPR_Equipment
		icon = GFX_eye_focus_army
		cost = 10.00
		prerequisite = {
			focus = SPR_Mil
		}
		x = 6
		y = 1
			ai_will_do = {
					factor = 10
				}
		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = SPR_eq_bonus
				uses = 2
				bonus = 1
				category = infantry_weapons
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Mot
		icon = GFX_goal_generic_army_motorized
		cost = 10.00
		prerequisite = {
			focus = SPR_Equipment
		}
		x = 6
		y = 2
			bypass = {
					has_tech = motorised_infantry
				}
			ai_will_do = {
					factor = 10
				}
			completion_reward = {
					army_experience = 10
					add_tech_bonus = {
							name = SPR_Mot
							bonus = 1
							uses = 1
							technology = motorised_infantry
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Mech
		icon = GFX_goal_mechanized_offensive
		cost = 10.00
		prerequisite = {
			focus = SPR_Mot
		}
		x = 6
		y = 3
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					add_tech_bonus = {
							name = mech_army_bonus
							bonus = 1
							uses = 1
							technology = mechanised_infantry
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Domestic_Tanks
		icon = GFX_goal_generic_army_tanks
		cost = 10.00
		prerequisite = {
			focus = SPR_Mech
		}
		mutually_exclusive = {
			focus = SPR_Foreign_Tanks
		}
		x = 6
		y = 4
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Tanks
							bonus = 1
							uses = 1
							category = armor
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Foreign_Tanks
		icon = GFX_goal_generic_military_deal
		cost = 10.00
		prerequisite = {
			focus = SPR_Mech
		}
		mutually_exclusive = {
			focus = SPR_Domestic_Tanks
		}
		x = 8
		y = 4
			ai_will_do = {
					factor = 5
				}
			available = {
					OR = {
							is_in_faction_with = SOV
							is_in_faction_with = GER
							is_in_faction_with = USA
							is_in_faction_with = ENG
						}
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Tanks
							bonus = 1
							uses = 2
							ahead_reduction = 1
							category = armor
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Exercises
		icon = GFX_goal_generic_position_armies
		cost = 10.00
		prerequisite = {
			focus = SPR_Domestic_Tanks
			focus = SPR_Foreign_Tanks
		}
		x = 7
		y = 5
			available = {
					has_war = no
				}
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					army_experience = 40
					add_tech_bonus = {
							name = SPR_Doc_Bonus
							bonus = 1
							uses = 1
							category = land_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Expand
		icon = GFX_goal_generic_army_doctrines
		cost = 10.00
		prerequisite = {
			focus = SPR_Mil
		}
		x = 10
		y = 1
			ai_will_do = {
					factor = 10
				}
			completion_reward = {
					army_experience = 10
					add_tech_bonus = {
							name = SPR_Doc_Bonus
							bonus = 1
							uses = 1
							category = land_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Fortify_Islands
		icon = GFX_goal_generic_construct_military
		cost = 10.00
		prerequisite = {
			focus = SPR_Expand
		}
		x = 10
		y = 2
			ai_will_do = {
					factor = 5
				}
			available = {
					controls_state = 177
					controls_state = 178
					controls_state = 297
				}
			completion_reward = {
					custom_effect_tooltip = SPR_Island_Forts
					hidden_effect = {
							177 = {
									add_building_construction = {
											type = coastal_bunker
											level = 3
											province = 7114
											instant_build = yes
										}
									add_building_construction = {
											type = coastal_bunker
											level = 3
											province = 9793
											instant_build = yes
										}
								}
							178 = {
									add_building_construction = {
											type = coastal_bunker
											level = 3
											province = 13071
											instant_build = yes
										}
								}
							297 = {
									add_building_construction = {
											type = coastal_bunker
											level = 3
											province = 1903
											instant_build = yes
										}
									add_building_construction = {
											type = bunker
											level = 3
											province = 8244
											instant_build = yes
										}
								}
						}
				}
				search_filters = { FOCUS_FILTER_INDUSTRY }

	}
	focus = {
		id = SPR_Doctrine
		icon = GFX_goal_generic_army_doctrines
		cost = 10.00
		prerequisite = {
			focus = SPR_Fortify_Islands
		}
		x = 10
		y = 3
			ai_will_do = {
					factor = 10
				}
			completion_reward = {
					army_experience = 10
					add_tech_bonus = {
							name = SPR_Doc_Bonus
							bonus = 1
							uses = 1
							category = land_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Doc_Bonus_2
		icon = GFX_goal_generic_army_artillery
		cost = 10.00
		prerequisite = {
			focus = SPR_Doctrine
		}
		x = 10
		y = 4
			ai_will_do = {
					factor = 10
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Art_bonus
							bonus = 1
							uses = 2
							category = artillery
							category = cat_anti_tank
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Doc_Wep
		icon = GFX_goal_generic_military_sphere
		cost = 10.00
		prerequisite = {
			focus = SPR_Doc_Bonus_2
		}
		x = 10
		y = 5
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Comb_Bonus
							bonus = 1
							uses = 1
							category = infantry_weapons
							category = artillery
						}
					add_tech_bonus = {
							name = SPR_Doc_Bonus_3
							bonus = 1
							uses = 2
							category = land_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Naval_2
		icon = GFX_r56_goal_spr_expand_secn
		cost = 10.00
		prerequisite = {
			focus = SPR_Naval
		}
		x = 15
		y = 1
			ai_will_do = {
					factor = 5
				}
			available = {
					any_state = {
							is_coastal = yes
							is_controlled_by = ROOT
						}
				}
			completion_reward = {
					navy_experience = 10
					169 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = dockyard
									level = 2
									instant_build = yes
								}
						}
					172 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = dockyard
									level = 2
									instant_build = yes
								}
						}
					add_tech_bonus = {
							name = SPR_Nav_Doc
							bonus = 1
							uses = 2
							category = naval_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Subs
		icon = GFX_goal_generic_navy_submarine
		cost = 10.00
		prerequisite = {
			focus = SPR_Naval_2
		}
		x = 13
		y = 2
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					navy_experience = 10
					add_tech_bonus = {
							name = SRP_Sub_bonus
							bonus = 1
							uses = 1
							category = ss_tech
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Screens
		icon = GFX_goal_generic_navy_cruiser
		cost = 10.00
		prerequisite = {
			focus = SPR_Naval_2
		}
		x = 15
		y = 2
			ai_will_do = {
					factor = 8
				}
			completion_reward = {
					navy_experience = 10
					add_tech_bonus = {
							name = SRP_Ship_Bonus
							bonus = 1
							uses = 2
							category = ca_tech
							category = dd_tech
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Capitals
		icon = GFX_goal_generic_navy_battleship
		cost = 10.00
		prerequisite = {
			focus = SPR_Naval_2
		}
		x = 17
		y = 2
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					navy_experience = 10
					add_tech_bonus = {
							name = SRP_Ship_Bonus
							bonus = 1
							uses = 1
							category = bb_tech
							category = bc_tech
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Carriers
		icon = GFX_goal_generic_navy_carrier
		cost = 10.00
		prerequisite = {
			focus = SPR_Capitals
			focus = SPR_Subs
			focus = SPR_Screens
		}
		x = 15
		y = 3
			ai_will_do = {
					factor = 4
				}
			completion_reward = {
					navy_experience = 10
					add_tech_bonus = {
							name = SRP_Carrier_Bonus
							bonus = 1
							uses = 1
							category = cv_tech
						}
					169 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = dockyard
									level = 2
									instant_build = yes
								}
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	}
	focus = {
		id = SPR_Nav_Air
		icon = GFX_goal_generic_air_fighter
		cost = 10.00
		prerequisite = {
			focus = SPR_Carriers
		}
		x = 15
		y = 4
			ai_will_do = {
					factor = 4
				}
			completion_reward = {
					air_experience = 10
					add_tech_bonus = {
							name = SPR_Nav_Air_Bonus
							bonus = 1
							uses = 1
							category = naval_bomber
						}
					add_tech_bonus = {
							name = SPR_Nav_Doc
							bonus = 1
							uses = 2
							category = naval_doctrine
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Air_Factories
		icon = GFX_goal_generic_air_production
		cost = 10.00
		prerequisite = {
			focus = SPR_Air_Officers
		}
		x = 20
		y = 1
			ai_will_do = {
					factor = 8
				}
			available = {
					controls_state = 41
				}
			completion_reward = {
					41 = {
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
									type = arms_factory
									level = 2
									instant_build = yes
								}
						}
					air_experience = 5
				}
				search_filters = { FOCUS_FILTER_INDUSTRY }

	}
	focus = {
		id = SPR_Fighters
		icon = GFX_goal_generic_air_fighter2
		cost = 10.00
		prerequisite = {
			focus = SPR_Air_Factories
		}
		x = 20
		y = 2
			ai_will_do = {
					factor = 6
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Fighters
							bonus = 1
							uses = 1
							technology = fighter1
							technology = fighter2
							technology = fighter3
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_CAS
		icon = GFX_goal_generic_CAS
		cost = 10.00
		prerequisite = {
			focus = SPR_Fighters
		}
		mutually_exclusive = {
			focus = SPR_Tac_Bomber
			focus = SPR_Strat
		}
		x = 18
		y = 3
			ai_will_do = {
					factor = 8
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_CAS_Bonus
							bonus = 1
							uses = 1
							technology = CAS1
							technology = CAS2
							technology = CAS3
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Tac_Bomber
		icon = GFX_goal_generic_air_naval_bomber
		cost = 10.00
		prerequisite = {
			focus = SPR_Fighters
		}
		mutually_exclusive = {
			focus = SPR_CAS
			focus = SPR_Strat
		}
		x = 20
		y = 3
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Tac_Bonus
							bonus = 1
							uses = 1
							category = tactical_bomber
							category = naval_bomber
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Air_Doctrine_2
		icon = GFX_goal_generic_air_doctrine
		cost = 10.00
		prerequisite = {
			focus = SPR_Tac_Bomber
		}
		x = 20
		y = 4
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					air_experience = 10
					add_tech_bonus = {
							name = SPR_Air_bonus_2
							bonus = 1
							uses = 2
							category = operational_integrity_tree
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Strat
		icon = GFX_goal_generic_air_bomber
		cost = 10.00
		prerequisite = {
			focus = SPR_Fighters
		}
		mutually_exclusive = {
			focus = SPR_CAS
			focus = SPR_Tac_Bomber
		}
		x = 22
		y = 3
			ai_will_do = {
					factor = 3
				}
			completion_reward = {
					add_tech_bonus = {
							name = SPR_Tac_Bonus
							bonus = 1
							uses = 1
							technology = strategic_bomber1
							technology = strategic_bomber2
							technology = strategic_bomber3
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_Air_Doctrine_3
		icon = GFX_goal_generic_air_doctrine
		cost = 10.00
		prerequisite = {
			focus = SPR_Strat
		}
		x = 22
		y = 4
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					air_experience = 10
					add_tech_bonus = {
							name = SPR_Air_bonus_3
							bonus = 1
							uses = 2
							category = strategic_destruction_tree
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_cement_franco_rule
		icon = GFX_r56_goal_spr_cement_franco_rule
		cost = 5.00
		prerequisite = {
			focus = SPR_nationalist_victory
		}
		ai_will_do = {
			factor = 50
		}
		mutually_exclusive = {
			focus = SPR_restore_the_monarchy
		}
		completion_reward = {
			add_country_leader_trait = caudillo_trait
			add_ideas = SPR_cement_franco_rule
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 28
		y = 1

	}
	focus = {
		id = SPR_pursue_autarky_policies
		icon = GFX_goal_generic_production2
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_cement_franco_rule
		}
		completion_reward = {
			add_ideas = SPR_pursue_autarky_policies
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 27
		y = 2

	}
	focus = {
		id = SPR_policia_armada
		icon = GFX_focus_generic_little_entente
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		prerequisite = {
			focus = SPR_cement_franco_rule
		}
		completion_reward = {
			add_ideas = SPR_policia_armada
		}
		search_filters = {  FOCUS_FILTER_POLITICAL }
		x = 29
		y = 2

	}
	focus = {
		id = SPR_sindicato_vertical
		icon = GFX_r56_goal_FRA_alliance_with_industrialists
		cost = 10.00
		prerequisite = {
			focus = SPR_pursue_autarky_policies
		}
		ai_will_do = {
			factor = 40
		}
		prerequisite = {
			focus = SPR_policia_armada
		}
		completion_reward = {
			add_ideas = SPR_sindicato_vertical
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 28
		y = 3

	}
	focus = {
		id = SPR_common_front_against_nazism
		icon = GFX_goal_generic_major_alliance
		cost = 10.00
		prerequisite = {
			focus = SPR_sindicato_vertical
		}
		ai_will_do = {
			factor = 25
			modifier = {
                factor = 0
                is_historical_focus_on = yes
            }
		}
		available = {
			is_in_faction = no
			is_puppet = no
			ENG = {
				has_government = democratic
				has_war_with = GER
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			OR = {
				AND = {
					ITA = {
						has_government = fascism
						is_in_faction_with = GER
					}
				}
				ITA = {
					NOT = {
						has_government = fascism
					}
				}
				ITA = {
					exists = no
				}
			}
		}
		bypass = {
			is_in_faction_with = ENG
		}
		mutually_exclusive = {
			focus = SPR_francoist_neutrality
			focus = SPR_join_the_axis
			focus = SPR_join_italy
			focus = SPR_una_grande_y_libre
		}
		completion_reward = {
			ENG = {
				country_event = generic.2
			}
		}
		x = 24
		y = 4

	}
	focus = {
		id = SPR_claim_sardinia_and_sicily
		icon = GFX_goal_generic_occupy_states_coastal
		cost = 5.00
		ai_will_do = {
			factor = 50
		}
		prerequisite = {
			focus = SPR_common_front_against_nazism
		}
		available = {
			has_war_with = ITA
		}
		completion_reward = {
			add_state_claim = 114
			add_state_claim = 115
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		x = 23
		y = 5

	}
	focus = {
		id = SPR_join_italy
		icon = GFX_goal_italian_cooperation
		cost = 10.00
		ai_will_do = {
			factor = 25
			modifier = {
                factor = 0
                is_historical_focus_on = yes
            }
		}
		available = {
			is_in_faction = no
			is_puppet = no
			ITA = {
				has_government = fascism
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		completion_reward = {
			ITA = {
				country_event = generic.2
			}
		}
		prerequisite = {
			focus = SPR_sindicato_vertical
		}
		mutually_exclusive = {
			focus = SPR_francoist_neutrality
			focus = SPR_join_the_axis
			focus = SPR_common_front_against_nazism
			focus = SPR_una_grande_y_libre
		}
		x = 26
		y = 4

	}
	focus = {
		id = SPR_learn_from_the_regia_marina
		icon = GFX_goal_italy_regia_marina_2
		cost = 10.00
		ai_will_do = {
			factor = 12
		}
		prerequisite = {
			focus = SPR_join_italy
		}
		completion_reward = {
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 1.0
				uses = 2
				technology = convoy_interdiction_ti
				technology = unrestricted_submarine_warfare
				technology = wolfpacks
				technology = advanced_submarine_warfare
				technology = combined_operations_raiding
			}
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 25
		y = 5

	}
	focus = {
		id = SPR_join_the_axis
		icon = GFX_r56_goal_generic_the_axis
		cost = 10.00
		prerequisite = {
			focus = SPR_sindicato_vertical
		}
		ai_will_do = {
			factor = 25
			modifier = {
                factor = 0
                is_historical_focus_on = yes
            }
		}
		available = {
			is_in_faction = no
			is_puppet = no
			has_government = fascism
			any_other_country = {
				is_major = yes
				has_government = fascism
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
			}
		}
		completion_reward = {
			if = {
				limit = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
						NOT = { has_war_with = ROOT }
						exists = yes
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = GER
							has_war_with = ROOT
						}
					}					
				}
				GER = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					POR = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
						NOT = { has_war_with = ROOT }
						NOT = {
							any_other_country = {
								is_in_faction_with = PREV
								has_war_with = ROOT
							}
						}
					}	
				}
				POR = {
					country_event = generic.2
				}
			}			
			else = {
				get_best_alliance_match_fascism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}		
		}
		mutually_exclusive = {
			focus = SPR_francoist_neutrality
			focus = SPR_join_italy
			focus = SPR_common_front_against_nazism
			focus = SPR_una_grande_y_libre
		}
		x = 30
		y = 4

	}
	focus = {
		id = SPR_unify_iberia
		icon = GFX_r56_goal_spr_unite_the_iberian_peninsula
		cost = 10.00
		mutually_exclusive = { focus = SPR_befriend_portugal }
		ai_will_do = {
			factor = 10
		}
		available = {
			r56_script_i_am_sane = yes
			POR = {
				r56_script_target_is_sane = yes
			}
		}
		bypass = {
			POR = {
				exists = no
			}
		}
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = POR
				expire = 0
				generator = { 112 181 179 180 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		prerequisite = {
			focus = SPR_join_italy
			focus = SPR_join_the_axis
			focus = SPR_una_grande_y_libre
		}
		x = 29
		y = 5

	}
	focus = {
		id = SPR_befriend_portugal
		cost = 10
		prerequisite = {
			focus = SPR_join_italy
			focus = SPR_join_the_axis
			focus = SPR_una_grande_y_libre
		}
		mutually_exclusive = { focus = SPR_unify_iberia }
		x = 27
		y = 5		
		available = {
			POR = {
				exists = yes
				OR = {
					has_government = neutrality
					has_government = fascism 

				}
			}
		}
		bypass = {
			POR = {
				is_in_faction_with = ROOT	
			}			
		}
		
		
		icon = GFX_focus_generic_befriend_portugal

		available_if_capitulated = yes

		completion_reward = {
			POR = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = huge_increase
				}
			}
			add_opinion_modifier = { 
				target = POR
				modifier = huge_increase
			}
									
			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = POR
					value = 100
				}
				POR = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
			}			
		}
	}	
	focus = {
		id = SPR_a_permanent_legion_condor
		icon = GFX_goal_generic_air_bomber
		cost = 10.00
		prerequisite = {
			focus = SPR_join_the_axis
		}
		completion_reward = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 2
				technology = strategic_bomber1
				technology = strategic_bomber2
				technology = strategic_bomber3
				category = tactical_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 31
		y = 5

	}

	focus = {
		id = SPR_una_grande_y_libre
		icon = GFX_r56_goal_SPR_una_grande_y_libre
		cost = 5.00
		ai_will_do = {
			factor = 25
		}
		mutually_exclusive = {
			focus = SPR_join_the_axis
			focus = SPR_join_italy
			focus = SPR_common_front_against_nazism
			focus = SPR_francoist_neutrality
		}
		available = {
			is_in_faction = no
			is_puppet = no
		}
		prerequisite = {
			focus = SPR_sindicato_vertical
		}
		completion_reward = {
			set_rule = {
			    can_create_factions = yes
			}
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		mutually_exclusive = {
			focus = SPR_join_the_axis
			focus = SPR_join_italy
			focus = SPR_common_front_against_nazism
		}
		x = 28
		y = 4

	}

	focus = {
		id = SPR_francoist_neutrality
		icon = GFX_goal_generic_neutrality_focus
		cost = 10.00
		ai_will_do = {
			factor = 25
		}
		available = {
			has_war = no
			is_in_faction = no
			is_puppet = no
		}
		prerequisite = {
			focus = SPR_sindicato_vertical
		}
		completion_reward = {
			add_ideas = neutrality_idea
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
		mutually_exclusive = {
			focus = SPR_join_the_axis
			focus = SPR_join_italy
			focus = SPR_common_front_against_nazism
			focus = SPR_una_grande_y_libre
		}
		x = 32
		y = 4

	}
	focus = {
		id = SPR_restore_the_monarchy
		icon = GFX_focus_generic_home_defense
		cost = 5.00
		ai_will_do = {
			factor = 50
			modifier = {
                factor = 0
                is_historical_focus_on = yes
            }
		}
		prerequisite = {
			focus = SPR_nationalist_victory
		}
		mutually_exclusive = {
			focus = SPR_cement_franco_rule
		}
		completion_reward = {
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.1
			}
			add_ideas = SPR_restore_the_monarchy
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		x = 38
		y = 1

	}
	focus = {
		id = SPR_king_juan_iii
		icon = GFX_r56_goal_spr_king_juan_iii
		cost = 5.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
			NOT = {
				HON = {
					has_completed_focus = HON_suggest_monarchy
				}
			}
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		prerequisite = {
			focus = SPR_restore_the_monarchy
		}
		mutually_exclusive = {
			focus = SPR_king_javier_I
		}
		completion_reward = {
			set_politics = {
				ruling_party = neutrality
				elections_allowed = yes
			}
			set_party_name = { 
			    ideology = neutrality 
			    long_name = SPR_neutrality_party_house_of_bourbon_long 
			    name = SPR_neutrality_party_house_of_bourbon_long 
			}
			create_country_leader = {
				name = "Juan III"
				desc = "POLITICS_JUAN_III_DESC"
				picture = "gfx/leaders/SPR/r56_portrait_SPR_Juan_III.dds"
				expire = "1965.1.1"
				ideology = moderatism
				traits = {
					
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 35
		y = 2

	}
	focus = {
		id = SPR_the_transition
		icon = GFX_goal_support_democracy
		cost = 10.00
		prerequisite = {
			focus = SPR_support_the_free_market
		}
		completion_reward = {
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			create_country_leader = {
				name = "Manuel Portela Valladares"
				desc = "POLITICS_MANUEL_PORTELA_VALLADARES_DESC"
				picture = "gfx/leaders/SPR/r56_portrait_SPR_Manuel_Portela_Valladares.dds"
				expire = "1965.1.1"
				ideology = liberalism
				traits = {
					#
				}
			}
			set_party_name = { 
			    ideology = democratic 
			    long_name = SPR_democratic_party_plc_long 
			    name = SPR_democratic_party_plc 
			}
			swap_ideas = {
				remove_idea = SPR_restore_the_monarchy
				add_idea = SPR_the_transition
			}
			add_popularity = {
			    ideology = democratic
			    popularity = 0.5
			}
			add_ideas = SPR_juan_iii
			hidden_effect = {
				set_cosmetic_tag = SPR_Transition
			}
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 34
		y = 5

	}
	focus = {
		id = SPR_king_javier_I
		icon = GFX_r56_goal_SPR_king_javier_I
		cost = 5.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		prerequisite = {
			focus = SPR_restore_the_monarchy
		}
		mutually_exclusive = {
			focus = SPR_king_juan_iii
		}
		completion_reward = {
			hidden_effect = {
				set_cosmetic_tag = SPR_Carlist
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			set_party_name = { 
			    ideology = neutrality 
			    long_name = SPR_neutrality_party_house_of_bourbon_parma_long 
			    name = SPR_neutrality_party_house_of_bourbon_parma_long 
			}
			create_country_leader = {
				name = "Javier I"
				desc = "POLITICS_JAVIER_I_DESC"
				picture = "gfx/leaders/SPR/r56_portrait_SPR_javier_i.dds"
				expire = "1965.1.1"
				ideology = absolute_monarchism
				traits = {
					
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 41
		y = 2

	}
	focus = {
		id = SPR_british_alignment
		icon = GFX_focus_chi_british_cooperation
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		available = {
			is_in_faction = no
			is_puppet = no
			ENG = {
				is_faction_leader = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		bypass = {
			is_in_faction_with = ENG
		}
		prerequisite = {
			focus = SPR_king_juan_iii
			focus = SPR_king_javier_I
		}
		mutually_exclusive = {
			focus = SPR_stay_out_of_conflicts
			focus = ITA_align_with_italy
		}
		bypass = {
			is_in_faction_with = ENG
		}
		completion_reward = {
			ENG = {
				country_event = generic.2
			}
		}
		x = 36
		y = 3

	}
	focus = {
		id = SPR_claims_against_italy
		icon = GFX_focus_attack_italy
		cost = 10.00
		available = {
		
			r56_script_i_am_sane = yes
			ITA = {
				r56_script_target_is_sane = yes
			}
			
			ITA = {
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
		prerequisite = {
			focus = SPR_british_alignment
		}
		completion_reward = {
			add_state_claim = 114
			add_state_claim = 115
			create_wargoal = {
				type = take_state_focus
				target = ITA
				expire = 0
				generator = { 114 115 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		x = 36
		y = 4

	}
	focus = {
		id = SPR_stay_out_of_conflicts
		icon = GFX_goal_generic_neutrality_focus
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		available = {
			is_in_faction = no
			is_puppet = no
			has_war = no
		}
		prerequisite = {
			focus = SPR_king_juan_iii
			focus = SPR_king_javier_I
		}
		mutually_exclusive = {
			focus = SPR_british_alignment
			focus = ITA_align_with_italy
		}
		completion_reward = {
			add_ideas = neutrality_idea
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
		x = 38
		y = 3

	}
	focus = {
		id = SPR_expand_pyrenees_fortifications
		icon = GFX_goal_generic_construct_military
		cost = 10.00
		ai_will_do = {
			factor = 40
		}
		completion_reward {
		172 = { 
				custom_effect_tooltip = SPR_Fra_Forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3737
						instant_build = yes
				    }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3931
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11838
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 915
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 899
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3899
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3898
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11779
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9824
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		prerequisite = {
			focus = SPR_stay_out_of_conflicts
		}
		x = 38
		y = 4

	}
	focus = {
		id = ITA_align_with_italy
		icon = GFX_focus_generic_italy_first
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		bypass = {
			is_in_faction_with = ITA
		}
		available = {
			is_puppet = no
			is_in_faction = no
			ITA = {
				OR = {
					has_government = fascism
					has_government = neutrality
				}
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		prerequisite = {
			focus = SPR_king_javier_I
		}
		mutually_exclusive = {
			focus = SPR_stay_out_of_conflicts
			focus = SPR_british_alignment
		}
		completion_reward = {
			ITA = {
				country_event = generic.2
			}
		}
		x = 40
		y = 3

	}
	focus = {
		id = SPR_reclaim_gibraltar
		icon = GFX_focus_attack_britain
		cost = 10.00
		ai_will_do = {
			factor = 15
		}
		available = {
			r56_script_i_am_sane = yes
			ENG = {
				r56_script_target_is_sane = yes
			}
		}
		prerequisite = {
			focus = ITA_align_with_italy
		}
		completion_reward = {
			add_state_claim = 118
			create_wargoal = {
				type = take_state_focus
				target = ENG
				expire = 0
				generator = { 118 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		x = 40
		y = 4

	}
	focus = {
		id = SPR_ministry_of_religous_affairs
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		cost = 10.00
		ai_will_do = {
			factor = 35
		}
		prerequisite = {
			focus = SPR_king_javier_I
		}
		completion_reward = {
			add_ideas = SPR_ministry_of_religous_affairs
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		x = 42
		y = 3

	}
	focus = {
		id = SPR_establish_traditional_cortes
		icon = GFX_r56_goal_SPR_establish_traditional_cortes
		cost = 10.00
		ai_will_do = {
			factor = 20
		}
		prerequisite = {
			focus = SPR_ministry_of_religous_affairs
		}
		completion_reward = {
			add_ideas = SPR_establish_traditional_cortes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		x = 42
		y = 4

	}
	focus = {
		id = SPR_decentralize_the_kingdom
		icon = GFX_focus_generic_self_management
		cost = 10.00
		ai_will_do = {
			factor = 15
		}
		prerequisite = {
			focus = SPR_establish_traditional_cortes
		}
		completion_reward = {
			add_ideas = SPR_decentralize_the_kingdom
		}
		x = 42
		y = 5

	}
	focus = {
		id = SPR_continue_azana_work
		icon = GFX_focus_generic_the_giant_wakes
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
		}
		prerequisite = {
			focus = SPR_republican_victory
		}
		mutually_exclusive = {
			focus = SPR_PCE_leadership
			focus = SPR_psoe_leadership
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			add_ideas = SPR_continue_azana_work
			add_stability = 0.1
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		x = 44
		y = 1

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_continue_the_secularization_policies
		icon = GFX_focus_mex_triumph_over_the_cristeros
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_continue_azana_work
		}
		completion_reward = {
			add_ideas = SPR_continue_the_secularization_policies
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		x = 43
		y = 2
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_appease_the_workers
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		cost = 10.00
		prerequisite = {
			focus = SPR_continue_azana_work
		}
		ai_will_do = {
			factor = 45
		}
		completion_reward = {
			add_ideas = SPR_appease_the_workers
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 45
		y = 2
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_uphold_the_1931_constitution
		icon = GFX_goal_support_democracy
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_continue_the_secularization_policies
		}
		prerequisite = {
			focus = SPR_appease_the_workers
		}
		completion_reward = {
			add_ideas = SPR_uphold_the_1931_constitution
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		x = 44
		y = 3
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_repair_relations_with_the_west
		icon = GFX_focus_chi_british_cooperation
		cost = 10.00
		available = {
			is_in_faction = no
			is_puppet = no
			ENG = {
				is_faction_leader = yes
				has_government = democratic
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			custom_effect_tooltip = SIA_closer_to_the_west_tooltip
		}
		prerequisite = {
			focus = SPR_uphold_the_1931_constitution
		}
		x = 44
		y = 4

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}


	}
	focus = {
		id = SPR_learn_from_the_royal_navy
		icon = GFX_focus_generic_navy_battleship2
		cost = 10.00
		ai_will_do = {
			factor = 12
		}
		available = {
			is_in_faction_with = ENG
		}
		prerequisite = {
			focus = SPR_repair_relations_with_the_west
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 3.0
				uses = 2
				category = cat_fleet_in_being
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 44
		y = 5

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_psoe_leadership
		icon = GFX_focus_GRE_red_victory
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
		}
		prerequisite = {
			focus = SPR_republican_victory
		}
		mutually_exclusive = {
			focus = SPR_PCE_leadership
			focus = SPR_continue_azana_work
		}
		completion_reward = {
			set_party_name = { 
			    ideology = communism 
			    long_name = SPR_communism_party_psoe_long 
			    name = SPR_communism_party_psoe 
			}
			add_ideas = SPR_psoe_leadership
			set_politics = {
				ruling_party = communism
				elections_allowed = yes
			}
			create_country_leader = {
				name = "Francisco Largo Caballero"
				desc = "POLITICS_FRANCISCO_LARGO_CABALLERO_DESC"
				picture = "gfx/leaders/SPR/r56_portrait_SPR_Francisco_Largo_Caballero.dds"
				expire = "1965.1.1"
				ideology = marxism
				traits = {
					
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 48
		y = 1

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_the_left_front
		icon = GFX_r56_goal_FRA_pcf_sfio_coalition
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		completion_reward = {
			add_ideas = SPR_the_left_front
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		prerequisite = {
			focus = SPR_psoe_leadership
		}
		x = 47
		y = 2

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_socialize_the_means_of_production
		icon = GFX_r56_goal_FRA_industrial_decentralization
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_psoe_leadership
		}
		completion_reward = {
			add_ideas = SPR_socialize_the_means_of_production
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 49
		y = 2
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_establish_soviet_democracy
		icon = GFX_sca_focus_communist_pride
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_the_left_front
		}
		prerequisite = {
			focus = SPR_socialize_the_means_of_production
		}
		completion_reward = {
			add_ideas = SPR_establish_soviet_democracy
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 48
		y = 3

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_align_with_the_new_france
		icon = GFX_focus_chi_reach_out_to_france
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
			is_in_faction = no
			FRA = {
				has_government = communism
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		bypass = {
			is_in_faction_with = FRA
		}
		completion_reward = {
			FRA = {
				country_event = generic.2
			}
		}
		prerequisite = {
			focus = SPR_establish_soviet_democracy
		}
		mutually_exclusive = {
			focus = SPR_join_the_comintern
		}
		x = 48
		y = 4
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_confront_the_hearth_of_fascism
		icon = GFX_focus_attack_italy
		cost = 10.00
		ai_will_do = {
			factor = 21
		}
		available = {
			ITA = {
				has_government = fascism
				exists = yes
			}
			
			r56_script_i_am_sane = yes
			ITA = {
				r56_script_target_is_sane = yes
			}			
		}
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
				expire = 0
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		prerequisite = {
			focus = SPR_repair_relations_with_the_west
			focus = SPR_align_with_the_new_france
		}
		x = 46
		y = 5
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_PCE_leadership
		icon = GFX_goal_support_communism
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
		}
		prerequisite = {
			focus = SPR_republican_victory
		}
		mutually_exclusive = {
			focus = SPR_psoe_leadership
			focus = SPR_continue_azana_work
		}
		completion_reward = {
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			add_ideas = SPR_PCE_leadership
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 52
		y = 1

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_purge_the_liberals
		icon = GFX_r56_goal_FRA_front_de_la_liberte
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			add_ideas = SPR_purge_the_liberals
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SPR_PCE_leadership
		}
		x = 51
		y = 2
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_begin_collectivization
		icon = GFX_focus_generic_soviet_politics
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		prerequisite = {
			focus = SPR_PCE_leadership
		}
		completion_reward = {
			add_ideas = SPR_begin_collectivization
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = 53
		y = 2
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_establish_the_oraa
		icon = GFX_goal_HON_nkvd_assistance
		cost = 10.00
		ai_will_do = {
			factor = 40
		}
		prerequisite = {
			focus = SPR_purge_the_liberals
		}
		prerequisite = {
			focus = SPR_begin_collectivization
		}
		completion_reward = {
			add_ideas = SPR_establish_the_oraa
		}
		search_filters = {  }
		x = 52
		y = 3
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_join_the_comintern
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 10.00
		ai_will_do = {
			factor = 50
		}
		available = {
			is_puppet = no
			OR = {
				has_government = communism
				communism > 0.4
			}				
			OR = {
				SOV = {
					NOT = { has_war_with = ROOT }
					has_government = communism
					has_capitulated = no
					is_faction_leader = yes
				}
				any_other_country = {
					is_major = yes
					has_government = communism
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
		}
		bypass = {
			is_in_faction_with = SOV
		}
		prerequisite = {
			focus = SPR_establish_the_oraa
			focus = SPR_establish_soviet_democracy
		}
		mutually_exclusive = {
			focus = SPR_align_with_the_new_france
		}
		completion_reward = {
			if = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = SOV
							has_war_with = ROOT
						}
					}					
				}			
				SOV = {
					country_event = generic.2
				}
			}
			else = {
				get_best_alliance_match_communism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}			
		}
		x = 52
		y = 4
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_intervention_in_portugal
		icon = GFX_r56_goal_spr_unite_the_iberian_peninsula
		cost = 10.00
		ai_will_do = {
			factor = 25
		}
		available = {
			POR = {
				exists = yes
				NOT = {
					has_government = communism
					is_in_faction_with = ROOT
				}
			}
			
			r56_script_i_am_sane = yes
			POR = {
				r56_script_target_is_sane = yes
			}
						
		}
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POR
				expire = 0
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		prerequisite = {
			focus = SPR_align_with_the_new_france
			focus = SPR_join_the_comintern
		}
		x = 50
		y = 5
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_demand_gibraltar
		icon = GFX_goal_generic_forceful_treaty
		cost = 10.00
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				is_in_faction_with = ENG
			}
			ENG = {
				controls_state = 118
			}
		}
		completion_reward = {
			ENG = {
				country_event = SPR_spain.5
			}
		}
		prerequisite = {
			focus = SPR_join_the_comintern
		}
		x = 52
		y = 5
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_Air_Doctrine
		icon = GFX_goal_generic_air_doctrine
		cost = 10.00
		prerequisite = {
			focus = SPR_CAS
		}
		x = 18
		y = 4
			ai_will_do = {
					factor = 5
				}
			completion_reward = {
					air_experience = 10
					add_tech_bonus = {
							name = SPR_Air_bonus
							bonus = 1
							uses = 2
							category = battlefield_support_tree
						}
				}
				search_filters = { FOCUS_FILTER_RESEARCH }

	}
	focus = {
		id = SPR_support_the_free_market
		icon = GFX_goal_generic_positive_trade_relations
		cost = 10.00
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
			add_ideas = SPR_support_the_free_market
			add_ideas = free_trade
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		prerequisite = {
			focus = SPR_issue_political_amnesties
		}
		x = 34
		y = 4
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_issue_political_amnesties
		icon = GFX_goal_generic_repeal_opressive_law
		cost = 10.00
		ai_will_do = {
			factor = 40
		}
		prerequisite = {
			focus = SPR_king_juan_iii
		}
		completion_reward = {
			add_ideas = SPR_issue_political_amnesties
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		x = 34
		y = 3

	}
	focus = {
		id = SPR_further_the_iberian_pact
		icon = GFX_focus_por_iberian_summit
		cost = 10.00
		ai_will_do = {
			factor = 40
		}
		available = {
			has_war = no
			POR = {
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}
		completion_reward = {
			POR = {
				country_event = SPR_spain.4
			}
		}
		prerequisite = {
			focus = SPR_francoist_neutrality
		}
		x = 32
		y = 6
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_retake_gibraltar
		icon = GFX_r56_goal_spr_take_back_gibraltar
		cost = 10.00
		ai_will_do = {
			factor = 45
			modifier  = {
				factor = 0
				OR = {
					POR = {
						exists = yes
						NOT = {
							is_in_faction_with = ROOT
						}
						NOT = {
							has_capitulated = yes
						}
					}	
					has_completed_focus = SPR_befriend_portugal				
				}

			}
		}
		prerequisite = {
			focus = SPR_unify_iberia
			focus = SPR_befriend_portugal
			
		}
		available = {
			r56_script_i_am_sane = yes
			ENG = {
				r56_script_target_is_sane = yes
			}
		}
		completion_reward = {
			add_state_claim = 118
			create_wargoal = {
				type = take_state_focus
				target = ENG
				expire = 0
				generator = { 118 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		x = 27
		y = 6
		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_claims_on_france
		icon = GFX_focus_attack_france
		cost = 10.00
		ai_will_do = {
			factor = 40
			modifier  = {
				factor = 0
				OR = {
					POR = {
						exists = yes
						NOT = {
							is_in_faction_with = ROOT
						}
						NOT = {
							has_capitulated = yes
						}
					}	
					has_completed_focus = SPR_befriend_portugal				
				}

			}
		}
		prerequisite = {
			focus = SPR_unify_iberia
			focus = SPR_befriend_portugal
		}		
		available = {
			r56_script_i_am_sane = yes
			FRA = {
				r56_script_target_is_sane = yes
			}
		}

		completion_reward = {
			add_state_claim = 461
			add_state_claim = 462
			add_state_claim = 22
			create_wargoal = {
				type = take_state_focus
				target = FRA
				expire = 0
				generator = { 461 462 22 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		x = 29
		y = 6

		offset = {
			trigger = {
				has_country_flag = sided_with_the_republicans_spanish_civil_war_flag
			}
			x = -17
			y = 0
		}

	}
	focus = {
		id = SPR_help_the_royal_navy
		icon = GFX_focus_generic_cruiser2
		cost = 10.00
		ai_will_do = {
			factor = 45
		}
		prerequisite = {
			focus = SPR_common_front_against_nazism
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 3.0
				uses = 1
				category = cat_fleet_in_being
			}
			random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		x = 24
		y = 6

	}
}
