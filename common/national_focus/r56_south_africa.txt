
focus_tree = {
    id = r56_south_africa_focus

    country = {
        factor = 0

        modifier = {
            add = 10
            tag = SAF
    #       NOT = {has_dlc = "Together for Victory"}

        }
    }

	continuous_focus_position = { x = 0 y = 1200 }

    shared_focus = ENG_welcome_british_exiles

    focus = {
        id = SAF_railway_development
        icon = GFX_goal_generic_construct_infrastructure
        x = 1
        y = 0
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
			random_owned_controlled_state = {
				prioritize = { 681 }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
			random_owned_controlled_state = {
				prioritize = { 719 }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
	focus = {
        id = SAF_mining_development
        icon = GFX_goal_excavation
        prerequisite = { focus = SAF_railway_development }
        relative_position_id = SAF_railway_development
        x = 0
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = SAF_mining_development
                bonus = 1
                uses = 1
                category = excavation_tech
            }
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 1
                uses = 1
                category = industry
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
	focus = {
        id = SAF_develop_gold_extraction
        icon = GFX_focus_usa_reestablish_the_gold_standard
        prerequisite = { focus = SAF_mining_development }
        relative_position_id = SAF_mining_development
        x = 2
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SAF_gold_exports
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
    }
	focus = {
        id = SAF_economic_expansion
        icon = GFX_goal_generic_trade
        prerequisite = { focus = SAF_develop_gold_extraction }
        relative_position_id = SAF_develop_gold_extraction
        x = 1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 681 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                prioritize = { 719 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
	focus = {
        id = SAF_transvaal_urbanization
        icon = GFX_goal_generic_construction
        prerequisite = { focus = SAF_develop_gold_extraction }

        relative_position_id = SAF_develop_gold_extraction
        x = -1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
		}
        available = {
            controls_state = 275
        }
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = construction_tech_bonus
                bonus = 1
                uses = 1
                category = construction_tech
            }
            275 ={
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		#civies
    }
	focus = {
        id = SAF_expand_iscor_pretoria_works
        icon = GFX_focus_generic_steel
        prerequisite = { focus = SAF_transvaal_urbanization focus = SAF_economic_expansion }
        relative_position_id = SAF_transvaal_urbanization
        x = 1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
		#early steel boost
        available = {
             controls_state = 275
        }
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 275 }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = steel_mill
                    level = 2
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 1
                uses = 1
                category = steel_tech
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_STEEL}
    }
	focus = {
        id = SAF_amcor_thabazimbi_iron_mine
        icon = GFX_focus_generic_steel
        prerequisite = { focus = SAF_mining_development }
        relative_position_id = SAF_mining_development
        x = -1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
		}
        available = {
             controls_state = 275
        }
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = SAF_amcor_thabazimbi_iron_mine
                bonus = 0.5
                uses = 1
                category = excavation_tech
            }
            add_resource = {
                type = steel
                amount = 4
                state = 275
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STEEL}
    }
	focus = {
        id = SAF_amcor_plate_mill
        icon = GFX_focus_generic_steel
        prerequisite = { focus = SAF_amcor_thabazimbi_iron_mine }
        relative_position_id = SAF_amcor_thabazimbi_iron_mine
        x = 0
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available = {
			OR = {
				has_war = yes
				date > 1941.01.01
			}
            has_tech = steel_production_1
            controls_state = 275

		}
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = construction_tech_bonus
                bonus = 1
                uses = 1
                technology = steel_production_2
                technology = steel_production_3
                technology = steel_production_4
            }
            275 ={
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = steel_mill
                    level = 1
                    instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STEEL}
    }
	focus = {
        id = SAF_magazine_hill_ammunition_plant
        icon = GFX_goal_ammunitions
        prerequisite = { focus = SAF_economic_expansion }
        relative_position_id = SAF_economic_expansion
        x = 1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 275 }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                     level = 2
                     instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
	focus = {
        id = SAF_industrial_innovations
        icon = GFX_focus_research
        prerequisite = { focus = SAF_expand_iscor_pretoria_works focus = SAF_magazine_hill_ammunition_plant }
        relative_position_id = SAF_magazine_hill_ammunition_plant
        x = -1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
        #    add_tech_bonus = {
        #        name = industrial_bonus
        #        bonus = 1
        #        uses = 1
        #        category = industry
        #    }
            add_research_slot = 1
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
	focus = {
        id = SAF_sasol_synthetic_fuel_researches
        icon = GFX_goal_generic_oil_refinery
        prerequisite = { focus = SAF_industrial_innovations }
        relative_position_id = SAF_industrial_innovations
        x = -2
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = GER_synth_oil_research
                bonus = 2
                uses = 1
                category = synth_resources
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_OIL}
    }    
	focus = {
        id = SAF_local_manufacturing_industry
        icon = GFX_focus_generic_industry_2
        prerequisite = { focus = SAF_industrial_innovations }
        relative_position_id = SAF_industrial_innovations
        x = -1
        y = 2
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 681 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 0.5
                uses = 1
                category = industry
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }
	focus = {
        id = SAF_expand_around_magazine_hill
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = SAF_industrial_innovations }
        relative_position_id = SAF_industrial_innovations
        x = 1
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 275 }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                     level = 2
                     instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
	focus = {
        id = SAF_lenz_bomb_factory
        icon = GFX_goal_proving_grounds
        prerequisite = { focus = SAF_expand_around_magazine_hill }
        relative_position_id = SAF_expand_around_magazine_hill
        x = 0
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 275 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                     level = 1
                     instant_build = yes
                }
            }
            add_ideas = YUG_artillery_regiments
            custom_effect_tooltip = available_materiel_manufacturer
            show_ideas_tooltip = SAF_lenz_bomb_factory
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
    focus = {
        id = SAF_atomic_energy_board
        icon = GFX_focus_wonderweapons
        prerequisite = { focus = SAF_lenz_bomb_factory }
         prerequisite = { focus = SAF_local_manufacturing_industry }
        relative_position_id = SAF_local_manufacturing_industry
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = nuclear_bonus
                bonus = 1
                uses = 1
                category = nuclear
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_war_technologies
        icon = GFX_focus_research2
        prerequisite = { focus = SAF_lenz_bomb_factory }
        prerequisite = { focus = SAF_local_manufacturing_industry }
        relative_position_id = SAF_local_manufacturing_industry
        x = 2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 50
        }
        available = {
            num_of_factories > 50
        }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = nuclear_bonus
                bonus = 1
                uses = 1
                category = nuclear
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_organize_district_commands
        icon = GFX_focus_generic_commonwealth_build_infantry
        prerequisite = {  }
        relative_position_id = SAF_railway_development
        x = 15
        y = 0
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            army_experience = 30
        }
    }
    focus = {
        id = SAF_mission_to_europe
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = SAF_organize_district_commands }
        relative_position_id = SAF_organize_district_commands
        x = -3
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = land_doc_bonus
                bonus = 1
                uses = 1
                category = land_doctrine
            }
            random_army_leader = {
                limit = { has_id = 5600 }
                add_skill_level = 1
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_prepare_for_bush_warfare
        icon = GFX_goal_infantry_offensive
        prerequisite = { focus = SAF_mission_to_europe }
        relative_position_id = SAF_mission_to_europe
        x = -3
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = land_doc_bonus
                bonus = 1
                uses = 1
                category = land_doctrine
            }
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = infantry_weapons
            }

        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_jungle_specialization
        icon = GFX_goal_generic_jungle_warfare
        prerequisite = { focus = SAF_prepare_for_bush_warfare }
        relative_position_id = SAF_prepare_for_bush_warfare
        x = 2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            random_army_leader = {
                limit = { has_id = 5601 }
                add_unit_leader_trait = jungle_rat
            }
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = summer_clothing_tech
            }
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 2
                category = r56_jungle_infantry_tech
            }
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }	            
            if = {
                limit = {
                    NOT = {
                        has_idea = SAF_hot_climate_training
                    }

                }
                add_ideas = SAF_hot_climate_training
            }
            else = {
                swap_ideas = { remove_idea = SAF_hot_climate_training add_idea = SAF_hot_climate_training2}
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_desert_specialization
        icon = GFX_goal_generic_desert_warfare
        prerequisite = { focus = SAF_prepare_for_bush_warfare }
        relative_position_id = SAF_prepare_for_bush_warfare
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            random_army_leader = {
                limit = { has_id = 5600 }
                add_unit_leader_trait = desert_fox
            }
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = summer_clothing_tech
            }
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 2
                category = r56_desert_infantry_tech
            }
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }	            
           if = {
                limit = {
                    NOT = {
                        has_idea = SAF_hot_climate_training
                    }

                }
                add_ideas = SAF_hot_climate_training
            }
            else = {
                swap_ideas = { remove_idea = SAF_hot_climate_training add_idea = SAF_hot_climate_training2}
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }

    }
    focus = {
        id = SAF_reform_staff_officers_training
        icon = GFX_goal_generic_army_elite
        prerequisite = { focus = SAF_prepare_for_bush_warfare }
        relative_position_id = SAF_prepare_for_bush_warfare
        x = -2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            remove_ideas = SAF_untrained_staff_officers
        }
    }
    focus = {
        id = SAF_elite_training
        icon = GFX_goal_generic_occupy_states_ongoing_war
        prerequisite = { focus = SAF_desert_specialization focus = SAF_jungle_specialization }
        prerequisite = { focus = SAF_reform_staff_officers_training }
        relative_position_id = SAF_jungle_specialization
        x = -2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_ideas = special_forces
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 2
                technology = tech_special_forces
                technology = advanced_special_forces
                technology = improved_special_forces
                technology = extreme_environment_training
                technology = survival_training
                technology = elite_forces
            }

        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_military_innovations
        icon = GFX_focus_research2
        prerequisite = { focus = SAF_locally_built_armored_cars focus = SAF_local_tank_program focus = SAF_SAR_and_H_brigade }
        prerequisite = { focus = SAF_elite_training }
        relative_position_id = SAF_elite_training
        x = 3
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_research_slot = 1
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_modernize_infantry_equipment
        icon = GFX_focus_secret_rearmament
        prerequisite = { focus = SAF_reform_staff_officers_training }
        prerequisite = { focus = SAF_magazine_hill_ammunition_plant }
        relative_position_id = SAF_reform_staff_officers_training
        x = 0
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            army_experience = 5
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = infantry_weapons
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_reorganize_the_artillery
        icon = GFX_goal_generic_army_artillery2
        prerequisite = { focus = SAF_magazine_hill_ammunition_plant }
        relative_position_id = SAF_reform_staff_officers_training
        x = -2
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            army_experience = 5
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = artillery
                }
            }
            search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_prioritize_q_service_corps
        icon = GFX_goal_generic_army_motorized
        prerequisite = { focus = SAF_mission_to_europe }
        relative_position_id = SAF_mission_to_europe
        mutually_exclusive = {focus = SAF_prioritize_t_service_corps}
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            every_army_leader = {
                add_logistics = 1
            }
           add_ideas = SAF_q_service_corps
            #bonus logistics/motorized
            add_tech_bonus = {
                name = motorized_bonus
                bonus = 3
                uses = 1
                category = logistics_tech
                technology = motorised_infantry
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_prioritize_t_service_corps
        icon = GFX_goal_generic_production
        prerequisite = { focus = SAF_mission_to_europe }
        relative_position_id = SAF_mission_to_europe
        mutually_exclusive = {focus = SAF_prioritize_q_service_corps}
        x = 3
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            every_army_leader = {
                add_planning = 1
            }
            add_ideas = SAF_t_service_corps
                    #bonus maintenance, engineers?
            add_tech_bonus = {
                name = motorized_bonus
                bonus = 3
                uses = 1
                category = maintenance_company_tech
                category = engineers_tech
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
        available_if_capitulated = yes
    }
    focus = {
        id = SAF_SAR_and_H_brigade
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = SAF_prioritize_t_service_corps focus = SAF_prioritize_q_service_corps}
        relative_position_id = SAF_prioritize_q_service_corps
        x = 1
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available = {
            has_war = yes
            any_state = {
                NOT = {
                    is_core_of = SAF
                }
                is_controlled_by = SAF
            }
        }
        available_if_capitulated = yes
        completion_reward = {
            add_ideas = SAF_SAR_and_H_brigade
            add_tech_bonus = {
                name = motorized_bonus
                bonus = 1
                uses = 1
                category = maintenance_company_tech
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_locally_built_armored_cars
        icon = GFX_goal_generic_modernizing_the_cavalry
        prerequisite = { focus = SAF_prioritize_t_service_corps  focus = SAF_prioritize_q_service_corps }
        relative_position_id = SAF_prioritize_q_service_corps
        x = -1
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = FRA_mechanized_focus
                bonus = 2.0
                uses = 1
                category = cat_mechanized_equipment
            }
            if = {
                limit = {
                    has_dlc = "La Resistance"
                }
                add_tech_bonus = {
                    name = armor_bonus
                    bonus = 3.0
                    uses = 1
                    category = armored_cars_tech
                }
            }            
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_local_tank_program
        icon = GFX_goal_tank_map
        prerequisite = { focus = SAF_prioritize_t_service_corps  focus = SAF_prioritize_q_service_corps }
        relative_position_id = SAF_prioritize_q_service_corps
        x = 3
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = armor_bonus
                bonus = 1.0
                uses = 1
                category = armor
            }
            add_tech_bonus = {
                name = armor_bonus
                bonus = 1.0
                uses = 1
                category = armored_cars_tech
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
	focus = {
        id = SAF_air_expansion_plan
        icon = GFX_goal_generic_build_airforce
        prerequisite = {  }
        relative_position_id = SAF_organize_district_commands
        x = 6
        y = 0
        cost = 10
		ai_will_do = {
			factor = 10
		}
		available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = fighter_bonus
                bonus = 1
                uses = 1
                category = light_fighter
            }
            add_tech_bonus = {
                name = fighter_bonus
                bonus = 0.5
                uses = 1
                category = cat_heavy_fighter
                category = tactical_bomber

            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
	focus = {
        id = SAF_appoint_new_commander
        icon = GFX_focus_generic_military_mission
        relative_position_id = SAF_air_expansion_plan
        prerequisite = { focus = SAF_air_expansion_plan }
        prerequisite = { focus = SAF_organize_district_commands }
        x = 0
        y = 1
        cost = 10
		ai_will_do = {
			factor = 10
			}
		available_if_capitulated = yes
		completion_reward = {
            remove_ideas = SAF_pierre_van_ryneveld
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = SAF_francis_hoare
            show_ideas_tooltip = SAF_hector_daniel
            show_ideas_tooltip = SAF_john_holthouse
            show_ideas_tooltip = SAF_christoffel_venter
        }
    }

    focus = {
        id = SAF_replace_imperial_airways
        icon = GFX_goal_generic_air_production
        prerequisite = { focus = SAF_appoint_new_commander }
        relative_position_id = SAF_appoint_new_commander
        x = 0
        y = 1
        cost = 5
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
       completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 275}
                limit = {
                    free_building_slots = {
                        building = air_base
                        size > 0
                        include_locked = yes
                    }
                }
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                prioritize = { 719 }
                limit = {
                    free_building_slots = {
                        building = air_base
                        size > 0
                        include_locked = yes
                    }
                }
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                prioritize = { 681 }
                limit = {
                    free_building_slots = {
                        building = air_base
                        size > 0
                        include_locked = yes
                    }
                }
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 0.5
                uses = 1
                category = air_doctrine
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_seize_south_african_airways_aircrafts
        icon = GFX_goal_multiple_bombers
        prerequisite = { focus = SAF_replace_imperial_airways }
        relative_position_id = SAF_replace_imperial_airways
        x = 0
        y = 1
        cost = 1.5
        ai_will_do = {
            factor = 20
        }
        available = {
            has_war = yes
        }
        available_if_capitulated = yes
        completion_reward = {
            add_equipment_to_stockpile = {
                type = tac_bomber_equipment_1
                amount = 18
                producer = GER
            }
        }
        ##get 18 Ju86 bombers
    }
    focus = {
        id = SAF_formalize_air_doctrine
        icon = GFX_goal_generic_air_doctrine
        prerequisite = { focus = SAF_appoint_new_commander }
        x = -3
        y = 1
        relative_position_id = SAF_appoint_new_commander
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 1
                uses = 1
                category = air_doctrine
            }
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 0.5
                uses = 1
                category = air_doctrine
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_aircraft_modernization
        icon = GFX_goal_flying_tiger_neutral
        prerequisite = { focus = SAF_formalize_air_doctrine }
        prerequisite = { focus = SAF_seize_south_african_airways_aircrafts }
        relative_position_id = SAF_formalize_air_doctrine
        x = 2
        y = 2
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = fighter_bonus
                bonus = 1
                uses = 1
                category = light_fighter
                category = cas_bomber
                category = cat_heavy_fighter
                category = tactical_bomber
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_air_training_scheme
        icon = GFX_goal_fighters_uk
        prerequisite = { focus = SAF_formalize_air_doctrine }
        mutually_exclusive = {focus = SAF_national_air_training}
        x = 1
        y = 1
        relative_position_id = SAF_formalize_air_doctrine
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = SAF_joint_air_training_scheme
        }
    }
    focus = {
        id = SAF_national_air_training
        icon = GFX_goal_generic_air_fighter2
        prerequisite = { focus = SAF_formalize_air_doctrine }
        mutually_exclusive = {focus = SAF_air_training_scheme}
        x = -1
        y = 1
        relative_position_id = SAF_formalize_air_doctrine
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            NOT = {
                is_in_faction_with = ENG
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = SAF_national_air_training
        }
    }

    focus = {
        id = SAF_the_prides_of_the_nation
        icon = GFX_goal_generic_air_fighter
        prerequisite = { focus = SAF_national_air_training  focus = SAF_air_training_scheme}
        x = 1
        y = 1
        relative_position_id = SAF_national_air_training
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_deployed_air_force_size = {
                size > 79
                type = fighter
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ace = { name = "Marmaduke " surname = "Pattle" callsign = "Tom" type = fighter_good }
            add_ace = { name = "Johannes" surname = "Le Roux" callsign = "Chris" type = fighter_good }
            add_ace = { name = "Petrus" surname = "Hugo" callsign = "Dutch" type = fighter_good }
            add_war_support = 0.05
        }
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }
    }

    focus = {
        id = SAF_patrol_the_sea
        icon = GFX_focus_usa_escort_fighters
        prerequisite = { focus = SAF_appoint_new_commander }
        relative_position_id = SAF_appoint_new_commander
        x = 2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = nav_bomber_bonus
                bonus = 3
                uses = 1
                technology = med_maritime1
                technology = med_maritime2
                technology = med_maritime3
            }
            add_tech_bonus = {
                name = USA_escort_fighters
                bonus = 1
                uses = 1
                category = cat_heavy_fighter
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_mobilize_the_bernard_institute
        icon = GFX_goal_generic_radar
        prerequisite = { focus = SAF_patrol_the_sea }
        relative_position_id = SAF_patrol_the_sea
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = radar_focus
                bonus = 1
                uses = 2
                category = radar_tech
            }
            custom_effect_tooltip = available_industrial_concern
            show_ideas_tooltip = SAF_bpi
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_cadets_of_the_general_botha
        icon = GFX_goal_coastal_navy
        prerequisite = {  }
        relative_position_id = SAF_air_expansion_plan
        x = 5
        y = 0
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            navy_experience = 50
        }
    }
    focus = {
        id = SAF_establish_seaward_defense_force
        icon = GFX_focus_generic_shipbuilding
        prerequisite = { focus = SAF_cadets_of_the_general_botha }
        relative_position_id = SAF_cadets_of_the_general_botha
        prerequisite = {  }
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 681 719 }
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
                set_state_flag = SAF_seaward_defence_force_DY
            }
            add_tech_bonus = {
                name = SAF_seaward_defence_force
                bonus = 1.0
                uses = 1
                category = naval_doctrine
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_torpedo_development
        icon = GFX_goal_generic_navy_submarine
        prerequisite = { focus = SAF_establish_seaward_defense_force }
        mutually_exclusive  = { focus = SAF_anti_submarine_equipment }
        relative_position_id = SAF_establish_seaward_defense_force
        prerequisite = {  }
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = ss_bonus
                bonus = 1.0
                ahead_reduction = 2
                uses = 1
                category = ss_tech
            }
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = ss_bonus
                    bonus = 1
                    uses = 1
                    technology = basic_torpedo
                    technology = magnetic_detonator
                    technology = electric_torpedo
                    technology = homing_torpedo
                }
            }
            else = {
                navy_experience = 10
            }

        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_anti_submarine_equipment
        icon = GFX_goal_generic_navy_anti_submarine
        prerequisite = { focus = SAF_establish_seaward_defense_force }
        mutually_exclusive  = { focus = SAF_torpedo_development }
        relative_position_id = SAF_establish_seaward_defense_force
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = dd_bonus
                bonus = 1.0
                ahead_reduction = 2
                uses = 1
                category = dd_tech
                category = cl_tech
            }
           if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = ss_bonus
                    bonus = 1
                    uses = 1
                    technology = basic_depth_charges
                    technology = improved_depth_charges
                    technology = advanced_depth_charges
                    technology = modern_depth_charges
                }
            }
            else = {
                navy_experience = 10
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_expand_cape_town_yards
        icon = GFX_goal_generic_blue_navy
        prerequisite = { focus = SAF_torpedo_development focus = SAF_anti_submarine_equipment}
        relative_position_id = SAF_torpedo_development
        prerequisite = {  }
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 681 }
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                add_extra_state_shared_building_slots = 2
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
    focus = {
        id = SAF_expand_durban_yards
        icon = GFX_goal_generic_build_navy
        prerequisite = { focus = SAF_torpedo_development focus = SAF_anti_submarine_equipment}
        relative_position_id = SAF_torpedo_development
        prerequisite = {  }
        x = 2
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 719 }
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                add_extra_state_shared_building_slots = 2
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }

    focus = {
        id = SAF_naval_aviation
        icon = GFX_goal_generic_air_naval_bomber
        prerequisite = { focus = SAF_expand_cape_town_yards focus = SAF_expand_durban_yards }
        prerequisite = { focus = SAF_patrol_the_sea }
        relative_position_id = SAF_expand_cape_town_yards
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = nav_bomber_bonus
                bonus = 1.0
                ahead_reduction = 2
                uses = 1
                category = naval_bomber
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }

    focus = {
        id = SAF_a_true_navy
        icon = GFX_goal_sea_navy
        prerequisite = { focus = SAF_expand_cape_town_yards focus = SAF_expand_durban_yards }
        relative_position_id = SAF_expand_cape_town_yards
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = SAF_seaward_defence_force
                bonus = 1.0
                uses = 2
                category = naval_doctrine
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_salisbury_island_base #durban
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = SAF_a_true_navy }
        relative_position_id = SAF_a_true_navy
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 719 }
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
                add_extra_state_shared_building_slots = 1
            }
            if = {
                limit = {
                    719 = {
                        is_controlled_by = SAF
                    }
                }
                719 = {
                    add_building_construction = {
                        type = naval_base
                        level = 1
                        province = 1468
                        instant_build = yes
                    }
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
    focus = {
        id = SAF_naval_ambition
        icon = GFX_goal_generic_admirality
        prerequisite = { focus = SAF_a_true_navy }
        relative_position_id = SAF_a_true_navy
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
            add_tech_bonus = {
                name = capital_ships_bonus
                bonus = 1.0
                ahead_reduction = 2
                uses = 2
                category = ca_tech
                category = bb_tech
                category = cv_tech
            }
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_gunnery_tech
				category = naval_shell_tech
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_armor_tech
				category = damage_control_tech
				
			}	            

        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_ethnic_legislation
        icon = GFX_goal_constitution
        mutually_exclusive = { focus = SAF_sensibilize_the_africans }
        relative_position_id = SAF_cadets_of_the_general_botha
        x = 10
        y = 0
        cost = 10
        ai_will_do = {
            factor = 50
        }

        available_if_capitulated = yes
        completion_reward = {
          add_political_power = 120
          unlock_decision_category_tooltip = SAF_ethnic_legislation_category
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }
    focus = {
        id = SAF_sensibilize_the_africans
        icon = GFX_goal_african_diplomacy
        mutually_exclusive = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        x = 8
        y = 0
        cost = 5
        ai_will_do = {
            factor = 0
			modifier = {
				is_historical_focus_on = no
				factor = 10
			}
        }

        available_if_capitulated = yes
        completion_reward = {
             add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            add_timed_idea = { idea = internationalism days = 180 }
        }
    }
    focus = {
        id = SAF_organize_the_party
        icon = GFX_focus_generic_soviet_politics
        prerequisite = { focus = SAF_sensibilize_the_africans }
        relative_position_id = SAF_sensibilize_the_africans
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 15
        }
        available_if_capitulated = yes

        completion_reward = {
          add_political_power = 120
          add_ideas = SAF_abram_fischer
          country_event = SAF_event.2
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }

    focus = {
          id = SAF_rally_the_indians
          icon = GFX_focus_RAJ_seek_help_from_soviet
          prerequisite = { focus = SAF_organize_the_party }
          relative_position_id = SAF_organize_the_party
          x = 2
          y = 1
          cost = 7.15
          ai_will_do = {
              factor = 20
          }

          available_if_capitulated = yes

          completion_reward = {
              add_manpower = 21548
              add_stability = 0.05
               add_popularity = {
                  ideology = communism
                  popularity = 0.05
              }
          }
          search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
        }

    focus = {
        id = SAF_paralyze_the_country
        icon = GFX_goal_generic_worker_support
        prerequisite = { focus = SAF_organize_the_party }
        relative_position_id = SAF_organize_the_party
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
        factor = 10
        }

        available = {
          communism > 0.39
        }

        available_if_capitulated = yes

        completion_reward = {
          country_event = SAF_event.3
        }
    }

    focus = {
        id = SAF_alliance_with_ussr
        icon = GFX_focus_chi_mission_to_the_soviet_union
        prerequisite = { focus = SAF_paralyze_the_country }
        relative_position_id = SAF_paralyze_the_country
        x = 0
        y = 1
        cost = 5

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        available = {
    			has_government = communism
                is_in_faction = no
                is_puppet = no
    		}
    		bypass = {
    		  	is_in_faction_with = SOV
    		}
    		completion_reward = {
                if = {
                    limit = {
                        SOV = {
                            is_faction_leader = yes
                            has_government = communism
                        }
                    }
                    SOV = { country_event = generic.2 }
                }
                else_if = {
                    limit = {
                        any_other_country = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            has_capitulated = no
                            num_of_factories > 70
                        }
                    }
                    random_other_country = {
                        limit = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            num_of_factories > 70
                        }
                        country_event = generic.2
                    }				
                }
                else_if = {
                    limit = {
                        any_other_country = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            has_capitulated = no
                            num_of_factories > 50
                        }
                    }
                    random_other_country = {
                        limit = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            num_of_factories > 50
                        }
                        country_event = generic.2
                    }				
                }			
                else_if = {
                    limit = {
                        any_other_country = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            has_capitulated = no
                        }
                    }
                    random_other_country = {
                        limit = {
                            has_government = communism
                            is_faction_leader = yes
                            is_major = yes
                            has_capitulated = no
                        }
                        country_event = generic.2
                    }
                }
                else_if = {
                    limit = {
                        any_other_country = {
                            has_government = communism
                            is_faction_leader = yes
    
                            has_capitulated = no
                        }
                    }
                    random_other_country = {
                        limit = {
                            has_government = communism
                            is_faction_leader = yes
                            has_capitulated = no
                        }
                        country_event = generic.2
                    }
                }
    		}
    	}

    focus = {
        id = SAF_liberation_revolution
        icon = GFX_goal_communist_brigades
        prerequisite = { focus = SAF_paralyze_the_country }
        relative_position_id = SAF_paralyze_the_country
        mutually_exclusive = { focus = SAF_black_republic }
        x = -1
        y = 2
        cost = 10
        ai_will_do = {
          factor = 8
        }

        available = {
          has_government = communism
        }

        available_if_capitulated = yes

        completion_reward = {
          swap_ideas = { remove_idea = SAF_racial_segregation add_idea = SAF_liberation_revolution }
          add_stability = 0.1
        }
        search_filters = { FOCUS_FILTER_STABILITY }
    }
    focus = {
        id = SAF_side_by_side_as_equals
        icon = GFX_goal_european_african_diplomacy
        prerequisite = { focus = SAF_liberation_revolution }
        relative_position_id = SAF_liberation_revolution
        x = -1
        y = 1
        cost = 10

        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes

        completion_reward = {
          swap_ideas = { remove_idea = SAF_liberation_revolution add_idea = SAF_liberation_revolution2 }
          add_war_support = 0.1
        }
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }
      }
    focus = {
        id = SAF_black_republic
        icon = GFX_goal_african_diplomacy
        prerequisite = { focus = SAF_paralyze_the_country }
        relative_position_id = SAF_paralyze_the_country
        mutually_exclusive = { focus = SAF_liberation_revolution }
        x = 1
        y = 2
        cost = 10
        ai_will_do = {
          factor = 10
            }

        available = {
          has_government = communism
        }

        available_if_capitulated = yes

        completion_reward = {
          swap_ideas = { remove_idea = SAF_racial_segregation add_idea = SAF_black_republic }
        }
    }
    focus = {
        id = SAF_redistribute_the_land
        icon = GFX_goal_generic_agriculture
        prerequisite = { focus = SAF_liberation_revolution focus = SAF_black_republic }
        relative_position_id = SAF_liberation_revolution
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
          factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
        random_owned_controlled_state = {
         add_extra_state_shared_building_slots = 1
        }
        random_owned_controlled_state = {
         add_extra_state_shared_building_slots = 1
        }
        random_owned_controlled_state = {
         add_extra_state_shared_building_slots = 1
        }
        add_ideas = SIA_centralised_production
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
    focus = {
        id = SAF_control_former_exploiters
        icon = GFX_focus_eng_crush_the_dream
        prerequisite = { focus = SAF_black_republic }
        relative_position_id = SAF_black_republic
        x = 1
        y = 1
        cost = 10

        ai_will_do = {
        factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
          add_ideas = SAF_control_former_exploiters
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }

    focus = {
        id = SAF_support_african_seperatists
        icon = GFX_goal_SAF_support_colonial_separatists
        prerequisite = { focus = SAF_redistribute_the_land }
        prerequisite = { focus = SAF_side_by_side_as_equals focus = SAF_control_former_exploiters }
        relative_position_id = SAF_redistribute_the_land
        x = 0
        y = 1
        cost = 5

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
          unlock_decision_category_tooltip = SAF_support_colonial_seperatists
        }
    }
    focus = {
        id = SAF_policy_of_cooperation
        icon = GFX_goal_tfv_strengthen_commonwealth_ties
        prerequisite = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        mutually_exclusive = { focus = SAF_radicalize_the_afrikaner_broederbond focus = SAF_push_the_unp_towards_independence }
        x = 3
        y = 1
        cost = 5
        ai_will_do = {
          factor = 20
        }
        available = {
            ENG = {
                OR = {
                   has_completed_focus = ENG_steady_as_she_goes 
                   has_completed_focus = ENG_the_kings_party
                }
               
            }
        }
        available_if_capitulated = yes
        completion_reward = {
        custom_effect_tooltip = available_political_advisor
        show_ideas_tooltip = SAF_sir_patrick_duncan # democratic reformer
			  ENG = {
				  add_opinion_modifier = {
					  target = ROOT
					  modifier = CAN_strengthen_the_commonwealth_ties
				  }
        }
        ROOT = {
				  add_opinion_modifier = {
					  target = ENG
					  modifier = CAN_strengthen_the_commonwealth_ties
				  }
        }
      }
    }
    focus = {
        id = SAF_research_cooperation
        icon = GFX_goal_royal_research
        prerequisite = { focus = SAF_policy_of_cooperation }
        relative_position_id = SAF_policy_of_cooperation
        x = -1
        y = 1
        cost = 10

        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes

        available = {
    			OR = {
    				is_subject_of = ENG
    				AND = {
    					has_global_flag = ENG_decolonized
    					is_in_faction_with = ENG
    				}
    			}
    			ENG = { has_war = no }
    		}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Together for Victory"
                }
                SAF = {
                    modify_tech_sharing_bonus = {
                        id = commonwealth_research
                        bonus = 0.05  # we get 20% higher bonus from this group
                    }
                }
            }
            else = {
                add_ideas = HOL_allied_technological_developments
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_commonwealth_industrial_cooperation
        icon = GFX_goal_tfv_generic_tech_sharing
        prerequisite = { focus = SAF_research_cooperation }
        relative_position_id = SAF_research_cooperation
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes

        available = {
    			OR = {
    				is_subject_of = ENG
    				AND = {
    					has_global_flag = ENG_decolonized
    					is_in_faction_with = ENG
    				}
    			}
    			ENG = { has_war = no }
    		}

        completion_reward = {
        add_offsite_building = { type = industrial_complex level = 1 }
        add_tech_bonus = {
            name = industrial_bonus
            bonus = 1
            uses = 1
            category = industry
            category = electronics
        }
        ENG = {
          add_offsite_building = { type = industrial_complex level = 1 }
          add_tech_bonus = {
            name = industrial_bonus
            bonus = 1
            uses = 1
            category = industry
            category = electronics
          }
        }
      }
      search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }

    focus = {
        id = SAF_finance_legislation
        icon = GFX_focus_mex_privatisation
        prerequisite = { focus = SAF_policy_of_cooperation }
        relative_position_id = SAF_policy_of_cooperation
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
            }
        available_if_capitulated = yes
        completion_reward = {
   				     681 = {
               add_extra_state_shared_building_slots = 2
               add_building_construction = {
       					 type = industrial_complex
       					 level = 1
       					 instant_build = yes
       				 }
               add_building_construction = {
                 type = infrastructure
                 level = 1
                 instant_build = yes
               }
              }
   		    	   719  = {
                   add_extra_state_shared_building_slots = 1
                   add_building_construction = {
                     type = naval_base
                     level = 1
                     province = 1468
                     instant_build = yes
                   }
                   add_building_construction = {
                     type = infrastructure
                     level = 1
                     instant_build = yes
                   }
               }
          }
          search_filters = { FOCUS_FILTER_INDUSTRY }
      }

      focus = {
          id = SAF_the_aliens_act
          icon = GFX_goal_treaty_peoples
          prerequisite = { focus = SAF_finance_legislation }
          relative_position_id = SAF_finance_legislation
          x = 1
          y = 1
          cost = 7.15

          ai_will_do = {
          factor = 10
          }

          available_if_capitulated = yes

          completion_reward = {
          add_ideas = SAF_the_aliens_act

  			}
  			search_filters = {  FOCUS_FILTER_POLITICAL }
      }


      focus = {
          id = SAF_guard_the_cape
          icon = GFX_focus_generic_coastal_fort
          prerequisite = { focus = SAF_policy_of_cooperation }
          relative_position_id = SAF_policy_of_cooperation
          x = 0
          y = 2
          cost = 5

          ai_will_do = {
          factor = 10
          }

          available_if_capitulated = yes

          completion_reward = {
          681 = {
  						add_building_construction = {
  							type = coastal_bunker
  							province = {
  								all_provinces = yes
  								limit_to_coastal = yes
  							}
  							level = 3
  							instant_build = yes
  						}
            }
              719 = {
      						add_building_construction = {
      							type = coastal_bunker
      							province = {
      								all_provinces = yes
      								limit_to_coastal = yes
      							}
      							level = 3
      							instant_build = yes
      						}
              }
           }
           search_filters = { FOCUS_FILTER_INDUSTRY }
        }


        focus = {
            id = SAF_remobilize_the_cape_corps
            icon = GFX_goal_SAF_cape_corps
            prerequisite = { focus = SAF_guard_the_cape }
            relative_position_id = SAF_guard_the_cape
            x = 1
            y = 1
            cost = 10

            ai_will_do = {
            factor = 10
            }

            available_if_capitulated = yes

            available = {
              has_war = yes
            }

            completion_reward = {
              swap_ideas = { remove_idea = SAF_racial_segregation add_idea = SAF_racial_segregation_2 }
              add_ideas = SAF_remobilize_the_cape_corps
             }
             search_filters = { FOCUS_FILTER_MANPOWER }
          }

          focus = {
              id = SAF_crush_ossewabrandwag
              icon = GFX_goal_arrests
              prerequisite = { focus = SAF_guard_the_cape }
              relative_position_id = SAF_guard_the_cape
              x = -1
              y = 1
              cost = 7.15

              ai_will_do = {
              factor = 10
              }

              available_if_capitulated = yes

              available = {
                has_idea = SAF_ossewabrandwag_sabotages
              }

              completion_reward = {
                remove_ideas = SAF_ossewabrandwag_sabotages
               }
            }

            focus = {
          		id = SAF_expand_the_union
          		icon = GFX_goal_tfv_saf_secure_interests_in_africa
          		prerequisite = { focus = SAF_remobilize_the_cape_corps }
          		prerequisite = { focus = SAF_crush_ossewabrandwag }
          		x = -1
          		y = 1
          		relative_position_id = SAF_remobilize_the_cape_corps

          		cost = 10

          		ai_will_do = {
              factor = 10
          		}

          		available = {
          			NOT = { has_war_with = ENG }
          			ENG = { is_puppet = no }

          		}

          		bypass = {

          		}

          		cancel_if_invalid = yes
          		continue_if_invalid = no
          		available_if_capitulated = no

                search_filters = { FOCUS_FILTER_ANNEXATION }

          		completion_reward = {
          		  ENG = {
          				country_event = tfv_south_africa.1
          			}
          		}
          	}

    focus = {
        id = SAF_push_the_unp_towards_independence
        icon = GFX_goal_tfv_sever_ties_with_uk
        prerequisite = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        mutually_exclusive = { focus = SAF_radicalize_the_afrikaner_broederbond focus = SAF_policy_of_cooperation }
        x = -2
        y = 1
        cost = 5
        ai_will_do = {
			factor = 8
			modifier = {
                is_historical_focus_on = yes
                NOT = {
                    ENG = {
                        OR = {
                            has_completed_focus = ENG_a_change_in_course
                            has_completed_focus = ENG_visit_germany
                        }
                       
                    }
                }
				factor = 0
			}
        }
        available_if_capitulated = yes
        completion_reward = {
          add_timed_idea = { idea = democratic_influence days = 90 }
          add_popularity = {
              ideology = democratic
              popularity = 0.05
          }
          custom_effect_tooltip = available_political_advisor
          show_ideas_tooltip = SAF_sir_patrick_duncan # democratic reformer
        }
    }
    focus = {
        id = SAF_radicalize_the_afrikaner_broederbond
        icon = GFX_goal_SAF_pnp
        prerequisite = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        mutually_exclusive = { focus = SAF_push_the_unp_towards_independence focus = SAF_policy_of_cooperation }
        x = -4
        y = 1
        cost = 5
        ai_will_do = {
			factor = 4
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
        }
        available_if_capitulated = yes
        completion_reward = {
            add_timed_idea = { idea = nationalism days = 90 }
            add_popularity = {
                ideology = fascism
                popularity = 0.05
            }
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = SAF_j_f_van_rensburg_fascist # fascist demagogue
        }
    }
    focus = {
        id = SAF_celebrate_the_voortrekkers
        icon = GFX_goal_SAF_flag_transvaal
        prerequisite = { focus = SAF_radicalize_the_afrikaner_broederbond focus = SAF_push_the_unp_towards_independence}
        relative_position_id = SAF_radicalize_the_afrikaner_broederbond
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Together for Victory"
                }
                SAF = {
                     add_ideas = SAF_voortrekker_monument
                }
              }
            else = {
                add_stability = 0.07
                add_political_power = 90
            }
        }
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL }
    }
    focus = {
        id = SAF_form_the_ossewabrandwag
        icon = GFX_goal_tfv_saf_support_ossebrandwag
        prerequisite = { focus = SAF_celebrate_the_voortrekkers}
        relative_position_id = SAF_celebrate_the_voortrekkers
        mutually_exclusive = { focus = SAF_return_to_republicanism }
        x = -2
        y = 1
        cost = 10

        ai_will_do = {
			factor = 3
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
        }

        available = {
          has_completed_focus = SAF_radicalize_the_afrikaner_broederbond
        }

        available_if_capitulated = yes

        completion_reward = {
          add_ideas = SAF_form_the_ossewabrandwag
        }
        search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
    }
    focus = {
        id = SAF_solidify_german_contacts
        icon = GFX_goal_tfv_saf_support_german_coup
        prerequisite = { focus = SAF_form_the_ossewabrandwag}
        relative_position_id = SAF_form_the_ossewabrandwag
        x = 0
        y = 1
        cost = 10

        ai_will_do = {
            factor = 10
        }

        available = {
          fascism > 0.44

        }
        available_if_capitulated = yes

        completion_reward = {
          country_event = SAF_event.4
        }
    }

    focus = {
        id = SAF_axis_alliance
        icon = GFX_focus_chi_mission_to_germany
        prerequisite = { focus = SAF_solidify_german_contacts}
        relative_position_id = SAF_solidify_german_contacts
        x = -2
        y = 1
        cost = 5

        ai_will_do = {
            factor = 10
        }

        available = {
            is_in_faction = no
            is_puppet = no
            any_other_country = {
                is_faction_leader = yes
                has_government = fascism
            }
        }

        available_if_capitulated = yes

        completion_reward = {
			if = {
				limit = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
					}
				}
				GER = {
					country_event = generic.2
				}
			}
			if = {
				limit = {
					ENG = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
					}
				}
				ENG = {
					country_event = generic.2
				}
			}
			if = {
				limit = {
					USA = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
					}
				}
				USA = {
					country_event = generic.2
				}
            }
			if = {
				limit = {
					BRA = {
						has_government = fascism
						is_faction_leader = yes
						has_capitulated = no
					}
				}
				BRA = {
					country_event = generic.2
				}
			}
			else = {
				get_best_alliance_match_fascism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
        }
    }


    focus = {
        id = SAF_stormjaers_militias
        icon = GFX_goal_extensive_conscription_fascism
        prerequisite = { focus = SAF_solidify_german_contacts}
        relative_position_id = SAF_solidify_german_contacts
        x = -1
        y = 2
        cost = 10

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
          add_ideas = SAF_stormjaers_militias
        }
        search_filters = { FOCUS_FILTER_ANNEXATION  FOCUS_FILTER_MANPOWER }
    }
    focus = {
        id = SAF_sharpshooting_tradition
        icon = GFX_focus_secret_rearmament
        prerequisite = { focus = SAF_stormjaers_militias}
        relative_position_id = SAF_stormjaers_militias
        x = 1
        y = 1
        cost = 7.15

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
            add_ideas = SAF_sharpshooting_tradition
            add_tech_bonus = {
                name = special_forces_bonus
                bonus = 3
                uses = 1
                category = r56_jaeger_infantry_tech
                category = r56_mountain_infantry_tech
                category = r56_paratroops_infantry_tech
                category = r56_shock_infantry_tech
            }
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }	            
            add_tech_bonus = {
                bonus = 1
                uses = 1
                technology = sniper_rifle
               # technology = sniper_rifle_2
               # technology = sniper_rifle_3
            }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }

    focus = {
        id = SAF_institute_apartheid
        icon = GFX_goal_SAF_institute_apartheid
        prerequisite = { focus = SAF_stormjaers_militias}
        relative_position_id = SAF_stormjaers_militias
        x = -1
        y = 1
        cost = 60

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
          swap_ideas = { remove_idea = SAF_racial_segregation add_idea = SAF_institute_apartheid }
        }
    }

    focus = {
        id = SAF_get_rid_of_the_british
        icon = GFX_focus_attack_britain
        prerequisite = { focus = SAF_solidify_german_contacts}
        relative_position_id = SAF_solidify_german_contacts
        x = 1
        y = 1
        cost = 7.15

        ai_will_do = {
            factor = 10
            modifier = {
                factor = 0
                ENG = {
                    has_war = no
                }
            }
        }

        available = {
          NOT = {
            is_in_faction_with = ENG
          }
        }

        available_if_capitulated = yes

        completion_reward = {
          create_wargoal = { type = annex_everything target = ENG expire = 0}
        }
        search_filters = { FOCUS_FILTER_ANNEXATION }
    }
    focus = {
        id = SAF_contact_rhodesian_afrikaners
        icon = GFX_focus_generic_diplomatic_treaty
        prerequisite = { focus = SAF_get_rid_of_the_british}
        relative_position_id = SAF_get_rid_of_the_british
        x = 0
        y = 1
        cost = 10

        ai_will_do = {
            factor = 10
        }

        available = {
          has_full_control_of_state = 542
          has_full_control_of_state = 545
        }

        available_if_capitulated = yes

        completion_reward = {
          542 = { add_core_of = SAF }
          545 = { add_core_of = SAF }
        }
    }
    focus = {
        id = SAF_return_to_republicanism
        icon = GFX_focus_eng_decolonization
        prerequisite = { focus = SAF_celebrate_the_voortrekkers}
        relative_position_id = SAF_celebrate_the_voortrekkers
        mutually_exclusive = { focus = SAF_form_the_ossewabrandwag }
        x = 2
        y = 1
        cost = 10

        ai_will_do = {
			factor = 5
        }

        available = {
          has_completed_focus = SAF_push_the_unp_towards_independence
        }

        available_if_capitulated = yes

        completion_reward = {
          add_ideas = SAF_return_to_republicanism
          if = {
              limit = {
                  has_dlc = "Together for Victory"
              }
              SAF = {
                add_autonomy_ratio = {
                  value = 0.1
                  localization = SAF_republicanism
                }
              }
           }
          }
          search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL }
        }
    focus = {
        id = SAF_build_a_new_state
        icon = GFX_goal_SAF_flag
        prerequisite = { focus = SAF_return_to_republicanism}
        relative_position_id = SAF_return_to_republicanism
        x = 0
        y = 1
        cost = 10

        ai_will_do = {
        factor = 10
        }

        available = {
          democratic > 0.49
        }

        available_if_capitulated = yes

        completion_reward = {
          country_event = SAF_event.5
        }
    }

    focus = {
        id = SAF_separation_policy
        icon = GFX_goal_generic_seperation
        prerequisite = { focus = SAF_build_a_new_state}
        mutually_exclusive = { focus = SAF_relax_racial_laws }
        relative_position_id = SAF_build_a_new_state
        x = -1
        y = 2
        cost = 10

        mutually_exclusive = { focus = SAF_relax_racial_laws }

        ai_will_do = {
        factor = 10
        }

        available = {
          has_country_flag = SAF_hertzog_in_power
        }

        available_if_capitulated = yes

        completion_reward = {
           add_ideas = SAF_cheap_labor_1
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
    }
    focus = {
        id = SAF_relax_racial_laws
        icon = GFX_tblra_union_agreement
        prerequisite = { focus = SAF_build_a_new_state}
        mutually_exclusive = { focus = SAF_separation_policy }
        relative_position_id = SAF_build_a_new_state
        x = 1
        y = 2
        cost = 10

        mutually_exclusive = { focus = SAF_separation_policy }

        ai_will_do = {
        factor = 10
        }

        available_if_capitulated = yes

        available = {
         has_country_flag = SAF_smuts_in_power
        }

        completion_reward = {
          swap_ideas = { remove_idea = SAF_racial_segregation add_idea = SAF_racial_segregation_2 }
          add_ideas = SAF_relax_racial_laws
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
     focus = {
        id = SAF_laager_doctrine
        icon = GFX_goal_defensive_position2
        prerequisite = { focus = SAF_build_a_new_state}
        relative_position_id = SAF_build_a_new_state
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
          add_ideas = SAF_laager_doctrine
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
    }
}
