focus_tree = {
	id = cuban_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
shared_focus = CARIB_caribbean_unification


continuous_focus_position = { x = 5950 y = 2800 }


	focus = { #POLITICAL Tree Start
		id = CUB_results_of_the_presidential_election
		icon = GFX_goal_cuba_presidential_election
		cost = 1.3
		x = 48
		y = 0

		ai_will_do = {
			factor = 100
		}

		bypass = {
			has_country_flag = cuba_election_flag_1936
		}

		completion_reward = {
			custom_effect_tooltip = CUB_results_of_the_presidential_election_tt
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}


####################################################################################################################################################################
###Historical POLITICAL Tree###
####################################################################################################################################################################

	focus = {
		id = CUB_victory_for_gomez
		icon = GFX_goal_cuba_victory_for_gomez
		cost = 10
		prerequisite = { focus = CUB_results_of_the_presidential_election }
		mutually_exclusive = { focus = CUB_victory_for_garcia_menocal }
		relative_position_id = CUB_results_of_the_presidential_election
		x = -10
		y = 1

		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_flag = gomez_inaugurated_flag
		}

		bypass = {
			has_country_flag = gomez_inaugurated_flag
		}

		completion_reward = {
			custom_effect_tooltip = CUB_president_inaugurated_tt
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_the_nine_cent_law
		icon = GFX_goal_CUB_sugar_money
		cost = 10
		prerequisite = { focus = CUB_victory_for_gomez }
		mutually_exclusive = { focus = CUB_military_coup }
		relative_position_id = CUB_victory_for_gomez
		x = -2
		y = 1

		completion_reward = {
			add_ideas = CUB_the_nine_cent_law
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_issue_amnesties
		icon = GFX_goal_cuba_issuing_amnesties
		cost = 10
		prerequisite = { focus = CUB_the_nine_cent_law }
		relative_position_id = CUB_the_nine_cent_law
		x = -2
		y = 1

		completion_reward = {
			add_stability = -0.05
			add_political_power = 200
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_raul_castillo
		}		

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_taxation_reforms
		icon = GFX_focus_generic_treaty
		cost = 10
		prerequisite = { focus = CUB_the_nine_cent_law focus = CUB_military_coup }
		relative_position_id = CUB_the_nine_cent_law
		x = 3
		y = 1

		completion_reward = {
			add_ideas = VEN_tax_reform
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_minimum_wage_laws
		icon = GFX_goal_generic_deals
		cost = 10
		prerequisite = { focus = CUB_the_nine_cent_law }
		relative_position_id = CUB_the_nine_cent_law
		x = 0
		y = 1

		completion_reward = {
			add_ideas = CUB_minimum_wage_laws_idea
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_retirement_pensions
		icon = GFX_goal_cuba_stimulate_exportations
		cost = 10
		prerequisite = { focus = CUB_minimum_wage_laws }
		relative_position_id = CUB_minimum_wage_laws
		x = 1
		y = 1

		completion_reward = {
			add_stability = 0.10
			add_political_power = 125
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_eduardo_chibas
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CUB_reduce_american_influence
		icon = GFX_goal_cuba_diminish_american_influence
		cost = 10
		prerequisite = { focus = CUB_retirement_pensions }
		relative_position_id = CUB_retirement_pensions
		x = 0
		y = 1

		bypass = {
			NOT = {
				has_idea = CUB_american_influence
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_american_influence
				add_idea = CUB_reduced_american_influence
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = USA_general_motors
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_law_of_sugar_coordination
		icon = GFX_goal_cuba_law_of_sugar_coordination
		cost = 10
		prerequisite = { focus = CUB_minimum_wage_laws }
		relative_position_id = CUB_minimum_wage_laws
		x = -1
		y = 1

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry }
				swap_ideas = {
					remove_idea = CUB_recovering_sugar_industry
					add_idea = CUB_recovering_sugar_industry_1
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry_1 }
				remove_ideas = CUB_recovering_sugar_industry_1
			}
			
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_confederation_of_cuban_workers
		icon = GFX_goal_generic_industrial_unionism
		cost = 10
		prerequisite = { focus = CUB_law_of_sugar_coordination }
		relative_position_id = CUB_law_of_sugar_coordination
		x = 0
		y = 1

		completion_reward = {
			add_ideas = CUB_ctc_legalized
			add_popularity = {
			    ideology = communism
			    popularity = 0.03
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_join_the_allies
		icon = GFX_goal_cuba_join_the_allies
		cost = 5
		prerequisite = { focus = CUB_reduce_american_influence focus = CUB_american_sugar_investments }
		relative_position_id = CUB_confederation_of_cuban_workers
		x = 4
		y = 1

		available = {
			is_subject = no
			is_in_faction = no
			any_other_country = {
				is_major = yes
				has_government = democratic
				is_faction_leader = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}						
			}
			NOT = {
				has_completed_focus = CUB_caribbean_dominance
			}
		}

        completion_reward = {
            if = {
                limit = {
                    USA = {
                        has_government = democratic
                    }
                }
                USA = {
                     add_opinion_modifier = { target = CUB modifier = medium_increase }
                }
            }
            if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						NOT = {
							has_completed_focus = ENG_a_change_in_course
							has_completed_focus = ENG_visit_germany
						}
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = ENG
							has_war_with = ROOT
						}
					}					
				}
				ENG = {
					country_event = { id = generic.2 }
                     add_opinion_modifier = { target = CUB modifier = medium_increase }
				}
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}		

        }
		search_filters = { FOCUS_FILTER_ALLIANCE }		
	}

	focus = {
		id = CUB_rewrite_the_constitution
		icon = GFX_goal_cuba_rewrite_the_constitution
		cost = 5
		prerequisite = { focus = CUB_confederation_of_cuban_workers }
		prerequisite = { focus = CUB_reduce_american_influence }
		relative_position_id = CUB_confederation_of_cuban_workers
		x = -1
		y = 1

        completion_reward = {
			remove_ideas = CUB_batistas_influence
			add_political_power = 50
        }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }		
	}

	focus = {
		id = CUB_establish_soviet_diplomatic_relations
		icon = GFX_focus_generic_russian_deal_communist
		cost = 7.2
		prerequisite = { focus = CUB_rewrite_the_constitution }
		relative_position_id = CUB_rewrite_the_constitution
		x = 2
		y = 1

		available = {
			country_exists = SOV
			SOV = {
				has_government = communism
				NOT = {
					has_war_with = ROOT
				}
			}
		}

        completion_reward = {
            SOV = {
				add_opinion_modifier = {
					target = CUB
					modifier = large_increase
				}
			}
			CUB = {
				add_opinion_modifier = {
					target = SOV
					modifier = large_increase
				}
			}
        }
		search_filters = { FOCUS_FILTER_ALLIANCE }		
	}

	focus = {
		id = CUB_increase_education_funding
		icon = GFX_focus_research
		cost = 10
		prerequisite = { focus = CUB_rewrite_the_constitution }
		relative_position_id = CUB_rewrite_the_constitution
		x = -2
		y = 1

		available = {

		}

        completion_reward = {
            add_research_slot = 1
        }
		search_filters = { FOCUS_FILTER_RESEARCH }		
	}

	focus = {
		id = CUB_modernize_medical_care
		icon = GFX_goal_medicine
		cost = 10
		prerequisite = { focus = CUB_rewrite_the_constitution }
		relative_position_id = CUB_rewrite_the_constitution
		x = 0
		y = 1

		available = {

		}

        completion_reward = {
            add_ideas = CUB_modernized_medical_care1
        }
		search_filters = { FOCUS_FILTER_MANPOWER }		
	}

	focus = {
		id = CUB_military_improvements
		icon = GFX_goal_generic_military_funding
		cost = 10
		prerequisite = { focus = CUB_modernize_medical_care }
		relative_position_id = CUB_modernize_medical_care
		x = 1
		y = 1

		available = {

		}

        completion_reward = {
            add_ideas = CUB_increased_army_payroll
        }
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_IMPROVEMENT }		
	}

	focus = {
		id = CUB_establish_rural_hospitals
		icon = GFX_goal_SWI_red_cross
		cost = 10
		prerequisite = { focus = CUB_modernize_medical_care }
		relative_position_id = CUB_modernize_medical_care
		x = -1
		y = 1

		available = {

		}

        completion_reward = {
            swap_ideas = {
				remove_idea = CUB_modernized_medical_care1
				add_idea = CUB_modernized_medical_care2
			}
        }
		search_filters = { FOCUS_FILTER_MANPOWER }		
	}

	focus = {
		id = CUB_american_air_bases
		icon = GFX_goal_generic_airport
		x = -1
		y = 1
		relative_position_id = CUB_join_the_allies
		cost = 10
		prerequisite = {
			focus = CUB_join_the_allies
		}
		available = {
			NOT = {
				has_war_with = USA
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = {315}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {926}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}

			add_equipment_to_stockpile = {
			    type = fighter_equipment_0
			    amount = 100
			    producer = USA
			}
		}
	}

	focus = {
		id = CUB_winning_the_battle_of_the_caribbean
		icon = GFX_goal_generic_navy_anti_submarine
		cost = 10
		prerequisite = { focus = CUB_join_the_allies }
		relative_position_id = CUB_join_the_allies
		x = 1
		y = 1

		available = {
			OR = {
				has_war = yes
				threat > 0.5
			}
		}

		completion_reward = {
			if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = secret_bonus
					bonus = 1
					uses = 1
					category = radar_tech
				}
                add_tech_bonus = {
                    name = secret_bonus
					bonus = 1
					uses = 1
					category = asw_tech
				}
            }
            if = {
                limit = {
                    NOT = {
                        has_dlc = "Man the Guns"
                    }
                }
                add_tech_bonus = {
                    name = secret_bonus
					bonus = 1
					uses = 2
					category = radar_tech
				}
            }
			add_ideas = CUB_winning_the_battle_of_the_caribbean
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

###################################################################################################################################################################
###Alt History Path Start###
###################################################################################################################################################################

	focus = { #Both Paths Start Here
		id = CUB_victory_for_garcia_menocal
		icon = GFX_goal_cuba_victory_for_garcia_menocal
		cost = 10
		prerequisite = { focus = CUB_results_of_the_presidential_election }
		mutually_exclusive = { focus = CUB_victory_for_gomez }
		relative_position_id = CUB_results_of_the_presidential_election
		x = 10
		y = 1

		available = {
			has_country_flag = garcia_menocal_inaugurated_flag
		}

		bypass = {
			has_country_flag = garcia_menocal_inaugurated_flag
		}

		completion_reward = {
			custom_effect_tooltip = CUB_president_inaugurated_tt
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

#####################################################################################################################################################################
###Communist Path###
#####################################################################################################################################################################

	focus = {
		id = CUB_oppose_the_presidency
		icon = GFX_goal_generic_communist_government2
		cost = 5
		prerequisite = { focus = CUB_victory_for_garcia_menocal	}
		mutually_exclusive = { focus = CUB_seek_falangist_support }
		relative_position_id = CUB_victory_for_garcia_menocal
		x = 8
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_fabio_grobart
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_galvanize_the_ctc
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		cost = 7.2
		prerequisite = { focus = CUB_oppose_the_presidency }
		relative_position_id = CUB_oppose_the_presidency
		x = 0
		y = 1

		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_ideas = CUB_ctc_galvanized
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

	}

	focus = {
		id = CUB_ctc_recruitment
		icon = GFX_goal_spread_communism
		cost = 7.2
		prerequisite = { focus = CUB_galvanize_the_ctc }
		relative_position_id = CUB_galvanize_the_ctc
		x = 0
		y = 1

		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_ctc_galvanized
				add_idea = CUB_ctc_galvanized_1
			}
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

	}

	focus = {
		id = CUB_unionize_the_sugar_mills
		icon = GFX_goal_cuba_law_of_sugar_coordination
		cost = 10
		prerequisite = { focus = CUB_ctc_recruitment }
		relative_position_id = CUB_ctc_recruitment
		x = 0
		y = 1

		completion_reward = {
			add_ideas = CUB_unionized_sugar_mills
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_overthrow_the_menocal_government
		icon = GFX_goal_ussr_revolt
		cost = 10
		prerequisite = { focus = CUB_unionize_the_sugar_mills }
		relative_position_id = CUB_unionize_the_sugar_mills
		x = 0
		y = 1

		available = { 
			is_subject = no
			communism > 0.4 
		}

		completion_reward = {
			if = {
				limit = {
					has_stability < 0.5
				}
				start_civil_war = {
					ruling_party = communism
					ideology = neutrality
					size = 0.4
					keep_POLITICAL_party_members = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

	}

	focus = {
		id = CUB_state_visit_to_the_soviet_union
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 5
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = -4
		y = 1

		available = {
			country_exists = SOV
			SOV = {
				has_government = communism
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			add_opinion_modifier = {
				target = SOV
				modifier = large_increase
			}
			if = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = SOV
							has_war_with = ROOT
						}
					}
				}
				SOV = {
					add_opinion_modifier = {
						target = CUB
						modifier = large_increase
					}
					country_event = { id = generic.2 }
				}
			}
		}

		search_filters = { FOCUS_FILTER_ALLIANCE }

	}

	focus = {
		id = CUB_study_soviet_tactics
		icon = GFX_goal_generic_army_doctrines
		cost = 10
		prerequisite = { focus = CUB_state_visit_to_the_soviet_union }
		relative_position_id = CUB_state_visit_to_the_soviet_union
		x = -1
		y = 1

		available = {
			country_exists = SOV
			SOV = {
				has_government = communism
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			army_experience = 5
			air_experience = 5
			add_doctrine_cost_reduction = {
				name = CUB_study_soviet_tactics
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = CUB_study_soviet_tactics
				cost_reduction = 0.25
				uses = 1
				category = air_doctrine
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

	}

	focus = {
		id = CUB_invite_NKVD_officers
		text = EGY_invite_NKVD_officers
		icon = GFX_goal_soviet_military_advisors
		cost = 10
		prerequisite = { focus = CUB_state_visit_to_the_soviet_union }
		relative_position_id = CUB_state_visit_to_the_soviet_union
		x = 1
		y = 1

		available = {
			country_exists = SOV
			SOV = {
				has_government = communism
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			add_ideas = EGY_soviet_NKVD_officers
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

	}

	focus = {
		id = CUB_soviet_tank_factories
		icon = GFX_goal_generic_heavy_armour_russian
		cost = 10
		prerequisite = { focus = CUB_state_visit_to_the_soviet_union }
		relative_position_id = CUB_state_visit_to_the_soviet_union
		x = 0
		y = 2

		available = {
			country_exists = SOV
			SOV = {
				has_government = communism
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
                name = armor_bonus
                bonus = 0.5
                uses = 1
                category = armor
            }
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
				}
			}
			if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                custom_effect_tooltip = available_mio_tt
                show_mio_tooltip = SOV_okmo_organization
            }
            else = {
                custom_effect_tooltip = available_designer
                show_ideas_tooltip = SOV_okmo
            }
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_create_a_central_committee
		icon = GFX_generic_goal_communist_reforms
		cost = 10
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = -2
		y = 1

		completion_reward = {
			add_stability = 0.10
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_carlos_rafael_rodriguez
		}

		search_filters = { FOCUS_FILTER_STABILITY }

	}

	focus = {
        id = CUB_support_communist_china
        text = AST_R56_support_communist_china
        icon = GFX_focus_chi_cooperation_with_the_communists
        relative_position_id = CUB_overthrow_the_menocal_government
		x = 9
		y = 1
        cost = 10
        available = {
            is_subject = no
            NOT = { 
                has_war_with = event_target:WTT_communist_china 
            }
			event_target:WTT_communist_china = {
				exists = yes
				has_government = communism
			}
        }
        prerequisite = {
            focus = CUB_overthrow_the_menocal_government
        }
        search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT }
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            event_target:WTT_communist_china = {
				add_opinion_modifier = {
					target = ROOT
					modifier = AST_delegation_to_china
				}
                add_equipment_to_stockpile = {
                    type = infantry_equipment
                    amount = 2000
                    producer = ROOT
                }
			}
			event_target:WTT_communist_china = {
				ROOT = {
					add_ai_strategy = {
						type = support
						id = PREV
						value = 100
					}
				}
			}

        }
    } 

	focus = {
		id = CUB_education_for_the_masses
		icon = GFX_goal_SOV_education_initiative
		cost = 10
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = 5
		y = 1

		completion_reward = {
			add_research_slot = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

	}

	focus = {
		id = CUB_the_cuban_politburo
		icon = GFX_focus_generic_soviet_politics
		cost = 10
		prerequisite = { focus = CUB_create_a_central_committee }
		relative_position_id = CUB_create_a_central_committee
		x = 0
		y = 2

		completion_reward = {
			add_ideas = CUB_cuban_politburo
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_IMPROVEMENT }

	}

	focus = {
		id = CUB_establish_the_dgi
		icon = GFX_goal_generic_communist_secret_police
		cost = 10
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = 0
		y = 1

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				create_intelligence_agency = {
					name = "DirecciÃ³n de Inteligencia"
					icon = GFX_r56_agency_logo_1
				}
				add_ideas = CUB_direccion_inteligencia
			}
			else = {
				add_tech_bonus = {
                    name = CUB_establish_the_dgi
                    bonus = 1
                    uses = 1
                    category = military_police_tech
                }
				add_ideas = HON_soviet_spies
			}
		}

		search_filters = { FOCUS_FILTER_ESPIONAGE }

	}

	focus = {
		id = CUB_radio_mil_diez
		icon = GFX_goal_generic_control_the_radio
		cost = 10
		prerequisite = { focus = CUB_establish_the_dgi }
		relative_position_id = CUB_establish_the_dgi
		x = -1
		y = 1

		completion_reward = {
			add_ideas = CUB_radio_mil_diez_idea
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MILITARY_IMPROVEMENT }

	}

	focus = {
		id = CUB_recruit_civilian_informants
		icon = GFX_goal_generic_secret_police
		cost = 10
		prerequisite = { focus = CUB_establish_the_dgi }
		relative_position_id = CUB_establish_the_dgi
		x = 1
		y = 1

		allow_branch = {
			has_dlc = "La Resistance"
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_direccion_inteligencia
				add_idea = CUB_direccion_inteligencia_2
			}
		}

		search_filters = { FOCUS_FILTER_ESPIONAGE }

	}

	focus = {
		id = CUB_liberate_the_dominican_republic
		icon = GFX_goal_generic_attack_dominica
		cost = 7.2
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = 7
		y = 1

		available = {
			is_subject = no
			NOT = {
				is_in_faction_with = DOM
			}
		}

		bypass = {
			OR = {
				has_war_with = DOM
				DOM = {
					is_subject_of = ROOT
				}
				NOT = {
					country_exists = DOM
				}
			}
		}

		completion_reward = {
			create_wargoal = {
				target = DOM
				expire = 0
				type = annex_everything
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

	}

	focus = {
		id = CUB_communism_in_the_caribbean
		icon = GFX_goal_sov_communist_cuba
		cost = 10
		prerequisite = { focus = CUB_liberate_the_dominican_republic }
		relative_position_id = CUB_liberate_the_dominican_republic
		x = 1
		y = 1

		available = {
			has_government = communism
			any_other_country = {
				r56_is_caribbean_country = yes
				NOT = {
					has_government = communism
				}
			}
		}

		bypass = {
			NOT = {
				any_other_country = {
					r56_is_caribbean_country = yes
					NOT = {
						has_government = communism
					}
				}
			}
		}

		completion_reward = {
			every_other_country = {
				limit = {
					r56_is_caribbean_country = yes
					NOT = {
						has_government = communism
					}
				}
				add_ideas = CUB_spread_communism
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

	}

	focus = {
		id = CUB_fuel_the_south_american_revolution
		icon = GFX_goal_red_army
		cost = 10
		prerequisite = { focus = CUB_communism_in_the_caribbean }
		relative_position_id = CUB_communism_in_the_caribbean
		x = -1
		y = 1

		available = {
			has_government = communism
			any_other_country = {
				capital_scope = {
					is_on_continent = south_america
				}
				NOT = {
					has_government = communism
				}
			}
		}

		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = south_america
					}
					NOT = {
						has_government = communism
					}
				}
				add_ideas = CUB_spread_communism
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

	}

	focus = {
		id = CUB_end_american_imperialism
		icon = GFX_goal_generic_attack_united_states
		cost = 10
		prerequisite = { focus = CUB_communism_in_the_caribbean }
		relative_position_id = CUB_communism_in_the_caribbean
		x = 1
		y = 1

		available = {
			is_subject = no
			NOT = {
				is_in_faction_with = USA
			}
			USA = {
				NOT = {
					has_government = communism
				}
			}
		}

		bypass = {
			OR = {
				has_war_with = USA
				USA = {
					is_subject_of = ROOT
				}
				NOT = {
					country_exists = USA
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = CUB_seize_foreign_sugar_mills
					}
				}
				remove_ideas = CUB_american_influence
			}
			else = {
				remove_ideas = CUB_reduced_american_influence
			}
			create_wargoal = {
				target = USA
				expire = 0
				type = puppet_wargoal_focus
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }

	}

	focus = {
		id = CUB_deal_with_haitian_oppressors
		icon = GFX_goal_generic_attack_haiti
		cost = 10
		prerequisite = { focus = CUB_liberate_the_dominican_republic }
		relative_position_id = CUB_liberate_the_dominican_republic
		x = -1
		y = 1

		available = {
			is_subject = no
			NOT = {
				is_in_faction_with = HAI
			}
		}

		bypass = {
			OR = {
				has_war_with = HAI
				HAI = {
					is_subject_of = ROOT
				}
				NOT = {
					country_exists = HAI
				}
			}
		}

		completion_reward = {
			create_wargoal = {
				target = HAI
				expire = 0
				type = annex_everything
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

	}

	focus = {
		id = CUB_one_caribbean_policy
		icon = GFX_goal_cuba_carribean_anti_imperialism
		cost = 5
		prerequisite = { focus = CUB_deal_with_haitian_oppressors }
		relative_position_id = CUB_deal_with_haitian_oppressors
		x = 0
		y = 2

		available = {
			is_subject = no
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = is_caribbean_tt
				OR = {
					has_cosmetic_tag = CAB
					has_cosmetic_tag = VEN_CARIBBEAN
				}	
			}
		}

		completion_reward = {
			every_state = {
				limit = {
					NOT = {
						is_owned_by = ROOT
					}
					state = 994
					state = 315
					state = 690
					state = 693
					state = 689
					state = 318
					state = 319
					state = 686
					state = 972
					state = 694
					state = 308
					state = 692
					state = 691
				}
				add_claim_by = ROOT
			}
			add_war_support = 0.1
			add_ideas = CUB_caribbean_dominance_idea
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

	}

	focus = {
		id = CUB_adapt_the_five_year_plan
		icon = GFX_five_year_plan_continue
		cost = 10
		prerequisite = { focus = CUB_overthrow_the_menocal_government }
		relative_position_id = CUB_overthrow_the_menocal_government
		x = 3
		y = 1

		completion_reward = {
			add_ideas = CUB_cuban_five_year_plan
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_seize_foreign_sugar_mills
		icon = GFX_goal_communist_factory
		cost = 10
		prerequisite = { focus = CUB_adapt_the_five_year_plan }
		relative_position_id = CUB_adapt_the_five_year_plan
		x = 0
		y = 1

		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = CUB_end_american_imperialism
					}
				}
				swap_ideas = {
					remove_idea = CUB_american_influence
					add_idea = CUB_reduced_american_influence
				}
			}
			swap_ideas = {
				remove_idea = CUB_cuban_five_year_plan
				add_idea = CUB_cuban_five_year_plan_1
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_collectivize_the_sugar_plantations
		icon = GFX_goal_cuba_law_of_sugar_coordination
		cost = 10
		prerequisite = { focus = CUB_seize_foreign_sugar_mills }
		relative_position_id = CUB_seize_foreign_sugar_mills
		x = 0
		y = 1

		completion_reward = {
			if = {
				limit = { has_idea = CUB_recovering_sugar_industry }
				swap_ideas = {
					remove_idea = CUB_recovering_sugar_industry
					add_idea = CUB_recovering_sugar_industry_1
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry_1 }
				remove_ideas = CUB_recovering_sugar_industry_1
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_expand_the_plantations
		icon = GFX_goal_generic_farm_tractor
		cost = 10
		prerequisite = { focus = CUB_collectivize_the_sugar_plantations }
		relative_position_id = CUB_collectivize_the_sugar_plantations
		x = 1
		y = 1

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_sugar_for_oil
		icon = GFX_goal_oil_agreement
		cost = 7.2
		prerequisite = { focus = CUB_expand_the_plantations }
		relative_position_id = CUB_expand_the_plantations
		x = -1
		y = 1

		available = {
			num_of_available_civilian_factories > 2
			country_exists = SOV
			SOV = {
				has_government = communism
			}
		}

		completion_reward = {
			SOV = {
				country_event = cuba.17
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 3
					}
					give_resource_rights = {
						receiver = CUB
						state = 577
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_industrialize_the_islands
		icon = GFX_goal_generic_construction_tools
		cost = 14.3
		prerequisite = { focus = CUB_expand_the_plantations }
		prerequisite = { focus = CUB_one_caribbean_policy }
		relative_position_id = CUB_expand_the_plantations
		x = 1
		y = 1

		available = {
			has_full_control_of_state = 689
			has_full_control_of_state = 318
			has_full_control_of_state = 319
			has_full_control_of_state = 686
		}

		completion_reward = {
			689 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			318 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			319 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			686 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

	focus = {
		id = CUB_seek_soviet_support 
		icon = GFX_goal_generic_soviet_assistance
		cost = 5
		prerequisite = { focus = CUB_galvanize_the_ctc }
		relative_position_id = CUB_galvanize_the_ctc
		x = -2
		y = 1

		allow_branch = {
			always = no # It's not my work I cba
		}

		completion_reward = {
			
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

	}

#####################################################################################################################################################################
###Fascist Path###
#####################################################################################################################################################################

	focus = {
		id = CUB_seek_falangist_support
		icon = GFX_focus_spa_the_phalanx_ascendant
		cost = 5
		prerequisite = { focus = CUB_victory_for_garcia_menocal	}
		mutually_exclusive = { focus = CUB_oppose_the_presidency }
		relative_position_id = CUB_victory_for_garcia_menocal
		x = -8
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_antonio_avendano
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_exert_influence_over_the_military
		icon = GFX_goal_extensive_conscription_fascism
		cost = 7.2
		prerequisite = { focus = CUB_seek_falangist_support	}
		relative_position_id = CUB_seek_falangist_support
		x = 1
		y = 1
		
		completion_reward = {
			add_timed_idea = {
				idea = CUB_falangist_military_influence
				days = 365
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = CUB_repeal_liberal_policies
		icon = GFX_goal_cuba_repeal_left_wing_reforms
		cost = 7.2
		prerequisite = { focus = CUB_seek_falangist_support	}
		relative_position_id = CUB_seek_falangist_support
		x = -1
		y = 1
		
		completion_reward = {
			add_stability = -0.05
			add_political_power = -25
			add_ideas = CUB_repealed_liberal_policies_idea
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_RESOURCES FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_gather_political_support
		icon = GFX_goal_tripartite_pact
		cost = 7.2
		prerequisite = { focus = CUB_repeal_liberal_policies }
		prerequisite = { focus = CUB_exert_influence_over_the_military }
		relative_position_id = CUB_repeal_liberal_policies
		x = 1
		y = 1
		
		completion_reward = {
			add_political_power = 50
			add_popularity = {
			    ideology = fascism
			    popularity = 0.1
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_encourage_anti_communist_violence
		icon = GFX_goal_attack_communists
		cost = 5
		prerequisite = { focus = CUB_gather_political_support }
		relative_position_id = CUB_gather_political_support
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = CUB_anti_communist_violence
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}
	
	focus = {
		id = CUB_secure_power
		icon = GFX_focus_spa_fuse_the_parties
		cost = 10
		prerequisite = { focus = CUB_encourage_anti_communist_violence }
		relative_position_id = CUB_encourage_anti_communist_violence
		x = 0
		y = 1

		available = { fascism > 0.4	}
		
		completion_reward = {
			if = {
				limit = {
					fascism < 0.5
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.5
				}
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_stability = -0.05
			remove_ideas = { CUB_anti_communist_violence }
			remove_ideas = { CUB_falangist_military_influence }
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = CUB_deal_with_batista
		icon = GFX_goal_cuba_batista_coup
		cost = 10
		prerequisite = { focus = CUB_secure_power }
		relative_position_id = CUB_secure_power
		x = 0
		y = 1
		
		available = {			
			has_idea = CUB_batistas_influence
		}

		completion_reward = {
			country_event = { id = cuba.14 hours = 6 }
		}

		search_filters = { FOCUS_FILTER_STABILITY }
	}
	
###Internal politics####################################################################################################################################################

	focus = {
		id = CUB_stabilize_internal_politics
		icon = GFX_goal_generic_interal_instability
		cost = 10
		prerequisite = { focus = CUB_secure_power focus = CUB_government_reshuffle }
		relative_position_id = CUB_secure_power 
		x = -4
		y = 1
		
		available = {			
			
		}

		completion_reward = {
			add_stability = 0.1
			add_political_power = 100
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CUB_panhispanic_diplomacy
		icon = GFX_goal_CUB_pan_hispanism
		cost = 10
		prerequisite = { focus = CUB_stabilize_internal_politics }
		relative_position_id = CUB_stabilize_internal_politics 
		x = 0
		y = 1
		
		available = {			
			
		}

		completion_reward = {
			every_country = {
				limit = { has_country_flag = hispanic }
				add_opinion_modifier = {
					target = CUB
					modifier = large_increase
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_subvert_american_influence
		icon = GFX_goal_cuba_diminish_american_influence
		cost = 10
		prerequisite = { focus = CUB_stabilize_internal_politics }
		relative_position_id = CUB_stabilize_internal_politics 
		x = 1
		y = 3
		
		available = {			
			has_idea = CUB_american_influence
		}

		bypass = {
			NOT = {
				has_idea = CUB_american_influence
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_american_influence
				add_idea = CUB_reduced_american_influence
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_nationalize_foreign_sugar_mills
		icon = GFX_goal_fascist_factory
		cost = 10
		prerequisite = { focus = CUB_subvert_american_influence }
		relative_position_id = CUB_subvert_american_influence 
		x = -1
		y = 1
		
		available = {			
			has_government = fascism
		}

		completion_reward = {
			add_political_power = 25
			if = {
				limit = { has_idea = CUB_recovering_sugar_industry }
				swap_ideas = {
					remove_idea = CUB_recovering_sugar_industry
					add_idea = CUB_recovering_sugar_industry_1
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry_1 }
				remove_ideas = CUB_recovering_sugar_industry_1
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_invite_german_companies
		icon = GFX_goal_italy_autarky
		cost = 10
		prerequisite = { focus = CUB_subvert_american_influence }
		relative_position_id = CUB_subvert_american_influence 
		x = 1
		y = 1
		
		available = {			
			country_exists = GER
			NOT = {
				has_war_with = GER
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
				}
			}
			if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                custom_effect_tooltip = available_mio_tt
                show_mio_tooltip = GER_mauser_organization
				show_mio_tooltip = GER_porsche_organization
            }
            else = {
                custom_effect_tooltip = available_designer
                show_ideas_tooltip = mauser
				show_ideas_tooltip = porsche
            }
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_join_the_reich
		icon = GFX_focus_chi_mission_to_germany
		relative_position_id = CUB_invite_german_companies 
		prerequisite = { focus = CUB_invite_german_companies }
		x = 0
		y = 1
		cost = 5
		

		available = {
			is_in_faction = no
			is_subject = no
			GER = {
				has_government = fascism
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		completion_reward = {
			GER = {
				country_event = generic.2
			}
		}
		search_filters = { FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = CUB_falangist_ideas_in_schools
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = CUB_stabilize_internal_politics }
		
		x = 2
		y = 1
		relative_position_id = CUB_stabilize_internal_politics
		
		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = fascism
		}
		
		completion_reward = {
			add_research_slot = 1
			add_ideas = CUB_falangist_youth_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = CUB_strengthen_catholic_identity
		icon = GFX_goal_generic_catholic_education
		prerequisite = { focus = CUB_falangist_ideas_in_schools }
		
		x = 0
		y = 1
		relative_position_id = CUB_falangist_ideas_in_schools
		
		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = fascism
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_falangist_devotion_idea
				add_idea = CUB_strengthened_catholic_identity
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}


###Conquest#############################################################################################################################################################

	focus = {
		id = CUB_caribbean_dominance
		icon = GFX_goal_CUB_caribbean_dominance
		relative_position_id = CUB_secure_power 
		prerequisite = { focus = CUB_secure_power focus = CUB_external_interests }
		x = 4
		y = 1
		cost = 7.2
		

		available = {			
			is_subject = no
			OR = {
				NOT = {
					has_completed_focus = CUB_join_the_allies
				}
				NOT = {
					ENG = {
						has_government = democratic
					}
				}
			}
		}

		completion_reward = {
			add_war_support = 0.10
			add_ideas = CUB_caribbean_dominance_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_army_expansion
		icon = GFX_goal_cuba_presidential_guard
		prerequisite = { focus = CUB_caribbean_dominance }
		x = -4
		y = 1
		relative_position_id = CUB_caribbean_dominance

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			NOT = {
				has_completed_focus = CUB_military_pensions
			}
		}

		bypass = {
			has_completed_focus = CUB_military_pensions
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CUB_military_expansions
			if = {
				limit = {
					NOT = {
						has_completed_focus = CUB_spanish_civil_war_involvement
					}
				}
				set_rule = { can_send_volunteers = yes }
			}
		}
		search_filters = {  FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_XP }
	}	

	focus = {
		id = CUB_the_caribbean_guard
		icon = GFX_goal_CUB_coat_of_arms
		prerequisite = { focus = CUB_army_expansion }
		
		x = 0
		y = 1
		relative_position_id = CUB_army_expansion
		
		cost = 10

		available_if_capitulated = yes

		available = {
			has_full_control_of_state = 315
			has_full_control_of_state = 318
			has_full_control_of_state = 319
		}
		
		completion_reward = {
			add_ideas = CUB_caribbean_guard
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	focus = {
		id = CUB_amphibious_invasion_preparation
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = CUB_caribbean_dominance }
		x = -2
		y = 1
		relative_position_id = CUB_caribbean_dominance

		cost = 10

		ai_will_do = {
			factor = 1

		}

		completion_reward = {				
			add_tech_bonus = {
				name = JAP_expand_the_snlf
				bonus = 1
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = JAP_expand_the_snlf
				bonus = 1.0
				uses = 1
				category = r56_special_forces_training_tech 
			}			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = JAP_expand_the_snlf
					bonus = 1
					uses = 1
					category = amphibious_armor_tech
				}				
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_special_amphibious_training
		icon = GFX_goal_generic_marines2
		prerequisite = { focus = CUB_amphibious_invasion_preparation }
		x = 0
		y = 2
		relative_position_id = CUB_amphibious_invasion_preparation

		cost = 14.4

		ai_will_do = {
			factor = 1

		}

		completion_reward = {				
			add_ideas = CUB_amphibious_training_idea
			custom_effect_tooltip = CUB_amphibious_training_tt
			hidden_effect = { set_technology = { CUB_amphibious_training = 1 } }
			random_unit_leader = {
                limit = {
                    NOT = {
                        has_trait = naval_invader
                    }
                }
                add_unit_leader_trait = naval_invader
            }
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	focus = {
		id = CUB_command_the_caribbean
		icon = GFX_goal_generic_befriend_united_caribbean
		relative_position_id = CUB_caribbean_dominance 
		prerequisite = { focus = CUB_caribbean_dominance }
		mutually_exclusive = { focus = CUB_join_with_japan }
		x = 4
		y = 1
		cost = 5
		

		available = {
			is_in_faction = no
			is_subject = no
		}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = "Caribbean Pact"
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = CUB_invite_our_spanish_brothers
		icon = GFX_goal_generic_befriend_spain_nationalist
		relative_position_id = CUB_command_the_caribbean 
		prerequisite = { focus = CUB_command_the_caribbean }
		x = 0
		y = 1
		cost = 5
		

		available = {
			is_faction_leader = yes
			is_subject = no
			SPR = {
				is_in_faction = no
				is_subject = no
				has_government = fascism
			}
		}
		completion_reward = {
			SPR = {
				country_event = {
					id = cuba.10
				}
			}
		}
		search_filters = { FOCUS_FILTER_ALLIANCE }
	}	

	focus = {
		id = CUB_join_with_japan
		icon = GFX_focus_chi_collaboration_with_the_japanese
		relative_position_id = CUB_caribbean_dominance 
		prerequisite = { focus = CUB_caribbean_dominance }
		mutually_exclusive = { focus = CUB_command_the_caribbean }
		x = 2
		y = 1
		cost = 5
		

		available = {
			is_in_faction = no
			is_subject = no
			JAP = {
				has_government = fascism
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		completion_reward = {
			JAP = {
				country_event = generic.2
			}
		}
		search_filters = { FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = CUB_subjugate_hispaniola
		icon = GFX_goal_generic_attack_dominica
		x = 0
		y = 1
		prerequisite = { focus = CUB_caribbean_dominance }
		relative_position_id = CUB_caribbean_dominance
		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 0.1
				has_war = yes
			}
		}

		available = {
			is_subject = no
		}
		bypass = {
			owns_state = 318
			owns_state = 319
		}

		completion_reward = {
			add_ai_strategy = {
                type = conquer
                id = "DOM"
                value = 200
            }
            add_ai_strategy = {
                type = conquer
                id = "HAI"
                value = 200
            }
            add_state_claim = 318
            add_state_claim = 319
            if = {
                limit = {
                    NOT = {
                        owns_state = 319
                    }
                }
                319 = {
                    OWNER = {
						OWNER = {
							country_event = { id = cuba.11 }
						}
                    }
                }
            }
            if = {
                limit = {
                    NOT = {
                        owns_state = 318
                    }
                }
                318 = {
                    OWNER = {
                        country_event = { id = cuba.11 }
                    }
                }
            }
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_demand_the_eastern_isles
		icon = GFX_goal_CUB_antilles
		x = 1
		y = 1
		prerequisite = { focus = CUB_subjugate_hispaniola }
		relative_position_id = CUB_subjugate_hispaniola
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no						
		}
		bypass = {
			owns_state = 686
			owns_state = 900
			owns_state = 694
			owns_state = 308
			owns_state = 692	
		}

		completion_reward = {		
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
                            state = 686
                            state = 900
                            state = 694
							state = 308
							state = 692
                        }
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}	
			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_demand_jamaica_and_the_bahamas
		icon = GFX_goal_CUB_bahamas
		x = -1
		y = 1
		prerequisite = { focus = CUB_subjugate_hispaniola }
		relative_position_id = CUB_subjugate_hispaniola
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no						
		}
		bypass = {
			owns_state = 689
			owns_state = 690
			owns_state = 693
		}

		completion_reward = {		
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
                            state = 689
                            state = 690
                            state = 693
                        }
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}		
			
			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_lay_claim_to_curacao_and_trinidad
		icon = GFX_goal_attack_trinidad
		x = -1
		y = 1
		prerequisite = { focus = CUB_demand_the_eastern_isles }
		prerequisite = { focus = CUB_demand_jamaica_and_the_bahamas}
		relative_position_id = CUB_demand_the_eastern_isles
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no		
		}
		bypass = {
			owns_state = 695
			owns_state = 691		
		}

		completion_reward = {		
			if = {
				limit = {
					NOT = {
						owns_state = 695
					}
				}	
				add_state_claim = 695		
				695 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 695 }
							}
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						owns_state = 691
					}
				}
				add_state_claim = 691
				691 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 691 }
							}
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}			
			}			
			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_island_fortification_project
		icon = GFX_goal_generic_nested_fortifications
		x = -1
		y = 1
		prerequisite = { focus = CUB_lay_claim_to_curacao_and_trinidad }
		relative_position_id = CUB_lay_claim_to_curacao_and_trinidad
		cost = 20
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY }
		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 689
			controls_state = 690
			controls_state = 693
			controls_state = 686
			controls_state = 900
			controls_state = 694
			controls_state = 308
			controls_state = 692
			controls_state = 691
			controls_state = 695
		}
		bypass = {
				
		}

		completion_reward = {
			custom_effect_tooltip = CUB_island_fortification_tt
			hidden_effect = {		
				689 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 12304
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 12304
						level = 2
					}
				}
				690 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 10254
						level = 3
					}
					add_building_construction = {
						type = coastal_bunker
						province = 4647
						level = 2
					}
					add_building_construction = {
						type = coastal_bunker
						province = 7245
						level = 2
					}
					add_building_construction = {
						type = naval_base
						province = 10254
						level = 2
					}
				}
				693 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 1513
						level = 3
					}
					add_building_construction = {
						type = coastal_bunker
						province = 10440
						level = 2
					}
					add_building_construction = {
						type = naval_base
						province = 1513
						level = 2
					}
				}
				318 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 4641
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 4641
						level = 2
					}
				}
				319 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 7660
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 7660
						level = 2
					}
				}
				686 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 1440
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 1440
						level = 2
					}
				}
				900 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 4155
						level = 2
					}
					add_building_construction = {
						type = naval_base
						province = 4155
						level = 1
					}
				}
				694 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9377
						level = 3
					}
					add_building_construction = {
						type = coastal_bunker
						province = 13084
						level = 2
					}
					add_building_construction = {
						type = coastal_bunker
						province = 177
						level = 2
					}
					add_building_construction = {
						type = naval_base
						province = 9377
						level = 2
					}
				}
				308 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 7123
						level = 3
					}
					add_building_construction = {
						type = coastal_bunker
						province = 4450
						level = 2
					}
					add_building_construction = {
						type = naval_base
						province = 7123
						level = 2
					}
				}
				692 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 7123
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 7123
						level = 2
					}
				}
				691 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3284
						level = 3
					}
					add_building_construction = {
						type = bunker
						province = 3284
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 3284
						level = 2
					}
				}
				695 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
					}
					add_building_construction = {
						type = coastal_bunker
						province = 153
						level = 3
					}
					add_building_construction = {
						type = bunker
						province = 153
						level = 3
					}
					add_building_construction = {
						type = naval_base
						province = 153
						level = 2
					}
				}
			}
		}
	}

	focus = {
		id = CUB_seize_venezuela
		icon = GFX_goal_generic_attack_venezuela
		x = 0
		y = 2
		prerequisite = { focus = CUB_lay_claim_to_curacao_and_trinidad }
		relative_position_id = CUB_lay_claim_to_curacao_and_trinidad
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			NOT = {
				is_in_faction_with = VEN
			}
		}
		bypass = {
			OR = {
				VEN = {
					is_subject_of = ROOT
				}
				AND = {
					owns_state = 489
					owns_state = 307
					owns_state = 948
					owns_state = 488
				}
			}
		}

		completion_reward = {
			add_state_claim = 489
			add_state_claim = 307
			add_state_claim = 948
			add_state_claim = 488
			create_wargoal = {
				target = VEN
				expire = 0
				type = annex_everything
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_island_development_plan
		icon = GFX_goal_generic_road
		x = 1
		y = 2
		prerequisite = { focus = CUB_demand_the_eastern_isles }
		prerequisite = { focus = CUB_demand_jamaica_and_the_bahamas}
		relative_position_id = CUB_demand_the_eastern_isles
		cost = 7.2

		ai_will_do = {
			factor = 25
		}

		available = {
			has_full_control_of_state = 689
			has_full_control_of_state = 315
			has_full_control_of_state = 318
			has_full_control_of_state = 319
		}
		bypass = {
			#AFG = {
			#	r56_script_standard_bypass = yes
			#}			
		}

		completion_reward = {		
			add_ideas = CUB_island_development_plan_idea
			689 = {
				add_extra_state_shared_building_slots = 1
			}
			315 = {
				add_extra_state_shared_building_slots = 1
			}
			318 = {
				add_extra_state_shared_building_slots = 1
			}
			319 = {
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = CUB_spanish_civil_war_involvement
		icon = GFX_goal_generic_spanish_civil_war_soldier
		relative_position_id = CUB_secure_power
		prerequisite = { focus = CUB_secure_power focus = CUB_external_interests }
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				is_historical_focus_on = no
				has_global_flag = scw_is_ai_driven
				ROOT = {
					has_war = no
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
				add = 8
			}
		}
		bypass = {
			has_global_flag = r56_scw_our_own_ending_check
		}
		available = {
			has_global_flag = spanish_civil_war
			has_war = no
			NOT = {
				has_global_flag = r56_scw_our_own_ending_check 
			}
		}

		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_timed_idea = {
				idea = r56_CHL_spanish_civil_war_involvement
				days = 1100
			}
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_SPA_CIVIL_WAR }
	}

#######################################################################################################################################################################
###Batista's Dictatorship###
#######################################################################################################################################################################

	focus = {
		id = CUB_military_coup
		icon = GFX_goal_CUB_batista_military_coup
		cost = 10
		prerequisite = { focus = CUB_victory_for_gomez }
		mutually_exclusive = { focus = CUB_the_nine_cent_law }
		relative_position_id = CUB_victory_for_gomez
		x = 6
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
		completion_reward = {
			add_stability = -0.2
			swap_ideas = { 
				remove_idea = CUB_batistas_influence
				add_idea = CUB_democratic_opposition
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.2
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CUB_military_pensions
		icon = GFX_goal_generic_military_funding
		cost = 10
		prerequisite = { focus = CUB_military_coup }
		relative_position_id = CUB_military_coup
		x = -2
		y = 1

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = CUB_military_pensions_idea
			army_experience = 25
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = CUB_secure_united_states_political_support
		icon = GFX_goal_generic_usa_assistance
		cost = 10
		prerequisite = { focus = CUB_military_coup }
		relative_position_id = CUB_military_coup
		x = 0
		y = 1

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_american_influence
				add_idea = CUB_us_POLITICAL_support
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_reach_out_to_trujillo
		icon = GFX_goal_generic_befriend_dominica
		cost = 5
		prerequisite = { focus = CUB_secure_united_states_political_support  }
		relative_position_id = CUB_secure_united_states_political_support
		x = 0
		y = 1

		available = {
			country_exists = DOM
			NOT = {
				has_war_with = DOM
			}
			DOM = {
				has_government = neutrality
			}
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			DOM = {
				country_event = { id = cuba.23 hours = 6 }
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				diplomatic_relation = {
					country = DOM
					relation = non_aggression_pact
					active = yes
				}
				diplomatic_relation = {
					country = DOM
					relation = guarantee
					active = yes
				}
				DOM = {
					diplomatic_relation = {
						country = CUB
						relation = guarantee
						active = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = CUB_unite_hispaniola
		icon = GFX_goal_generic_befriend_haiti
		cost = 10
		prerequisite = { focus = CUB_reach_out_to_trujillo }
		relative_position_id = CUB_reach_out_to_trujillo
		x = 0
		y = 2

		available = {
			is_subject = no
			HAI = {
				is_subject = no
				NOT = {
					has_war_with = ROOT
					has_war_with = DOM
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			HAI = {
				country_event = cuba.15
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				DOM = {
					annex_country = {
						target = HAI
						transfer_troops = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_caribbean_unity
		icon = GFX_goal_generic_befriend_united_caribbean
		cost = 10
		prerequisite = { focus = CUB_unite_hispaniola }
		relative_position_id = CUB_unite_hispaniola
		x = 0
		y = 1
		available = {
			is_subject = no
			has_non_aggression_pact_with = DOM
			DOM = {
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			DOM = {
				country_event = cuba.16
			}
			effect_tooltip = {
				annex_country = {
					target = DOM
					transfer_troops = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CUB_conduct_joint_military_excercises
		icon = GFX_goal_generic_multinational_army
		cost = 10
		prerequisite = { focus = CUB_reach_out_to_trujillo }
		relative_position_id = CUB_reach_out_to_trujillo
		x = -1
		y = 1

		available = {
			country_exists = DOM
			NOT = {
				has_war_with = DOM
			}
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = CUB_conduct_joint_military_excercises
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			DOM = {
				army_experience = 10
				add_doctrine_cost_reduction = {
					name = CUB_conduct_joint_military_excercises
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = CUB_government_reshuffle
		icon = GFX_goal_generic_peaceful_diplomacy
		cost = 10
		prerequisite = { focus = CUB_secure_united_states_political_support }
		relative_position_id = CUB_secure_united_states_political_support
		x = 2
		y = 1

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = CUB_democratic_opposition
				add_idea = CUB_democratic_opposition_2
			}
			add_stability = 0.10
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.2
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CUB_invite_american_corporations
		icon = GFX_focus_generic_american_investments
		cost = 10
		prerequisite = { focus = CUB_secure_united_states_political_support }
		relative_position_id = CUB_secure_united_states_political_support
		x = -2
		y = 1

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = USA
		}

		bypass = {
			OR = {
				NOT = {
					country_exists = USA
				}
				has_war_with = USA
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = CUB_general_motors
			show_ideas_tooltip = CUB_standard_oil_california
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_american_sugar_investments
		icon = GFX_goal_cuba_nine_cents_law
		cost = 10
		prerequisite = { focus = CUB_invite_american_corporations }
		relative_position_id = CUB_invite_american_corporations
		x = -3
		y = 1

		available = {
			country_exists = USA
		}

		bypass = {
			OR = {
				NOT = {
					country_exists = USA
				}
				has_war_with = USA
			}
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = { has_idea = CUB_recovering_sugar_industry }
				swap_ideas = {
					remove_idea = CUB_recovering_sugar_industry
					add_idea = CUB_recovering_sugar_industry_1
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry_1 }
				remove_ideas = CUB_recovering_sugar_industry_1
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_deal_with_the_mafia
		icon = GFX_goal_generic_risky_deal
		cost = 5
		prerequisite = { focus = CUB_invite_american_corporations }
		relative_position_id = CUB_invite_american_corporations
		x = -1
		y = 1

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CUB_meyer_lansky
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CUB_implement_a_new_constitution
		icon = GFX_goal_generic_major_diplo
		cost = 10
		prerequisite = { focus = CUB_government_reshuffle }
		relative_position_id = CUB_government_reshuffle
		x = -1
		y = 1

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			remove_ideas = CUB_democratic_opposition_2
			add_ideas = CUB_rewritten_constitution
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CUB_external_interests
		icon = GFX_focus_eng_global_defense
		cost = 7.2
		prerequisite = { focus = CUB_government_reshuffle }
		relative_position_id = CUB_government_reshuffle
		x = 2
		y = 2

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = CUB_external_interests_idea
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = CUB_intervene_ACW
		icon = GFX_goal_CAN_scheme_no1
		prerequisite = { focus = CUB_secure_power focus = CUB_external_interests }
		relative_position_id = CUB_external_interests
		x = 0
		y = 1
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_IMPROVEMENT }

		cost = 5
		
		ai_will_do = {
			factor = 6
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		mutually_exclusive = {

		}
		
		available = {
			OR = {
				USA = {
					has_completed_focus = USA_america_first
					has_civil_war = yes
				}
				any_other_country = {
					exists = yes
					original_tag = USA
					has_government = fascism
					has_civil_war = yes
				}								
			}
		}
		
		bypass = {
			USA = { exists = no }
			has_war_with = USA
		}

		completion_reward = {
			random_country = {
				limit = {
					original_tag = USA
					has_government = fascism
					has_civil_war = yes					
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = R56_CAN_ACW_modifer
				}
			}
			add_ideas = r56_CAN_intervene_ACW_idea
		}
	}

	#Industry
	
	focus = {
		id = CUB_the_four_year_plan
		icon = GFX_goal_generic_strenght_through_industry
		x = 8
		y = 0
		cost = 5

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = CUB_the_four_year_plan
				bonus = 1.0
				uses = 1
				category = construction_tech
			}
			add_timed_idea = {
				idea = POL_four_year_plan_idea
				days = 1460
			}
		}
	}

	focus = {
		id = CUB_marta_abreu_university
		icon = GFX_focus_research
		prerequisite = { focus = CUB_the_four_year_plan }
		x = 0
		y = 1
		relative_position_id = CUB_the_four_year_plan
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			num_of_factories > 25
		}

		bypass = {
			amount_research_slots > 5
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = CUB_central_region_strategy
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = CUB_the_four_year_plan }
		x = 2
		y = 1
		relative_position_id = CUB_the_four_year_plan
		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
	
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 315 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CUB_expansion_of_new_towns
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CUB_central_region_strategy }
		x = 0
		y = 1
		relative_position_id = CUB_central_region_strategy
		cost = 5

		ai_will_do = {
			factor = 10
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 994 }
				limit = {									
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 315 }
				limit = {									
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CUB_start_central_industrial_region
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CUB_expansion_of_new_towns }
		x = 0
		y = 1
		relative_position_id = CUB_expansion_of_new_towns
		cost = 10

		ai_will_do = {
			factor = 10
		}

		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 88 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

	}
	
	focus = {
		id = CUB_expand_central_industrial_region
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CUB_start_central_industrial_region }
		x = 0
		y = 1
		relative_position_id = CUB_start_central_industrial_region
		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 89 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 91 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CUB_expansion_of_universities
		icon = GFX_goal_generic_education
		prerequisite = { focus = CUB_expansion_of_new_towns }
	
		available = {
			num_of_factories > 50
		}

		bypass = {
			amount_research_slots > 5
		}
		
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 2
		y = 1
		relative_position_id = CUB_expansion_of_new_towns
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = CUB_fill_the_railways_gaps
		icon = GFX_focus_generic_public_works_A
		prerequisite = { focus = CUB_the_four_year_plan }
		x = -2
		y = 1
		relative_position_id = CUB_the_four_year_plan
		cost = 5

		ai_will_do = {
			factor = 10
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_EQUIPMENT }

		completion_reward = {
			build_railway = {
				path = { 1550 7590 }
			}
			add_equipment_to_stockpile = { type = train_equipment_1 amount = 25 }
			add_tech_bonus = {
				name = CUB_fill_the_railways_gaps
				bonus = 0.5
				uses = 2
				category = train_tech
			}			
		}
	}

	focus = {
		id = CUB_steel_mills
		icon = GFX_focus_generic_steel
		prerequisite = { focus = CUB_fill_the_railways_gaps }
		x = -2
		y = 1
		relative_position_id = CUB_fill_the_railways_gaps
		cost = 10
		
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 1
                uses = 1
                category = steel_tech
            }			
			random_owned_controlled_state = {
				prioritize = { 92 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_mill
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_arial_defence_of_cuba
		icon = GFX_goal_airplane_hunt
		prerequisite = { focus = CUB_fill_the_railways_gaps focus = CUB_central_region_strategy }
		x = 2
		y = 1
		relative_position_id = CUB_fill_the_railways_gaps
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 994 }
				add_building_construction = {
					type = anti_air_building
					level = 2
				}
			}
			random_owned_controlled_state = {
				prioritize = { 315 }
				add_building_construction = {
					type = anti_air_building
					level = 2
				}
			}
		}
	}

	focus = {
		id = CUB_cuban_oil
		icon = GFX_goal_oil
		prerequisite = { focus = CUB_steel_mills }
		x = 0
		y = 1
		relative_position_id = CUB_steel_mills
		cost = 5

		available = {
			controls_state = 315
		}

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESOURCES FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
                name = CUB_cuban_oil
				bonus = 1
				uses = 1
				category = refining_tech
			}
			add_resource = {
				type = oil
				amount = 8
				state = 315
			}
		}
	}

	focus = {
		id = CUB_agrarian_reform
		icon = GFX_goal_CUB_sugar_money
		prerequisite = { focus = CUB_fill_the_railways_gaps }
		x = 0
		y = 1
		relative_position_id = CUB_fill_the_railways_gaps
		cost = 10

		cancelable = no

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			if = {
				limit = { has_idea = CUB_recovering_sugar_industry }
				swap_ideas = {
					remove_idea = CUB_recovering_sugar_industry
					add_idea = CUB_recovering_sugar_industry_1
				}
			}

			if = {
				limit = { has_idea = CUB_recovering_sugar_industry_1 }
				remove_ideas = CUB_recovering_sugar_industry_1
			}
		}		
	}

	#Army

	focus = {
		id = CUB_maximo_gomez_command_academy
		icon = GFX_goal_CUB_coat_of_arms

		x = 16
		y = 0
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = CUB_maximo_gomez_command_academy
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = CUB_weapon_modernisation
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = CUB_maximo_gomez_command_academy }
		relative_position_id = CUB_maximo_gomez_command_academy
		x = -2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_weapon_modernisation
				bonus = 0.5
				uses = 2
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_motorized_army
		icon = GFX_goal_generic_modernizing_the_cavalry
		prerequisite = { focus = CUB_maximo_gomez_command_academy }
		relative_position_id = CUB_maximo_gomez_command_academy
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_motorized_army
				bonus = 1
				uses = 1
				category = motorized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_study_new_land_doctrines
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = CUB_motorized_army focus = CUB_weapon_modernisation }
		relative_position_id = CUB_motorized_army
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = CUB_study_new_land_doctrines
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = CUB_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CUB_study_new_land_doctrines }
		relative_position_id = CUB_study_new_land_doctrines
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				name = CUB_special_forces
				bonus = 1
				uses = 2
				category = r56_jaeger_infantry_tech
				category = r56_mountain_infantry_tech
				category = r56_paratroops_infantry_tech	
				category = r56_shock_infantry_tech
			}
			add_tech_bonus = {
				name = CUB_special_forces
				bonus = 1
				uses = 1
				category = r56_special_forces_training_tech 
			}				
			hidden_effect = {
				set_country_flag = cite_an_airborne_unit_flag
			}
			unlock_decision_tooltip = { decision = cite_an_airborne_unit show_effect_tooltip = yes }			
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_jungle_specialization
		icon = GFX_goal_generic_jungle_warfare
		prerequisite = { focus = CUB_special_forces }
		relative_position_id = CUB_special_forces
		x = -1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 1
				uses = 1
				category = summer_clothing_tech
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 1
				uses = 1
				category = r56_jungle_infantry_tech
			}
			add_ideas = SAF_hot_climate_training
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	focus = {
		id = CUB_army_modernisation
		icon = GFX_goal_cuba_presidential_guard
		prerequisite = { focus = CUB_elite_tank_forces focus = CUB_special_forces }
		relative_position_id = CUB_special_forces
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_army_modernisation
				bonus = 1
				uses = 2
				category = infantry_weapons
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_study_foreign_tanks
		icon = GFX_goal_generic_license_tanks
		prerequisite = { focus = CUB_maximo_gomez_command_academy }

		relative_position_id = CUB_maximo_gomez_command_academy
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_study_foreign_tanks
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_improve_army_logistics
		icon = GFX_goal_generic_modernizing_the_cavalry2
		prerequisite = { focus = CUB_study_foreign_tanks focus = CUB_motorized_army  }
		relative_position_id = CUB_motorized_army
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_improve_army_logistics
				bonus = 1
				uses = 2
				category = logistics_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_cruisers_experiments
		icon = GFX_goal_generic_production
		prerequisite = { focus = CUB_improve_army_logistics }
		relative_position_id = CUB_improve_army_logistics
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_cruisers_experiments
				bonus = 2
				uses = 1
				category = maintenance_company_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_elite_tank_forces
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CUB_improve_army_logistics }
		relative_position_id = CUB_improve_army_logistics
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_elite_tank_forces
				bonus = 1
				uses = 2
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	############################
	##### AIRFORCE SECTION #####
	############################


	focus = {
		id = CUB_air_base_expansion
		icon = GFX_goal_CUB_air_force

		relative_position_id = CUB_maximo_gomez_command_academy
		x = 6
		y = 0
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			air_experience = 10
			add_doctrine_cost_reduction = {
				name = CUB_air_base_expansion
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}			
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_rectify_the_injustice
		icon = GFX_focus_generic_provoke_border_clashes
		cost = 10
		prerequisite = { focus = CUB_air_base_expansion focus = CUB_caribbean_navy }
		relative_position_id = CUB_air_base_expansion
		x = 3
		y = 1

		available = {
            is_subject = no
			has_full_control_of_state = 315
            NOT = {
                has_full_control_of_state = 1050
            }
            1050 = {
				NOT = {
					CONTROLLER = {
                        has_war_with = ROOT
                        is_subject_of = ROOT
                        is_in_faction_with = ROOT
					}
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = CUB_prepare_to_seize_guantanamo_bay
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

	}

	focus = {
		id = CUB_fighter_modernisation
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CUB_air_base_expansion }

		relative_position_id = CUB_air_base_expansion
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = CUB_fighter_modernisation
					bonus = 1
					uses = 1
					category = light_air
				}
			}
			else = {
				add_tech_bonus = {
					name = CUB_fighter_modernisation
					bonus = 1
					uses = 1
					category = light_fighter
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}



	focus = {
		id = CUB_air_innovations
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = CUB_air_base_expansion }

		relative_position_id = CUB_air_base_expansion
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = CUB_air_innovations
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			#1x50% research bonus to Air Doctrine Research
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_heavy_fighter_concept
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = CUB_air_innovations focus = CUB_fighter_modernisation }

		relative_position_id = CUB_air_base_expansion
		x = 0
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				create_equipment_variant = {
					name = "Bristol Blenheim" 
					type = medium_plane_airframe_1
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						engine_type_slot = engine_2_2x
						special_type_slot_1 = lmg_defense_turret
					}
					icon = "GFX_ENG_heavy_fighter1_medium"
				}
				add_tech_bonus = {
					name = CUB_heavy_fighter_concept
					bonus = 0.75
					uses = 1
					category = medium_air
				}
			}
			else = {
				add_tech_bonus = {
					name = CUB_heavy_fighter_concept
					bonus = 1
					uses = 1
					category = cat_heavy_fighter
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_naval_bomber_experiments
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = CUB_air_innovations }

		relative_position_id = CUB_air_base_expansion
		x = -2
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_naval_bomber_experiments
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_medium_bomber_focus
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = CUB_heavy_fighter_concept focus = CUB_air_innovations }
		mutually_exclusive = { focus = CUB_light_bomber_focus }

		relative_position_id = CUB_air_base_expansion
		x = -1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				create_equipment_variant = {
					name = "Ba.65" #
					type = small_plane_cas_airframe_1
					modules = {
						fixed_main_weapon_slot = small_bomb_bay
						fixed_auxiliary_weapon_slot_1 = light_mg_2x
						engine_type_slot = engine_2_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_ITA_CAS1_medium"
				}
				add_tech_bonus = {
					name = CUB_medium_bomber_focus
					bonus = 1
					uses = 1
					category = medium_air
				}
			}
			else = {
				add_tech_bonus = {
					name = CUB_medium_bomber_focus
					bonus = 1
					uses = 1
					category = tactical_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_light_bomber_focus
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = CUB_heavy_fighter_concept focus = CUB_fighter_modernisation }
		mutually_exclusive = { focus = CUB_medium_bomber_focus }

		relative_position_id = CUB_air_base_expansion
		x = 1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				create_equipment_variant = {
					name = "Hawker Audax" 
					type = small_plane_cas_airframe_0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_ENG_CAS1_medium"
				}
				add_tech_bonus = {
					name = CUB_light_bomber_focus
					technology = aa_cannon_1
					technology = aa_cannon_2
					uses = 1
					bonus = 0.5
				}
			}
			else = {
				add_tech_bonus = {
					name = CUB_light_bomber_focus
					bonus = 1
					uses = 1
					category = cas_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_air_modernisations_programme
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = CUB_light_bomber_focus focus = CUB_medium_bomber_focus }

		relative_position_id = CUB_air_base_expansion
		x = 0
		y = 4
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = CUB_air_modernisations_programme
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}

		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_rocket_development
		icon = GFX_focus_rocketry
		prerequisite = { focus = CUB_air_modernisations_programme }

		relative_position_id = CUB_air_base_expansion
		x = 0
		y = 5
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = CUB_rocket_development
				bonus = 1
				uses = 2
				category = jet_technology
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }
	}


	############################
	####### NAVY SECTION #######
	############################


	focus = {
		id = CUB_caribbean_navy
		icon = GFX_goal_CUB_navy

		relative_position_id = CUB_air_base_expansion
		x = 6
		y = 0
		cost = 10

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 10
			random_owned_controlled_state = {
				prioritize = { 1045 }
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}	
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CUB_study_foreign_built_ships
		icon = GFX_focus_generic_shipbuilding
		prerequisite = { focus = CUB_caribbean_navy }

		relative_position_id = CUB_caribbean_navy
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_study_foreign_built_ships
				bonus = 1
				uses = 1
				category = dd_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 2
					uses = 1
					category = asw_tech
				}
				
			}			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_a_cruiser_navy
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = CUB_study_foreign_built_ships }

		relative_position_id = CUB_caribbean_navy
		x = 2
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_a_cruiser_navy
				bonus = 1
				uses = 1
				category = cl_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 1
					uses = 1
					category = damage_control_tech
					
				}					
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_import_submarine_technology
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CUB_caribbean_navy }

		relative_position_id = CUB_caribbean_navy
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_import_submarine_technology
				bonus = 1
				uses = 1
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = ENG_anti_non_contact_committee
					bonus = 1.0
					uses = 1
					category = naval_minelaying
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 1
					uses = 1
					category = torpedo_equipment
				}								
			}			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_commerce_attack
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = CUB_import_submarine_technology }

		relative_position_id = CUB_caribbean_navy
		x = -2
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {				
			add_doctrine_cost_reduction = {
				name = CUB_commerce_attack
				cost_reduction = 0.75		
				uses = 1
				category = submarine_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_the_twin_threats
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = CUB_import_submarine_technology focus = CUB_study_foreign_built_ships }

		relative_position_id = CUB_caribbean_navy
		x = 0
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 10
			add_doctrine_cost_reduction = {
				name = CUB_the_twin_threats
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_coastal_defense
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = CUB_the_twin_threats }
		mutually_exclusive = { focus = CUB_strike_force }

		relative_position_id = CUB_caribbean_navy
		x = 1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_coastal_defense
				bonus = 1
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = CUB_coastal_defense
				bonus = 1
				uses = 1
				category = dd_tech
			}
			#1x50% research bonus to destroyers & 1 x50% bonus to Submarines
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_strike_force
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = CUB_the_twin_threats }
		mutually_exclusive = { focus = CUB_coastal_defense }

		relative_position_id = CUB_caribbean_navy
		x = -1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CUB_strike_force
				bonus = 1
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = CUB_strike_force
				bonus = 1
				uses = 1
				category = ca_tech
			}
			#1x50% research bonus to Light Cruisers & 1x50% bonus to Heavy Cruisers
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CUB_naval_equipment
		prerequisite = { focus = CUB_strike_force focus = CUB_coastal_defense }
		icon = GFX_goal_generic_admirality
		x = 1
		y = 1
		relative_position_id = CUB_strike_force
		cost = 10
		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}		

		available_if_capitulated = yes

		available = {
			
		}

		completion_reward = {
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_gunnery_tech
				category = naval_shell_tech
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = asw_tech
				category = torpedo_equipment
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_armor_tech
				category = damage_control_tech
				
			}					
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}	
}
