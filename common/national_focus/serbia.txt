focus_tree = {
	id = serbia_focus

    country = {
        factor = 0

        modifier = {
            add = 10
            tag = SER
        }
    }

	default = no
	reset_on_civilwar = no

	continuous_focus_position = { x = 550 y = 825 }

	focus = {
		id = SER_state_guard
		icon = GFX_goal_military_government
		x = 8
		y = 0

		cost = 5

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			create_corps_commander = {
				name = "Milan Kalabić"
				portrait_path = "gfx/leaders/SER/r56_portrait_milan_kalabic.dds"
				traits = { trait_cautious politically_connected decided_planner }
				skill = 2
				attack_skill = 2
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander = {
				name = "Dragomir Jovanović"
				portrait_path = "gfx/leaders/r56_generic/r56_portrait_generic_admiral_GRE_2.dds"
				traits = { career_officer trait_mountaineer }
				skill = 2
				attack_skill = 1
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			army_experience = 30
			custom_effect_tooltip = SER_state_guard_tooltip
			hidden_effect = {
				division_template = {
					name = "Državna Straža"	# state guard

					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
				}
				load_oob = SER_state_guard
				if = {
					limit = {
						NOT = {
							has_tech = basic_machine_tools
						}
						date > 1937.06.01
					}
					set_technology = { basic_machine_tools = 1 }
					set_technology = { improved_machine_tools = 1 }
					set_technology = { dispersed_industry = 1 }
					set_technology = { construction1 = 1 }
					set_technology = { support_weapons = 1 }
					set_technology = { electronic_mechanical_engineering = 1 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SER_mountain_brigades
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SER_state_guard }
		x = 6
		y = 1
		relative_position_id = SER_state_guard

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_mountain_brigades
				bonus = 3
				uses = 1
				category = r56_mountain_infantry_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_army_maneuvers
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SER_state_guard }
		x = 12
		y = 1
		relative_position_id = SER_state_guard

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SER_army_maneuvers
				cost_reduction = 0.75
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_supremacy_of_offense
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SER_army_maneuvers }
		mutually_exclusive = { focus = SER_supremacy_of_defense }
		x = -2
		y = 2
		relative_position_id = SER_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				has_tech = mobile_warfare
				has_tech = superior_firepower
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_supremacy_of_offense
				bonus = 1
				uses = 2
				category = cat_mobile_warfare
				category = cat_superior_firepower
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_supremacy_of_defense
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SER_army_maneuvers }
		mutually_exclusive = { focus = SER_supremacy_of_offense }
		x = 0
		y = 2
		relative_position_id = SER_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				has_tech = grand_battle_plan
				has_tech = mass_assault
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_supremacy_of_defense
				bonus = 1
				uses = 2
				category = cat_grand_battle_plan
				category = cat_mass_assault
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_artillery_regiments
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SER_supremacy_of_offense focus = SER_supremacy_of_defense }
		prerequisite = { focus = SER_domestic_artillery_production }
		x = -3
		y = 3
		relative_position_id = SER_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_ideas = YUG_artillery_regiments
		}
	}

	focus = {
		id = SER_small_arms
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SER_state_guard }
		x = 8
		y = 1
		relative_position_id = SER_state_guard

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_small_arms
				bonus = 10
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_domestic_artillery_production
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SER_small_arms }
		x = 1
		y = 1
		relative_position_id = SER_small_arms

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_domestic_artillery_production
				bonus = 10
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_anti_tank_defenses
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SER_domestic_artillery_production }
		x = -1
		y = 1
		relative_position_id = SER_domestic_artillery_production

		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = SER_anti_tank_defenses
				bonus = 3
				uses = 1
				category = cat_anti_tank
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_motorization_effort
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SER_army_maneuvers }
		bypass = { has_tech = motorised_infantry }
		relative_position_id = SER_army_maneuvers
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 3
				technology = motorised_infantry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_armored_cavalry
		icon = GFX_goal_mechanized_offensive
		prerequisite = { focus = SER_motorization_effort }
		relative_position_id = SER_motorization_effort
		x = -1
		y = 2

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = mechanization_tech_bonus_name
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_structured_logistics
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = SER_motorization_effort }
		relative_position_id = SER_motorization_effort
		x = 1
		y = 2

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = logistics_company_tech_bonus_name
				bonus = 1
				uses = 2
				category = logistics_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_recovery_teams
		icon = GFX_goal_generic_production
		prerequisite = { focus = SER_structured_logistics }
		prerequisite = { focus = SER_armored_cavalry }
		relative_position_id = SER_structured_logistics
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = maintenance_company_tech_name
				bonus = 3
				uses = 1
				category = maintenance_company_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_tank_conversions
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SER_armored_cavalry }
		mutually_exclusive = { focus = SER_modern_tanks }
		x = 1
		y = 1
		relative_position_id = SER_artillery_regiments

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_ideas = YUG_idea_tank_conversions
		}
	}

	focus = {
		id = SER_modern_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SER_armored_cavalry }
		prerequisite = { focus = SER_artillery_regiments }
		mutually_exclusive = { focus = SER_tank_conversions }
		x = 3
		y = 1
		relative_position_id = SER_artillery_regiments

		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_tanks
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SER_mountain_brigades }
		prerequisite = { focus = SER_small_arms }
		prerequisite = { focus = SER_supremacy_of_defense focus = SER_supremacy_of_offense }
		relative_position_id = SER_mountain_brigades
		x = 1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {

			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1
				uses = 1
				category = r56_jaeger_infantry_tech
				category = r56_marines_infantry_tech
				category = r56_mountain_infantry_tech
				category = r56_paratroops_infantry_tech	
				category = r56_shock_infantry_tech
				technology = motorised_infantry
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 2
                category = r56_special_forces_training_tech 
            }	
			hidden_effect = {
				set_country_flag = cite_an_airborne_unit_flag
			}
			unlock_decision_tooltip = { decision = cite_an_airborne_unit show_effect_tooltip = yes }				
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_aviation_effort
		icon = GFX_goal_generic_air_doctrine
		prerequisite = {focus = SER_state_guard}
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}
		complete_tooltip = {
			air_experience = 25
			if = { limit = { has_country_flag = aviation_effort_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25

			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_local_developers
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SER_aviation_effort }
		mutually_exclusive = { focus = SER_airplanes_licenses }
		x = 4
		y = 1
		relative_position_id = SER_aviation_effort

		cost = 10

		ai_will_do = {
			factor = 60
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_ideas = HUN_indigenous_designs #emergency fix
		}
	}

	focus = {
		id = SER_ikarus
		icon = GFX_focus_YUG_ikarus
		prerequisite = { focus = SER_local_developers }
		x = -2
		y = 1
		relative_position_id = SER_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				any_other_country = {
					has_completed_focus = YUG_ikarus
				}
			}
		}

		bypass = {
			any_other_country = {
				has_completed_focus = YUG_ikarus
			}
		}

		
		
		
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt

			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_rogozarski
		icon = GFX_focus_YUG_rogozarski
		prerequisite = { focus = SER_local_developers }
		x = 0
		y = 1
		relative_position_id = SER_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				any_other_country = {
					has_completed_focus = YUG_rogozarski
				}
			}
		}

		bypass = {
			any_other_country = {
				has_completed_focus = YUG_rogozarski
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_zmaj
		icon = GFX_focus_YUG_zmaj
		prerequisite = { focus = SER_local_developers }
		x = 2
		y = 1
		relative_position_id = SER_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				any_other_country = {
					has_completed_focus = YUG_zmaj
				}
			}
		}

		bypass = {
			any_other_country = {
				has_completed_focus = YUG_zmaj
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SER_airplanes_licenses
		icon = GFX_goal_multiple_bombers
		prerequisite = { focus = SER_aviation_effort}
		mutually_exclusive = { focus = SER_local_developers }
		x = -2
		y = 1
		relative_position_id = SER_aviation_effort

		cost = 7

		ai_will_do = {
			factor = 4
		}

		completion_reward = {
			add_ideas = CRO_idea_license_production
		}
	}
	focus = {
		id = SER_kraljevo_state_airlines_factory
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = SER_airplanes_licenses }
		x = 0
		y = 1
		relative_position_id = SER_airplanes_licenses

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				any_other_country = {
					has_completed_focus = YUG_kraljevo_state_airlines_factory
				}
			}
		}

		bypass = {
			any_other_country = {
				has_completed_focus = YUG_kraljevo_state_airlines_factory
			}
		}

		
		
		
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}	
	focus = {
		id = SER_expanded_repair_facilities
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SER_kraljevo_state_airlines_factory }
		prerequisite = { focus = SER_form_mechanics }
		x = 0
		y = 2
		relative_position_id = SER_kraljevo_state_airlines_factory

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			
		}

		bypass = {

		}

		
		
		
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = BUL_aircraft_repair_facilities
		}
	}	
	focus = {
		id = SER_form_mechanics
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SER_airplanes_licenses focus = SER_ikarus focus = SER_rogozarski focus = SER_zmaj }
		x = 2
		y = 2
		relative_position_id = SER_airplanes_licenses

		cost = 10

		ai_will_do = {
			factor = 5
		}
		available = {

		}


		completion_reward = {
			add_ideas = CRO_idea_trained_mechanics
		}
	}
	focus = {
		id = SER_fighter_focus
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SER_ikarus focus = SER_rogozarski focus = SER_zmaj }
		mutually_exclusive = { focus = SER_bomber_focus }
		relative_position_id = SER_ikarus
		x = 0
		y = 1
		cost = 10

		

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = SER_fighter_focus
					bonus = 1
					uses = 1
					category = light_air
				}
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					category = light_fighter	
					category = cat_heavy_fighter
				}
			}

		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_bomber_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = SER_ikarus focus = SER_rogozarski focus = SER_zmaj }
		mutually_exclusive = { focus = SER_fighter_focus }
		relative_position_id = SER_ikarus
		x = 2
		y = 1
		cost = 10

		
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = SER_bomber_focus
					bonus = 1
					uses = 1
					category = heavy_air
					category = medium_air
				}
			}
			else = {
				add_tech_bonus = {
					name = SER_bomber_focus
					bonus = 1
					uses = 1
					category = heavy_air
					category = tactical_bomber
				}
			}
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_aviation_effort_2
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SER_bomber_focus focus = SER_fighter_focus focus = SER_form_mechanics }
		relative_position_id = SER_fighter_focus
		x = -2
		y = 1
		cost = 10

		

		ai_will_do = {
			factor = 2
		}
		complete_tooltip = {
			air_experience = 25
			if = { limit = { has_country_flag = aviation_effort_2_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		completion_reward = {
			air_experience = 25
			if = {
				limit = {
					capital_scope = {
						OR = {
							NOT = { is_controlled_by = ROOT }
							NOT = {
								free_building_slots = {
									building = air_base
									size > 1
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_2_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_2_AB }
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_CAS_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SER_aviation_effort_2 }
		relative_position_id = SER_aviation_effort_2
		x = 1
		y = 1
		cost = 10

		
		ai_will_do = {
			factor = 2
		}
		completion_reward = {
			add_tech_bonus = {
				name = CAS_bonus
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_expand_the_split_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = {focus = SER_state_guard}
		relative_position_id = SER_aviation_effort
		x = 10
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_full_control_of_state = 105
		}


		completion_reward = {
			navy_experience = 5
			105 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_coastal_defense
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = SER_expand_the_split_shipyards }
		x = 1
		y = 1
		relative_position_id = SER_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_full_control_of_state = 105
		}

		bypass = {
			YUG = {
				has_completed_focus = YUG_coastal_defense
			}
		}

		
		
		

		complete_tooltip = {

		}

		completion_reward = {
			#forts on coast and harbor
			if = {
				limit = { has_full_control_of_state = 105 }
				105 = {
					custom_effect_tooltip = YUG_coastal_defense_effect_tt1
					custom_effect_tooltip = YUG_coastal_defense_effect_tt2
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_coastal = yes
							}
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_light_cruiser
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = SER_coastal_defense }
		x = 1
		y = 2
		relative_position_id = SER_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}


		completion_reward = {
			navy_experience = 5
			add_tech_bonus = {
				name = YUG_replace_the_dalmacija
				bonus = 1
				uses = 1
				category = cl_tech
			}
			if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = SPR_navy_modernization
                    bonus = 1
                    uses = 1
                    category = naval_gunnery_tech
                    category = naval_shell_tech
                }
            }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_contest_the_adriatic
		icon = GFX_goal_generic_admirality
		prerequisite = { focus = SER_expand_the_split_shipyards }
		x = -1
		y = 1
		relative_position_id = SER_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}


		completion_reward = {
			navy_experience = 10
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

		focus = {
		id = SER_naval_bombers
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = SER_aviation_effort_2 }
		x = -1
		y = 1
		relative_position_id = SER_aviation_effort_2

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = YUG_naval_bombers
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_heavy_cruiser_project
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = SER_light_cruiser }
		x = 1
		y = 3
		relative_position_id = SER_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = YUG_heavy_cruiser_project
				bonus = 1
				uses = 1
				category = ca_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					uses = 1
					category = naval_gunnery_tech
				}
				add_tech_bonus = {
					name = artillery_tech_bonus_name
					bonus = 1
					uses = 1
					category = naval_shell_tech
				}				
			}			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_modern_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SER_contest_the_adriatic }
		x = -1
		y = 2
		relative_position_id = SER_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_destroyers
				bonus = 1
				uses = 1
				category = dd_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = dd_bonus
					bonus = 1.0
					uses = 1
					category = asw_tech
				}				
			}			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SER_skilled_pilots
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = SER_modern_destroyers focus = SER_heavy_cruiser_project }
		mutually_exclusive = { focus = SER_adriatic_specialization }
		x = 0
		y = 2
		relative_position_id = SER_modern_destroyers

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
			NOT = {
				has_global_flag = yugoslav_serb_adriatic_training
			}			
		}

		bypass = {

		}

		
		
		
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			navy_experience = 15
			every_navy_leader = { 
			
				add_coordination = 1
			}
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_ideas = YUG_skilled_pilots											
		}
	}	
	focus = {
		id = SER_adriatic_specialization
		icon = GFX_focus_generic_adriatic_sea_focus
		prerequisite = { focus = SER_modern_destroyers focus = SER_heavy_cruiser_project }
		mutually_exclusive = { focus = SER_skilled_pilots }
		x = 0
		y = 1
		relative_position_id = SER_heavy_cruiser_project

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		
		
		
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			every_navy_leader = { 
				add_unit_leader_trait = inshore_fighter
			}								
		}
	}	
	focus = {
		id = SER_build_the_nation
		icon = GFX_goal_generic_construction
		x = 28
		y = 0
		cost = 5

		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 10
				has_completed_focus = SER_state_guard
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				uses = 1
				category = construction_tech
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_machine_tools
					}
					date > 1937.06.01
				}
				set_technology = { basic_machine_tools = 1 }
				set_technology = { improved_machine_tools = 1 }
				set_technology = { dispersed_industry = 1 }
				set_technology = { construction1 = 1 }
				set_technology = { support_weapons = 1 }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = SER_research_collaboration
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SER_build_the_nation }
		relative_position_id = SER_build_the_nation
		x = -3
		y = 1

		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject_of = YUG
		}

		completion_reward = {
			YUG = { add_to_tech_sharing_group = yugoslav_research }
			add_to_tech_sharing_group = yugoslav_research
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

	}
	
	focus = {
		id = SER_construction_effort
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SER_build_the_nation }
		relative_position_id = SER_build_the_nation
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 6
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_production_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SER_construction_effort }
		relative_position_id = SER_construction_effort
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			factor = 5
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = SER_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SER_build_the_nation }
		relative_position_id = SER_build_the_nation
		x = -1
		y = 1
		cost = 10
		
		ai_will_do = {
			factor = 4
		}
		
		available = {
			controls_state = 107
			controls_state = 963
			controls_state = 105
		}
		
		

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		completion_reward = {
			107 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			963 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			105 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_prospect_for_resources
		icon = GFX_goal_excavation
		prerequisite = { focus = SER_infrastructure_effort }
		relative_position_id = SER_infrastructure_effort
		x = -1
		y = 1
		cost = 10

		

		completion_reward = {
			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 3
				uses = 2
				category = excavation_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 4
		}
	}
	
	focus = {
		id = SER_extract_aluminium
		icon = GFX_focus_generic_aluminum
		prerequisite = { focus = SER_prospect_for_resources }
		relative_position_id = SER_prospect_for_resources
		x = 1
		y = 1
		cost = 10

		
		available = {
			has_full_control_of_state = 963
		}

		bypass = {
		}

		
				completion_reward = {
			963 = {
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ALUMINIUM}

		ai_will_do = {
			factor = 3
		}
	}
	
	focus = {
		id = SER_develop_steel_deposits
		icon = GFX_focus_generic_steel
		prerequisite = { focus = SER_prospect_for_resources }
		relative_position_id = SER_prospect_for_resources
		x = -1
		y = 1
		cost = 10

		
		available = {
			has_full_control_of_state = 108
		}

		bypass = {
		}

		
				completion_reward = {
			108 = {
				add_resource = {
					type = steel
					amount = 14
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STEEL }

		ai_will_do = {
			factor = 5
		}
	}
	
	focus = {
		id = SER_expand_the_university_of_belgrade
		icon = GFX_focus_research
		prerequisite = { focus = SER_infrastructure_effort }
		prerequisite = { focus = SER_production_effort }
		relative_position_id = SER_production_effort
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 20
		}

		

		available = {
			has_full_control_of_state = 107
		}

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_extra_tech_slot_2
		icon = GFX_focus_research
		prerequisite = { focus = SER_expand_the_university_of_belgrade }
		relative_position_id = SER_expand_the_university_of_belgrade
		available = {
			if = {
				limit = {
					amount_research_slots > 4
				}
				num_of_factories > 35
			}
		}
		ai_will_do = {
			factor = 15
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		x = 2
		y = 1
		cost = 10

		

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = SER_develop_macedonia
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = SER_expand_the_university_of_belgrade }
		relative_position_id = SER_expand_the_university_of_belgrade
		x = -2
		y = 1
		cost = 10

		

		available = {
			controls_state = 106
			controls_state = 950
		}

		completion_reward = {
			106 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = chromium
					amount = 7
				}
			}
			950 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_CHROMIUM}

		ai_will_do = {
			factor = 3
		}
	}
	
	focus = {
		id = SER_create_skopje_arsenals
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = SER_develop_macedonia }
		prerequisite = { focus = SER_industrial_planning }
		x = 0
		y = 1
		relative_position_id = SER_develop_macedonia

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			controls_state = 106
		}

		bypass = {
		}

		
		
		

		complete_tooltip = {

		}

		completion_reward = {
			106 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = SER_industrial_planning
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SER_expand_the_university_of_belgrade }
		relative_position_id = SER_expand_the_university_of_belgrade
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			factor = 2
		}

		available = {
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_construction_effort_2
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = SER_industrial_planning }
		relative_position_id = SER_industrial_planning
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			factor = 3
		}

		available = {
			controls_state = 108
		}

		completion_reward = {
			108 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_production_effort_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SER_production_effort }
		relative_position_id = SER_production_effort
		x = 1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 4
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_nuclear_effort
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SER_construction_effort_2 }
		relative_position_id = SER_construction_effort_2
		x = 0
		y = 1
		cost = 10

		
		
		available = {
			controls_state = 107
			num_of_factories > 50
		}

		completion_reward = {
			add_tech_bonus = {
				name = nuclear_bonus
				ahead_reduction = 0.5
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.25
				always = yes
			}
		}
	}

	focus = {
		id = SER_political_effort
		icon = GFX_goal_SER_glory
		x = 41
		y = 0
		cost = 10
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 10
				has_completed_focus = SER_state_guard
			}
		}
		

		completion_reward = {
			add_political_power = 120
			if = {
				limit = {
					NOT = {
						has_tech = basic_machine_tools
					}
					date > 1937.06.01
				}
				set_technology = { basic_machine_tools = 1 }
				set_technology = { improved_machine_tools = 1 }
				set_technology = { dispersed_industry = 1 }
				set_technology = { construction1 = 1 }
				set_technology = { support_weapons = 1 }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_nationalism_focus
		icon = GFX_goal_support_fascism
		prerequisite = { focus = SER_political_effort }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			if = {
				limit = {
					is_puppet = yes
				}
				SER = {
					OVERLORD = {
						has_government = fascism
					}
				}
			}
		}
		relative_position_id = SER_political_effort
		x = 5
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = fascism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
		}

		completion_reward = {
			add_timed_idea = { idea = nationalism days = 1095 }
		}
	}

	focus = {
		id = SER_saviour_of_serbia
		icon = GFX_goal_SER_milan_nedic
		prerequisite = { focus = SER_nationalism_focus }
		available = {
			has_government = fascism
		}
		relative_position_id = SER_nationalism_focus
		x = 2
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}

		completion_reward = {
			add_country_leader_trait = prince_of_terror
			add_country_leader_trait = syncretic_revanchist
		}
	}

	focus = {
		id = SER_secure_flanks
		icon = GFX_goal_plan
		prerequisite = { focus = SER_saviour_of_serbia }
		relative_position_id = SER_saviour_of_serbia
		x = -1
		y = 1
		cost = 7.15

		available = {
			is_subject = no
			has_government = fascism
			has_army_manpower = {
				size > 50000
			}
		}
		ai_will_do = {
			factor = 6
		}

		completion_reward = {
			add_state_core = 106
			if = {
				limit = {
					NOT = {
						owns_state = 106
					}
				}			
				106 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 731 106 950 }
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						owns_state = 731
					}
				}			
				731 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 731 106 950 }
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						owns_state = 950
					}
				}			
				950 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 731 106 950 }
							}
						}
					}
				}
			}
			add_state_core = 105
			add_state_core = 963						
			if = {
				limit = {
					NOT = {
						owns_state = 963
					}
				}			
				963 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 105 963 }
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						owns_state = 105
					}
				}			
				105 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_state_focus
								generator = { 105 963 }
							}
						}
					}
				}
			}			
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

   focus = {
		id = SER_advance_north
		icon = GFX_goal_infantry_flames
		prerequisite = { focus = SER_secure_flanks }
		relative_position_id = SER_secure_flanks
		x = 0
		y = 1
		cost = 10

		available = {
			is_subject = no
			has_government = fascism
		}
		ai_will_do = {
			factor = 4
		}

		completion_reward = {
			add_state_claim = 104
			add_state_claim = 804
			add_state_claim = 961
			add_state_claim = 962
			if = {
				limit = {
					BOS = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BOS 
					expire = 0
				}
			}
			add_state_claim = 109
			add_state_claim = 959
			add_state_claim = 952
			add_state_claim = 103
			add_state_claim = 958
			if = {
				limit = {
					CRO = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CRO 
					expire = 0
				}
			}
			add_state_claim = 102
			add_state_claim = 956
			add_state_claim = 853
			if = {
				limit = {
					SLV = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SLV 
					expire = 0
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_join_axis
		icon = GFX_goal_generic_the_axis
		prerequisite = {  focus = SER_saviour_of_serbia }
		relative_position_id = SER_saviour_of_serbia
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 6
		}
		available = {
			has_government = fascism
			is_subject = no
			OR = {
				GER = {
					NOT = { has_war_with = ROOT }
					has_government = fascism
					has_capitulated = no
					is_faction_leader = yes
				}
				any_other_country = {
					is_major = yes
					has_government = fascism
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
		}
		bypass = {
			is_in_faction_with = GER
		}
			completion_reward = {
				if = {
					limit = {
						GER = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					GER = {
						country_event = generic.2
						add_opinion_modifier = {
							target = ROOT
							modifier = medium_increase
						}
					}
					ROOT = {
						add_opinion_modifier = {
							target = GER
							modifier = medium_increase
						}
					}
				}
				else_if = {
					limit = {
						ITA = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					ITA = {
						country_event = generic.2
					}
				}
				else_if = {
					limit = {
						GRE = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					GRE = {
						country_event = generic.2
					}
				}
									
				else_if = {
					limit = {
						ENG = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					ENG = {
						country_event = generic.2
					}
				}
				else_if = {
					limit = {
						HUN = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					HUN = {
						country_event = generic.2
					}
				}							
				else_if = {
					limit = {
						any_other_country = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							has_capitulated = no
							num_of_factories > 70
							NOT = { has_war_with = ROOT }
						}
					}
					random_other_country = {
						limit = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							num_of_factories > 70
							NOT = { has_war_with = ROOT }
						}
						country_event = generic.2
					}				
				}
				else_if = {
					limit = {
						any_other_country = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							has_capitulated = no
							num_of_factories > 50
						}
					}
					random_other_country = {
						limit = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							num_of_factories > 50
						}
						country_event = generic.2
					}				
				}			
				else_if = {
					limit = {
						any_other_country = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							has_capitulated = no
						}
					}
					random_other_country = {
						limit = {
							has_government = fascism
							is_faction_leader = yes
							is_major = yes
							has_capitulated = no
						}
						country_event = generic.2
					}
				}
				else_if = {
					limit = {
						any_other_country = {
							has_government = fascism
							is_faction_leader = yes
	
							has_capitulated = no
						}
					}
					random_other_country = {
						limit = {
							has_government = fascism
							is_faction_leader = yes
							has_capitulated = no
						}
						country_event = generic.2
					}
				}				
			}
			search_filters = { FOCUS_FILTER_ALLIANCE }
		}

	focus = {
		id = SER_militarism
		icon = GFX_goal_generic_army_elite
		prerequisite = { focus = SER_nationalism_focus }
		relative_position_id = SER_nationalism_focus
		x = -1
		y = 1
		cost = 10
		available = {
			has_government = fascism
		}
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
      add_ideas = militarism_focus
			random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		 }
	  }
	  search_filters = { FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_MANPOWER }
	 }

	focus = {
		id = SER_military_youth
		icon = GFX_goal_extensive_conscription_fascism
		prerequisite = { focus = SER_militarism }
		relative_position_id = SER_militarism
		x = 0
		y = 1
		cost = 10

		

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		add_war_support = 0.1
		add_ideas = ARM_war_propaganda_idea
	  }
	  search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = SER_form_peasant_councils
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SER_political_effort }
		available = {
			OR = {
				has_government = communism
				NOT = {
					OR = {
						has_completed_focus = SER_liberty_ethos
						has_completed_focus = SER_nationalism_focus
					}
				}
			}
			if = {
				limit = {
					is_subject = yes
				}
				OVERLORD = {
					has_government = communism
				}
			}
		}
		relative_position_id = SER_political_effort
		x = -5
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = communism }
				}
			}
		}
		completion_reward = {
			add_ideas = internationalism
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_recreate_yugoslavia
		icon = GFX_goal_BUL_divide_yugoslavia
		prerequisite = { focus = SER_form_peasant_councils }
		relative_position_id = SER_form_peasant_councils
		x = -3
		y = 1
		cost = 14.30

		available = {
			has_government = communism
		}
		ai_will_do = {
			factor = 150
		}

		completion_reward = {
			if = {
				limit = {
					MAC = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = MAC 
					expire = 0
				}
			}
			if = {
				limit = {
					CRO = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CRO 
					expire = 0
				}
			}
			if = {
				limit = {
					BOS = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BOS 
					expire = 0
				}
			}
			if = {
				limit = {
					SLV = {
						exists = yes
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SLV 
					expire = 0
				}
			}
			add_state_core = 102
			add_state_core = 956
			add_state_core = 853
			add_state_core = 109
			add_state_core = 959
			add_state_core = 952
			add_state_core = 103
			add_state_core = 958
			add_state_core = 104
			add_state_core = 804
			add_state_core = 961
			add_state_core = 962
			add_state_core = 106
			add_state_core = 802
			add_state_core = 950
			add_state_core = 803
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_local_militias
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SER_form_peasant_councils }
		x = -1
		y = 1
		relative_position_id = SER_form_peasant_councils

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}


		completion_reward = {
			add_ideas = CRO_idea_communist_militias
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}
	focus = {
		id = SER_liberty_ethos
		icon = GFX_goal_support_democracy
		prerequisite = { focus = SER_political_effort }
		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			NOT = {
				OR = {
					has_completed_focus = SER_nationalism_focus
					has_completed_focus = SER_form_peasant_councils
				}
			}
			if = {
				limit = {
					FROM = { is_subject = yes }

				}
				FROM = {
					OVERLORD = {
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
			}
		}
		relative_position_id = SER_political_effort
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 95
			modifier = {
				factor = 0.1
				any_neighbor_country = {
					is_major = yes
					OR = {
						has_government = communism
						has_government = fascism
					}
				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = democratic
					}
				}
			}
		}

		completion_reward = {
			add_timed_idea = { idea = democratic_influence days = 1295 }
			add_ideas = liberty_ethos_focus
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SER_trading_infrastructures
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SER_liberty_ethos }
		mutually_exclusive = {focus = SER_belgrade_investments_focus }
		available = {
			has_full_control_of_state = 105
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}
		relative_position_id = SER_liberty_ethos
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			105 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = naval_base
					level = 1
					province = 3924
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 6889
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_economic_centralization
		icon = GFX_goal_sov_soviet_ind_upgrade
		prerequisite = { focus = SER_form_peasant_councils }
		relative_position_id = SER_form_peasant_councils
		x = 1
		y = 1
		cost = 10

		
		ai_will_do = {
			factor = 3
		}
		available = {
      		has_government = communism
		}
		completion_reward = {
			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			add_political_power = 50
			add_ideas = CRO_idea_economic_centralization
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SER_nationalize_factories
		icon = GFX_goal_generic_communist_economy
		prerequisite = { focus = SER_economic_centralization }
		relative_position_id = SER_economic_centralization
		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}

		x = 1
		y = 1
		cost = 10

		

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = idea_communist_central_management
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SER_local_steel_production
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SER_nationalize_factories }
		relative_position_id = SER_nationalize_factories
		x = 0
		y = 1
		cost = 5

		available = {
			has_full_control_of_state = 108
			has_full_control_of_state = 107
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 108
				}
				108 = {
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 107
				}
				107 = {
					add_resource = {
						type = steel
						amount = 1
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_STEEL}
	}

	focus = {
		id = SER_belgrade_investments_focus
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = SER_liberty_ethos }
		mutually_exclusive = {focus = SER_trading_infrastructures}
		relative_position_id = SER_liberty_ethos
		x = -1
		y = 1
		cost = 10
		available = {
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
			}
			controls_state = 107
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			107 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = SER_economic_optimization
		icon = GFX_goal_generic_trade
		prerequisite = { focus = SER_belgrade_investments_focus }
		relative_position_id = SER_belgrade_investments_focus
		mutually_exclusive = {focus = SER_industrial_support}
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}
		completion_reward = {
			add_ideas = CRO_idea_economic_optimization
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = SER_research_grants
		icon = GFX_goal_research_silver_cooperation
		prerequisite = { focus = SER_economic_optimization focus = SER_industrial_support}
		mutually_exclusive = {focus = SER_deterrence}
		relative_position_id = SER_economic_optimization
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = CRO_idea_research_grants
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = SER_industrial_support
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SER_trading_infrastructures focus = SER_belgrade_investments_focus }
		mutually_exclusive = {focus = SER_economic_optimization}
		relative_position_id = SER_trading_infrastructures
		x = 0
		y = 1
		cost = 10
		
		available = {
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
			}
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		   random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = CRO_idea_industrial_support
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = SER_deterrence
		icon = GFX_goal_generic_defence
		prerequisite = { focus = SER_economic_optimization focus = SER_industrial_support}
		relative_position_id = SER_economic_optimization
		mutually_exclusive = {focus = SER_research_grants}
		x = 2
		y = 1
		cost = 10

		

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = deterrence
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_why_we_fight
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SER_deterrence focus = SER_research_grants}
		available = {
			OR = {
				threat > 0.75
				has_defensive_war = yes
			}
		}

		continue_if_invalid = yes

		relative_position_id = SER_deterrence
		x = -1
		y = 1
		cost = 10

		

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = why_we_fight_focus
			custom_effect_tooltip = why_we_fight_effect
			hidden_effect = {
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					set_rule = { can_create_factions = yes }
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = SER_anti_partizan_tactics
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SER_military_youth }
		relative_position_id = SER_political_effort
		x = 4
		y = 4
		cost = 10

		

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_ideas = CRO_idea_anti_partizan_tactics
			add_tech_bonus = {
				name = SER_mountain_brigades
				bonus = 1
				uses = 1
				category = mountaineers_tech
			}
			add_tech_bonus = {
				name = mp_tech_bonus_name
				bonus = 1
				uses = 1
				category = military_police_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SER_political_commissars
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SER_economic_centralization }
		prerequisite = { focus = SER_local_militias }
		relative_position_id = SER_local_militias
		x = 1
		y = 1
		cost = 10

		

		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 4
		}

		completion_reward = {
			add_ideas = political_commissars_focus
			if = {
				limit = { has_government = fascism }
				add_popularity = {
					ideology = fascism
					popularity = 0.2
				}
			}
			if = {
				limit = { has_government = communism }
				add_popularity = {
					ideology = communism
					popularity = 0.2
				}
			}
			add_political_power = 100
			add_tech_bonus = {
				name = mp_tech_bonus_name
				bonus = 1
				uses = 1
				category = military_police_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_organized_partizans
		icon = GFX_goal_workers_support
		prerequisite = { focus = SER_political_commissars }
		relative_position_id = SER_political_commissars
		x = -1
		y = 1
		cost = 10

		
		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
			has_defensive_war = yes
		}
		ai_will_do = {
			factor = 3
			modifier = {
				has_capitulated = yes
				factor = 10
			}
		}

		completion_reward = {
			swap_ideas = { remove_idea = CRO_idea_communist_militias add_idea = CRO_veteran_partisans}
			add_tech_bonus = {
				name = recon_tech_bonus_name
				bonus = 1
				uses = 1
				category = recon_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SER_ideological_fanaticism_communism
		icon = GFX_goal_generic_communist_loyalty
		prerequisite = { focus = SER_political_commissars }
		relative_position_id = SER_political_commissars
		x = 0
		y = 2
		cost = 10

		

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			set_rule = {
				can_create_factions = yes
			}
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}
	
	focus = {
		id = SER_ideological_fanaticism
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = SER_military_youth }
		relative_position_id = SER_political_effort
		x = 3
		y = 5
		cost = 10

		

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			set_rule = {
				can_create_factions = yes
			}
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = SER_technology_sharing
		icon = GFX_goal_research_silver_cooperation
		prerequisite = { focus = SER_ideological_fanaticism_communism focus = SER_ideological_fanaticism focus = SER_why_we_fight}
		available = {
			has_war = yes
			is_in_faction = yes
			if = {
				limit = {
					amount_research_slots > 4
				}
				num_of_factories > 35
			}
		}
		relative_position_id = SER_political_effort
		x = 0
		y = 6
		cost = 10

		

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			if = {
				limit = {
					original_research_slots < 3
				}
				add_research_slot = 1
			}
			if = {
				limit = {
					original_research_slots > 2
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					uses = 1
					category = electronics
				}
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					uses = 1
					category = industry
				}
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					uses = 1
					category = infantry_weapons
					category = artillery
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
}
