### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_CHI_INFLATION}
### search_filters = {FOCUS_FILTER_USA_CONGRESS}
### search_filters = {FOCUS_FILTER_TFV_AUTONOMY}
### search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
### search_filters = {FOCUS_FILTER_MEX_CAUDILLO_REBELLION}

focus_tree = {
	id = mexico_focus_tree

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = MEX
			has_dlc = "Man the Guns"
		}
	}

	default = no

	continuous_focus_position = { x = 70 y = 1100 }

	focus = {
		id = MEX_focus_plan_of_agua_prieta
		icon = GFX_focus_hol_the_foundations_of_defense
		x = 23
		y = 0

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_exile_calles
		icon = GFX_focus_mex_exile_calles
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_jefe_maximo }
		x = -1
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 5

		ai_will_do = {
			factor = 100
		}
		
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = MEX_callistas
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_bartolome_garcia_correa
		}
	}

	focus = {
		id = MEX_focus_jefe_maximo
		icon = GFX_focus_mex_jefe_maximo
		mutually_exclusive = { focus = MEX_focus_exile_calles }
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		x = 1
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				add_field_marshal_role = {
					character = MEX_plutarco_calles
					traits = { harsh_leader }
					skill = 4
					attack_skill = 5
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 4
					legacy_id = 711
				}
				else = {
					add_field_marshal_role = {
						character = MEX_plutarco_calles
						traits = { harsh_leader }
						skill = 4
						attack_skill = 5
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 4
						legacy_id = 711
					}
				}
			}
			swap_ideas = {
				remove_idea = MEX_callistas
				add_idea = MEX_plutarco_calles
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_aaron_saenz
			if = {
				limit = {
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
		}
	}
	
	focus = {
		id = MEX_focus_national_bank
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 9
		y = 0

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		
		
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_banco_de_mexico		
		}
	}

	focus = {
		id = MEX_focus_agricultural_credit_bank
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = MEX_focus_national_bank }
		mutually_exclusive = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 1
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_government = communism
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_alberto_pani
		}
	}
	focus = {
		id = MEX_focus_confederation_of_mexican_workers
		icon = GFX_goal_mexico_a_union_of_unions
		prerequisite = { focus = MEX_focus_agricultural_credit_bank }
		x = -2
		y = 1
		relative_position_id = MEX_focus_agricultural_credit_bank

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 120
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_vicente_lombardo
		}
	}
	focus = {
		id = MEX_focus_rent_freeze
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = MEX_focus_confederation_of_mexican_workers }
		x = 0
		y = 1
		relative_position_id = MEX_focus_confederation_of_mexican_workers

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_political_power = 120
			add_stability = 0.05
		}
	}
	focus = {
		id = MEX_focus_ejido_worker_militias
		icon = GFX_goal_generic_left_militia
		prerequisite = { focus = MEX_focus_rent_freeze }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rent_freeze

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
				has_idea = MEX_church_power_3
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}
		completion_reward = {
			MEX_decrease_church_power = yes
			add_ideas = MEX_ejido_worker_militias
		}
	}

	focus = {
		id = MEX_focus_party_of_the_revolution
		icon = GFX_goal_support_communism
		prerequisite = { focus = MEX_focus_ejido_worker_militias }
		x = 0
		y = 1
		relative_position_id = MEX_focus_ejido_worker_militias

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			communism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			add_stability = 0.05
			add_war_support = 0.05

			if = {
				limit = {
					has_country_leader = { name = "Lázaro Cárdenas" }
				}
				add_country_leader_role = {
					character = MEX_lazaro_cardenas
					promote_leader = yes
					country_leader = {
					  	ideology = marxism
					  	expire = "1965.1.1"
						traits = {
							protector_of_the_campesinos
					  	}
				  	}
				}
			  	add_country_leader_role = {
				  	character = MEX_plutarco_calles
				  	promote_leader = yes
				  	country_leader = {
						ideology = despotism
						expire = "1965.1.1"
					  	traits = {
						  	el_jefe_maximo
					  	}
					}
			  	}
			}
			if = {
				limit = {
					has_country_leader = { name = "Vicente Lombardo" }
				}
				add_country_leader_role = {
					character = MEX_vicente_lombardo
					promote_leader = yes
					country_leader = {
					  	ideology = marxism
					  	expire = "1965.1.1"
						traits = {
							the_dean_of_mexican_marxism
						}
				  	}
				}
				add_country_leader_role = {
					character = MEX_plutarco_calles
					promote_leader = yes
					country_leader = {
					  	ideology = despotism
					  	expire = "1965.1.1"
						traits = {
							el_jefe_maximo
						}
				  	}
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}

			set_party_name = { ideology = communism name = MEX_democratic_party_mexican_revolution_party_short long_name = MEX_democratic_party_mexican_revolution_party_long }

			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}

	focus = {
		id = MEX_focus_rural_infrastructure
		icon = GFX_goal_generic_road
		prerequisite = { focus = MEX_focus_agricultural_credit_bank }
		x = 0
		y = 1
		relative_position_id = MEX_focus_agricultural_credit_bank

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					OR = {
						state = 477
						state = 485
						state = 478
						state = 479
						state = 480
						state = 481
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_peripheral_infrastructure
		icon = GFX_goal_generic_road2
		prerequisite = { focus = MEX_focus_rural_infrastructure }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rural_infrastructure

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					OR = {
						state = 476
						state = 475
						state = 474
						state = 484
						state = 482
						state = 483
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_rural_schools
		icon = GFX_goal_generic_education
		prerequisite = { focus = MEX_focus_peripheral_infrastructure }
		x = 0
		y = 1
		relative_position_id = MEX_focus_peripheral_infrastructure

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MEX_focus_liberalize_the_banking_sector
		icon = GFX_goal_generic_banking
		prerequisite = { focus = MEX_focus_national_bank }
		mutually_exclusive = { focus = MEX_focus_agricultural_credit_bank }
		x = 3
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}

			modifier = {
				factor = 10
				has_government = democratic
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_luis_montes_de_oca
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_strike_breaking
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberalize_the_banking_sector

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = MEX_strike_breaking
		}
	}

	focus = {
		id = MEX_focus_urban_development
		icon = GFX_goal_generic_road
		prerequisite = { focus = MEX_focus_strike_breaking }
		x = 0
		y = 1
		relative_position_id = MEX_focus_strike_breaking

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			277 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			477 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			478 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			485 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			932 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_cientifico_camarilla
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_urban_development }
		x = 0
		y = 1
		relative_position_id = MEX_focus_urban_development

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MEX_focus_end_land_reform
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 2
		y = 1
		relative_position_id = MEX_focus_liberalize_the_banking_sector

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			add_stability = -0.05
			add_political_power = 200
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_privatization
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = MEX_focus_end_land_reform }
		x = 0
		y = 1
		relative_position_id = MEX_focus_end_land_reform

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 477
						state = 485
						state = 478
						state = 479
						state = 480
						state = 932
						state = 931
					}
				}
				add_extra_state_shared_building_slots = 1
			}
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_caudillo_private_armies
		icon = GFX_focus_mex_caudillo_private_armies
		prerequisite = { focus = MEX_focus_privatization }
		x = 0
		y = 1
		relative_position_id = MEX_focus_privatization

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			add_ideas = MEX_caudillo_private_armies
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_support_general_cedillo
		icon = GFX_focus_mex_support_general_cedillo
		prerequisite = { focus = MEX_focus_caudillo_private_armies }
		mutually_exclusive = { focus = MEX_focus_arrest_general_cedillo }
		x = 0
		y = 1
		relative_position_id = MEX_focus_caudillo_private_armies

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_global_flag = flag_mexico_cedillo_has_revolted
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			custom_effect_tooltip = tooltip_mexico_cedillo_will_be_placated
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				add_field_marshal_role = {
					character = MEX_saturnino_cedillo
					traits = { trait_reckless trickster} # Futile rebellion
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
					legacy_id = 708
				}
				else = {
					add_field_marshal_role = {
						character = MEX_saturnino_cedillo
						traits = { trait_reckless trickster} # Futile rebellion
						skill = 3
						attack_skill = 4
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 3
						legacy_id = 708
					}
				}
			}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = MEX_saturnino_cedillo
			MEX_remove_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_oil_field_expansion
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = MEX_focus_rural_schools focus = MEX_focus_cientifico_camarilla }
		x = 1
		y = 2
		relative_position_id = MEX_focus_rural_schools

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_OIL}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 480
						state = 479
						state = 477
						state = 476
					}
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
			random_owned_controlled_state = {
				prioritize = { 932 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}			
		}
	}

	focus = {
		id = MEX_focus_royal_dutch_shell
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		mutually_exclusive = { focus = MEX_focus_nationalize_the_oil_fields }
		x = -2
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}

			modifier = {
				factor = 0
				OR = {
					NOT = {
						country_exists = ENG
					}
					ENG = {
						NOT = {
							has_government = democratic
						}
					}
				}
			}
		}

		available = {
			NOT = {
				has_war_with = ENG
				is_puppet_of = ENG
				is_puppet_of = USA
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_OIL}
		completion_reward = {
			USA = {
				remove_resource_rights = 480
			}
			480 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
			add_tech_bonus = {
				name = synth_resources
				bonus = 1.0
				uses = 2
				category = synth_resources
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_royal_dutch_shell
		}
	}

	focus = {
		id = MEX_focus_oil_revenue_reinvestment
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = MEX_focus_royal_dutch_shell focus = MEX_focus_nationalize_the_oil_fields }
		x = 0
		y = 2
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
		}



		
		
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 477
						state = 479
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_capital_reserves
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = MEX_focus_oil_revenue_reinvestment }
		x = 0
		y = 1
		relative_position_id = MEX_focus_oil_revenue_reinvestment

		cost = 10

		ai_will_do = {
			factor = 1 # Don't think the AI bothers with licences
		}
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				add_ideas = MEX_capital_reserves
			}
			if = {
				limit = {
					NOT = { has_dlc = "Death or Dishonor" }
				}
				add_political_power = 150
			}
		}
	}

	focus = {
		id = MEX_focus_community_of_nations
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = MEX_focus_royal_dutch_shell }
		x = 0
		y = 2
		relative_position_id = MEX_focus_royal_dutch_shell

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				ENG = {
					exists = no
				}
				ENG = {
					is_subject = yes
				}
			}
		}

		
		
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ALLIANCE FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					ENG = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = ENG
				modifier = anglo_mexican_diplomacy
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = anglo_mexican_diplomacy
				}
			}
			if = {
				limit = {
					ENG = { is_faction_leader = yes }
				}
				ENG = {
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					ENG = {
						is_in_faction = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = ENG
					}
					country_event = generic.2
				}
			}
			else = {
				create_faction = MEX_focus_community_of_nations
				ENG = {
					country_event = generic.5
				}
			}
		}
	}

	focus = {
		id = MEX_focus_purchase_belize
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = MEX_focus_community_of_nations }
		x = 0
		y = 1
		relative_position_id = MEX_focus_community_of_nations

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
			311 = {
				is_owned_by = ENG
			}
		}

		bypass = {
		NOT= {
			311 = {
				is_owned_by = ENG
				}
			}
		}

		
		
		available_if_capitulated = yes

		completion_reward = {
			ENG = {
				country_event = {
					id = mexico.12
					days = 1
				}
			}
		}
	}

	focus = {
		id = MEX_focus_nationalize_the_oil_fields
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		mutually_exclusive = { focus = MEX_focus_royal_dutch_shell }
		x = 2
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		available = {
			NOT = {
				OR = {
					is_puppet_of = USA
					is_puppet_of = ENG
				}
			}
		}

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = USA
					}
					NOT = {
						has_war_with = ROOT
					}
					NOT = {
						is_subject_of = ROOT
					}
				}
				add_opinion_modifier = {
					target = MEX
					modifier = sanctions
				}
				country_event = {
					days = 1
					id = mexico.2
				}
				custom_effect_tooltip = tooltip_mexico_they_may_declare_war
			}
			remove_ideas = MEX_oil_concessions
			USA = {
				remove_resource_rights = 479
				remove_resource_rights = 480
			}
			ENG = {
				remove_resource_rights = 477
				remove_resource_rights = 476
			}
			custom_effect_tooltip = available_industrial_concern

			show_ideas_tooltip = MEX_pemex
		}
		search_filters = { FOCUS_FILTER_OIL }
	}
	focus = {
		id = MEX_focus_northern_steel_plants
		icon = GFX_focus_generic_steel
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		x = 7
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STEEL}
		completion_reward = {
			480 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}
			482 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
	}
	focus = {
		id = MEX_focus_german_resource_exchange
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_oppose_yanqui_imperialism }
		mutually_exclusive = { focus = MEX_focus_compensation }
		x = 4
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			country_exists = GER
			is_subject = no
			NOT = {
				has_war_with = GER
			}
		}

		bypass = {
			GER = {
				OR = {
					exists = no
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_OIL }
		completion_reward = {
			GER = {
				country_event = {
					id = mexico.34
					days = 1
				}
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				GER = { 
					if = {
						limit = {
							has_dlc = "Death or Dishonor"
						}
						if = {
							limit = {
								has_tech = advanced_light_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_light_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_light_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_medium_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_medium_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_medium_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_heavy_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_heavy_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_heavy_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_light_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_chassis_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_light_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_chassis_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_light_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_chassis_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_medium_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_chassis_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_medium_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_chassis_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_medium_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_chassis_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_heavy_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_chassis_3
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = improved_heavy_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_chassis_2
								}
								cost_factor = 0
							}
						}
						else_if = {
							limit = {
								has_tech = basic_heavy_tank_chassis
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_chassis_1
								}
								cost_factor = 0
							}
						}
						MEX = {
							add_tech_bonus = {
								name = armor
								bonus = 1.0
								uses = 1
								category = armor
							}
						}
					}
					if = {
						limit = {
							NOT = { has_dlc = "Death or Dishonor" }
						}
						MEX = {
							add_tech_bonus = {
								name = armor
								bonus = 1.0
								uses = 2
								category = armor
							}
						}
					}
				}
				give_resource_rights = { receiver = GER state = 476 }
			}
		}
	}

	focus = {
		id = MEX_focus_new_world_order
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = MEX_focus_german_resource_exchange }
		x = 0
		y = 1
		relative_position_id = MEX_focus_german_resource_exchange

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = GER
			}
			GER = {
				is_in_faction = yes
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				GER = {
					exists = no
				}
				GER = {
					is_subject = yes
				}
			}
		}

		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					GER = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = GER
				modifier = german_mexican_diplomacy
			}

			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = german_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_oppose_yanqui_imperialism
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_german_resource_exchange }
		mutually_exclusive = { focus = MEX_focus_compensation }
		x = 2
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}

			modifier = {
				factor = 0.1
				NOT = {
					country_exists = SOV
				}
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.05
		}
	}

	focus = {
		id = MEX_focus_international_proletarianism
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = MEX_focus_oppose_yanqui_imperialism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_oppose_yanqui_imperialism

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = SOV
			}
			OR = { #no trotsky-stalin alliance #Fantom
				AND = {
					NOT = {
						has_country_leader = {
							name = "Lev Trotsky"
							ruling_only = yes
						}
					}
					SOV = {
						has_country_leader = {
							name = "Iosif Stalin"
							ruling_only = yes
						}
					}	
				}
				AND = {
					has_country_leader = {
						name = "Lev Trotsky"
						ruling_only = yes
					}
					SOV = {
						NOT = {
							has_country_leader = {
								name = "Iosif Stalin"
								ruling_only = yes
							}
						}
					}
				}
			}
			SOV = {
				exists = yes
				is_in_faction = yes
				is_subject = no
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				SOV = {
					exists = no
				}
				SOV = {
					is_subject = yes
				}
			}
		}

		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					SOV = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = SOV
				modifier = russo_mexican_diplomacy
			}

			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = russo_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_interior_defence_plan # hurr build the wall. how's that swampy drainy stuff workin out for ya?
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = MEX_focus_international_proletarianism focus = MEX_focus_new_world_order }
		x = 1
		y = 1
		relative_position_id = MEX_focus_international_proletarianism

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 100
				has_war_with = USA
			}
		}
		

		completion_reward = {

			unlock_decision_tooltip = MEX_decision_interior_defence_plan

			483 = {
				add_building_construction = { type = bunker province = 8033 level = 1 instant_build = yes }
			}
			482 = {
				add_building_construction = { type = bunker province = 7935 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 10830 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 10916 level = 1 instant_build = yes }
			}
			481 = {
				add_building_construction = { type = bunker province = 8003 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 7921 level = 1 instant_build = yes }
			}
			480 = {
				add_building_construction = { type = bunker province = 7973 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 12835 level = 1 instant_build = yes }
			}
			478 = {
				add_building_construction = { type = bunker province = 10172 level = 1 instant_build = yes }
			}
			479 = {
				add_building_construction = { type = bunker province = 4956 level = 1 instant_build = yes }
			}
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_compensation
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_german_resource_exchange }
		mutually_exclusive = { focus = MEX_focus_oppose_yanqui_imperialism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				NOT = {
					country_exists = USA
				}
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_OIL}
		completion_reward = {
			add_stability = 0.05
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = USA
					}
					NOT = {
						has_war_with = ROOT
					}
					NOT = {
						is_subject_of = ROOT
					}
				}
				country_event = {
					days = 1
					id = mexico.4
				}
			}
		}
	}

	focus = {
		id = MEX_focus_liberty_and_justice_for_all
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = MEX_focus_compensation }
		x = 0
		y = 1
		relative_position_id = MEX_focus_compensation

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				NOT = {
					country_exists = USA
				}
			}
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = USA
			}
			USA = {
				is_in_faction = yes
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				USA = {
					exists = no
				}
				USA = {
					is_subject = yes
				}
			}
		}

		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					USA = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = USA
				modifier = american_mexican_diplomacy
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = american_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_aztec_eagles
		icon = GFX_focus_chi_flying_tigers
		prerequisite = { focus = MEX_focus_liberty_and_justice_for_all }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberty_and_justice_for_all

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_war = yes
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			add_opinion_modifier = {
				target = USA
				modifier = aztec_eagles_opinion
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = aztec_eagles_opinion
				}
			}
		}
	}

	focus = {
		id = MEX_focus_international_peacekeepers
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = MEX_focus_aztec_eagles focus = MEX_focus_purchase_belize }
		x = -2
		y = 1
		relative_position_id = MEX_focus_aztec_eagles

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_offensive_war = no
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = MEX_international_peacekeepers
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }			
		}
	}

	focus = {
		id = MEX_focus_purge_the_bureaucracy
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = MEX_focus_exile_calles }
		x = -5
		y = 1
		relative_position_id = MEX_focus_exile_calles

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				add_corps_commander_role = {
					character = MEX_jose_gonzalo_escobar
					traits = { cavalry_officer } # Cavalry commander
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				else = {
					add_corps_commander_role = {
						character = MEX_jose_gonzalo_escobar
						traits = { cavalry_officer } # Cavalry commander
						skill = 3
						attack_skill = 4
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 3
					}
				}
			}
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = MEX_jose_gonzalo_escobar
		}
	}

	focus = {
		id = MEX_focus_institutional_revolution
		icon = GFX_goal_mexico_a_new_dawn
		prerequisite = { focus = MEX_focus_purge_the_bureaucracy }
		x = 1
		y = 1
		relative_position_id = MEX_focus_purge_the_bureaucracy

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			democratic > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}

			add_stability = 0.1

			if = {
				limit = {
					has_country_leader = { name = "Lázaro Cárdenas" }
				}
				add_country_leader_role = {
  					character = MEX_lazaro_cardenas
  					promote_leader = yes
  					country_leader = {
						ideology = socialism
    					expire = "1965.1.1"
   						traits = {
        					refounder_of_mexico
						}
    				}
      			}
				add_country_leader_role = {
					character = MEX_plutarco_calles
					promote_leader = yes
					country_leader = {
					  	ideology = despotism
					  	expire = "1965.1.1"
						traits = {
							el_jefe_maximo
						}
				  	}
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			set_party_name = { ideology = democratic name = MEX_democratic_party_institutional_revolutionary_party_short long_name = MEX_democratic_party_institutional_revolutionary_party_long }
		}
	}

	focus = {
		id = MEX_focus_arrest_general_cedillo
		icon = GFX_focus_mex_arrest_general_cedillo
		prerequisite = { focus = MEX_focus_purge_the_bureaucracy }
		mutually_exclusive = { focus = MEX_focus_support_general_cedillo }
		x = -1
		y = 3
		relative_position_id = MEX_focus_purge_the_bureaucracy

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_global_flag = flag_mexico_cedillo_has_revolted
			}
			NOT = {
				has_country_leader = {
					name = "Saturnino Cedillo"
					ruling_only = yes
				}
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = tooltip_mexico_cedillo_will_be_neutralised
			add_war_support = 0.05
			MEX_remove_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_control_the_army
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = MEX_focus_exile_calles focus = MEX_focus_jefe_maximo }
		x = 1
		y = 1
		relative_position_id = MEX_focus_exile_calles

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_repeal_the_calles_law
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = MEX_focus_control_the_army }
		mutually_exclusive = { focus = MEX_focus_enforce_the_calles_law }
		x = -3
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_stability = 0.05
			MEX_increase_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_abolish_capital_punishment
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = MEX_focus_repeal_the_calles_law }
		x = 0
		y = 1
		relative_position_id = MEX_focus_repeal_the_calles_law

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 160
		}
	}

	focus = {
		id = MEX_focus_enforce_the_calles_law
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MEX_focus_control_the_army }
		mutually_exclusive = { focus = MEX_focus_repeal_the_calles_law }
		x = -1
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			NOT = {
				has_country_leader = {
					name = "Salvador Abascal"
					ruling_only = yes
				}
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_war_support = 0.05
			MEX_decrease_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_triumph_over_the_cristeros
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = MEX_focus_enforce_the_calles_law }
		x = 0
		y = 1
		relative_position_id = MEX_focus_enforce_the_calles_law

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
			}
		}



		
		
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				create_corps_commander = {
					name = "Pablo González Garza"
					id = 710
					gfx = "GFX_portrait_mex_pablo_gonzalez"
					traits = { harsh_leader } # Prince of terror, led assassination of Pancho Villa
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 5
					logistics_skill = 2
				}
				else = {
					create_corps_commander = {
						name = "Pablo González Garza"
						id = 710
						gfx = "GFX_portrait_mex_pablo_gonzalez"
						traits = { harsh_leader } # Prince of terror, led assassination of Pancho Villa
						skill = 3
						attack_skill = 3
						defense_skill = 2
						planning_skill = 4
						logistics_skill = 1
					}
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_pablo_gonzalez
		}
	}

	focus = {
		id = MEX_focus_state_education
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_abolish_capital_punishment focus = MEX_focus_triumph_over_the_cristeros }
		mutually_exclusive = { focus = MEX_focus_knights_of_columbus }
		mutually_exclusive = { focus = MEX_focus_legion_of_christ }
		x = 1
		y = 1
		relative_position_id = MEX_focus_abolish_capital_punishment

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_research_slot = 1
			MEX_decrease_church_power = yes

		}
	}

	focus = {
		id = MEX_focus_xefo
		icon = GFX_goal_generic_radar
		prerequisite = { focus = MEX_focus_state_education }
		x = 0
		y = 1
		relative_position_id = MEX_focus_state_education

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 2
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_law_on_industrial_promotion
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = MEX_focus_xefo }
		x = 0
		y = 1
		relative_position_id = MEX_focus_xefo

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 478
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_nafinsa
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MEX_focus_law_on_industrial_promotion }
		x = 0
		y = 1
		relative_position_id = MEX_focus_law_on_industrial_promotion

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_tech = synth_oil_experiments
				}
				every_state = {
					limit = {
						OR = {
							state = 277
							state = 485
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
				else = {
					every_state = {
						limit = {
							OR = {
								state = 277
								state = 485
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_engineering_school
		icon = GFX_focus_research2
		prerequisite = { focus = MEX_focus_northern_steel_plants focus = MEX_focus_xefo }
		x = 1
		y = 1
		relative_position_id = MEX_focus_northern_steel_plants

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_escuela_de_ingeneria_electrica
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_television_innovators
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_engineering_school }
		x = 0
		y = 1
		relative_position_id = MEX_focus_engineering_school

		cost = 20

		available = {
			num_of_factories > 50
		}

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_antidisestablishmentarianism
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = MEX_focus_control_the_army }
		x = 1
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			OR = {
				has_idea = MEX_church_power_3
				has_idea = MEX_church_power_4
				has_idea = MEX_church_power_5
			}
		}



		
		
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_transfer_lands_to_church
			if = {
				limit = {
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
		}
	}

	focus = {
		id = MEX_focus_rewrite_the_constitution
		icon = GFX_goal_christianity_and_state
		prerequisite = { focus = MEX_focus_antidisestablishmentarianism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_antidisestablishmentarianism

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_pardon_cristero_fighter
			unlock_decision_tooltip = MEX_decision_attend_public_mass
		}
	}

	focus = {
		id = MEX_focus_knights_of_columbus
		icon = GFX_goal_support_democracy
		prerequisite = { focus = MEX_focus_rewrite_the_constitution }
		mutually_exclusive = { focus = MEX_focus_state_education }
		mutually_exclusive = { focus = MEX_focus_legion_of_christ }
		x = -1
		y = 1
		relative_position_id = MEX_focus_rewrite_the_constitution

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_knights_of_columbus
		}
	}

	focus = {
		id = MEX_focus_catholic_politics
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = MEX_focus_knights_of_columbus }
		x = 0
		y = 2
		relative_position_id = MEX_focus_knights_of_columbus

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_idea = MEX_church_power_5
			democratic > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}

			add_stability = 0.1

			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			add_country_leader_role = {
				character = MEX_luis_maria_martinez
				promote_leader = yes
				country_leader = {
				  	ideology = socialism
				  	expire = "1965.1.1"
					traits = {
						primate_of_mexico
						r56_trait_opposed_to_communism
				  	}
			  	}
			}
			set_party_name = { ideology = democratic name = MEX_democratic_party_national_action_party_short long_name = MEX_democratic_party_national_action_party_long }

			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}

	focus = {
		id = MEX_focus_social_catholicism
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = MEX_focus_catholic_politics }
		x = 0
		y = 1
		relative_position_id = MEX_focus_catholic_politics

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_knights_of_columbus
				add_idea = MEX_social_catholicism
			}
		}
	}

	focus = {
		id = MEX_focus_legion_of_christ
		icon = GFX_goal_support_fascism
		prerequisite = { focus = MEX_focus_rewrite_the_constitution }
		mutually_exclusive = { focus = MEX_focus_state_education }
		mutually_exclusive = { focus = MEX_focus_knights_of_columbus }
		x = 1
		y = 1
		relative_position_id = MEX_focus_rewrite_the_constitution

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_legion_of_christ
		}

			#name will be used as focus/idea instead
			#set_party_name = { ideology = fascism name = MEX_fascist_party_legionnaires_of_christ_short long_name = MEX_fascist_party_legionnaires_of_christ_long }
	}

	focus = {
		id = MEX_focus_crusade_against_atheism
		icon = GFX_focus_mex_restore_the_army_of_christ
		prerequisite = { focus = MEX_focus_legion_of_christ }
		x = 0
		y = 2
		relative_position_id = MEX_focus_legion_of_christ

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_idea = MEX_church_power_4
				has_idea = MEX_church_power_5
			}
			NOT = {
				communism > 0.5
			}
			fascism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}

			add_war_support = 0.1

			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}

			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}

	focus = {
		id = MEX_focus_triumph_of_synarchism
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = MEX_focus_crusade_against_atheism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_crusade_against_atheism

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_legion_of_christ
				add_idea = MEX_triumph_of_synarchism
			}
		}
	}

	focus = {
		id = MEX_focus_church_schools
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_knights_of_columbus focus = MEX_focus_legion_of_christ }
		x = 1
		y = 1
		relative_position_id = MEX_focus_knights_of_columbus

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MEX_focus_synarchist_communes
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = MEX_focus_social_catholicism focus = MEX_focus_triumph_of_synarchism }
		x = 1
		y = 1
		relative_position_id = MEX_focus_social_catholicism

		cost = 10

		ai_will_do = {
			factor = 100
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 476
						state = 481
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_reform_the_cristero_guard
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = MEX_focus_synarchist_communes }
		mutually_exclusive = { focus = MEX_focus_synarchist_youth }
		x = -1
		y = 1
		relative_position_id = MEX_focus_synarchist_communes

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes

		completion_reward = {
			create_corps_commander = {
				name = "Jesús Degollado Guízar"
				gfx = GFX_portrait_mex_jesus_degollado_guizar
				traits = { trait_reckless infantry_officer }
				skill = 3
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 4
			}
			custom_effect_tooltip = tooltip_mexico_reform_the_cristero_guard

			hidden_effect = {
				division_template = {
					name = "Guardia Cristera"
					division_names_group = MEX_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 277 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 483 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 478 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 481 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 475 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 476 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 477 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 485 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_synarchist_youth
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = MEX_focus_synarchist_communes }
		mutually_exclusive = { focus = MEX_focus_reform_the_cristero_guard}
		x = 1
		y = 1
		relative_position_id = MEX_focus_synarchist_communes

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = synarchist_youth
		}
	}

	focus = {
		id = MEX_focus_ban_political_militias
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_legacy_of_revolution }
		x = 4
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_politicised_army
				add_idea = MEX_politicised_army_2
			}
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_revolutionary_women
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = MEX_focus_ban_political_militias focus = MEX_focus_legacy_of_revolution }
		x = 1
		y = 1
		relative_position_id = MEX_focus_ban_political_militias

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 479
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_womens_suffrage
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = MEX_focus_revolutionary_women }
		x = 1
		y = 1
		relative_position_id = MEX_focus_revolutionary_women

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_elections = yes
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_womens_suffrage
		}
	}

	focus = {
		id = MEX_focus_soldaderas
		icon = GFX_focus_mex_soldaderas
		prerequisite = { focus = MEX_focus_revolutionary_women }
		mutually_exclusive = { focus = MEX_focus_professional_army }
		x = 0
		y = 2
		relative_position_id = MEX_focus_revolutionary_women

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			army_experience = 5
			set_rule = {
				can_generate_female_aces = yes
			}
			every_state = {
				limit = {
					OR = {
						state = 476
						state = 485
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_depoliticised_army
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = MEX_focus_control_the_army }
		prerequisite = { focus = MEX_focus_ban_political_militias }
		x = 3
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY}
		completion_reward = {
			remove_ideas = MEX_politicised_army_2
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_professional_army
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = MEX_focus_depoliticised_army }
		mutually_exclusive = { focus = MEX_focus_soldaderas }
		x = 0
		y = 1
		relative_position_id = MEX_focus_depoliticised_army

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			army_experience = 15
			every_army_leader = {
				add_planning = 1
				add_logistics = 1
			}
			add_ideas = MEX_professional_army
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_legacy_of_revolution
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_ban_political_militias }
		x = 9
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_politicised_army
				add_idea = MEX_revolutionary_army
			}
		}
	}

	focus = {
		id = MEX_focus_the_gold_shirts
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = MEX_focus_legacy_of_revolution }
		mutually_exclusive = { focus = MEX_focus_the_red_shirts }
		x = -1
		y = 2
		relative_position_id = MEX_focus_legacy_of_revolution

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_revolutionary_army
				add_idea = MEX_right_wing_paramilitaries
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_jose_vasconcelos

			if = {
				limit = {
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
		}
	}

	focus = {
		id = MEX_focus_revanchist_revolution
		icon = GFX_goal_support_fascism
		prerequisite = { focus = MEX_focus_the_gold_shirts }
		x = -1
		y = 1
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			fascism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
			}
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_war_support = 0.1
			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = yes
				}
			}
			if = {
				limit = {
					has_completed_focus = MEX_focus_jefe_maximo
				}
				add_country_leader_role = {
					character = MEX_plutarco_calles
					promote_leader = yes
					country_leader = {
						ideology = fascism_ideology #changed to "regular fascism" to differenciate from Abascal
					  	expire = "1965.1.1"
						traits = {
							el_jefe_maximo
						}
				  	}
				}
				remove_ideas = MEX_plutarco_calles
			}
			else_if = {
				limit = {
					has_completed_focus = MEX_focus_support_general_cedillo
				}
				add_country_leader_role = {
					character = MEX_saturnino_cedillo
					promote_leader = yes
					country_leader = {
					  	ideology = fascism_ideology
					  	expire = "1965.1.1"
						traits = {
							strongman_of_san_luis_potosi
						}
				  	}
				}
			}
			set_party_name = { ideology = neutrality name = MEX_democratic_party_institutional_revolutionary_party_short long_name = MEX_democratic_party_institutional_revolutionary_party_long }
			set_party_name = { ideology = fascism name = MEX_fascist_party_national_revolutionary_party_short long_name = MEX_fascist_party_national_revolutionary_party_long }
		}
	}

	focus = {
		id = MEX_focus_the_red_shirts
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = MEX_focus_legacy_of_revolution }
		mutually_exclusive = { focus = MEX_focus_the_gold_shirts }
		x = 1
		y = 2
		relative_position_id = MEX_focus_legacy_of_revolution

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			MEX_decrease_church_power = yes
			swap_ideas = {
				remove_idea = MEX_revolutionary_army
				add_idea = MEX_left_wing_paramilitaries
			}
		}
	}

	focus = {
		id = MEX_focus_communist_revolution
		icon = GFX_goal_mexico_mexico_for_mexicans
		prerequisite = { focus = MEX_focus_the_red_shirts }
		x = 1
		y = 1
		relative_position_id = MEX_focus_the_red_shirts

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			communism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			add_stability = 0.05
			add_war_support = 0.05

			if = {
				limit = {
					has_global_flag = flag_mexico_invited_trotsky_to_government
					NOT = { has_global_flag = trotsky_dead }
					NOT = {
						SOV = {
							has_country_leader = { ruling_only = yes name = "Lev Trotsky" }
						}
					}
				}
				if = {
					limit = {
						NOT = {
							has_dlc = "La Resistance"
						}
					}
					add_country_leader_role = {
						character = MEX_leon_trotsky
						promote_leader = yes
						country_leader = {
							ideology = leninism
							expire = "1965.1.1"
							traits = {
								exiled_revolutionary
							}
						}
					}					
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
						
					}
					add_country_leader_role = {
						character = MEX_leon_trotsky
						promote_leader = yes
						country_leader = {
							ideology = leninism
							expire = "1965.1.1"
							traits = {
								exiled_revolutionary_LaR
							}
						}
					}					
				}				

				add_ai_strategy = {
					type = antagonize
					id = SOV
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = SOV
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = SOV
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = SOV
					value = -200
				}
				SOV = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = -200
					}
				}
			}

			if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}

			if = {
				limit = {
					has_global_flag = flag_mexico_invited_trotsky_to_government
				}
				set_party_name = { ideology = communism name = MEX_party_workers_peasants_mexico_short long_name = MEX_party_workers_peasants_mexico_long }
			}
		}
	}

	focus = {
		id = MEX_focus_hispanic_culture
		icon = GFX_goal_mexico_mexico_first
		prerequisite = { focus = MEX_focus_the_gold_shirts }
		prerequisite = { focus = MEX_focus_international_struggle }
		x = 0
		y = 2
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}





		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_international_struggle
				add_idea = MEX_hispanic_culture
			}
		}
	}

	focus = {
		id = MEX_focus_revolutionary_class_war
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = MEX_focus_the_red_shirts }
		prerequisite = { focus = MEX_focus_international_struggle }
		x = 0
		y = 2
		relative_position_id = MEX_focus_the_red_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}





		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_international_struggle
				add_idea = MEX_proletarian_class_army
			}
		}
	}

	focus = {
		id = MEX_focus_international_struggle
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = MEX_focus_the_gold_shirts focus = MEX_focus_the_red_shirts }
		x = 1
		y = 1
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = MEX_international_struggle
		}
	}

	focus = {
		id = MEX_focus_spanish_civil_war_refugees
		icon = GFX_goal_generic_spanish_civil_war_soldier
		prerequisite = { focus = MEX_focus_professional_army focus = MEX_focus_soldaderas focus = MEX_focus_hispanic_culture focus = MEX_focus_revolutionary_class_war }
		x = 1
		y = 2
		relative_position_id = MEX_focus_soldaderas

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				date > 1940.1.1
				has_global_flag = spanish_civil_war
				has_global_flag = scw_over
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
			}
			else = {
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			add_tech_bonus = {
				name = tooltip_spanish_civil_war_technical_knowledge
				bonus = 1.0
				uses = 1
				category = industry
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_falangist_veterans
		icon = GFX_focus_spa_the_phalanx_ascendant
		prerequisite = { focus = MEX_focus_spanish_civil_war_refugees }
		mutually_exclusive = { focus = MEX_focus_support_spains_loyalists }
		x = -1
		y = 1
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			NOT = { has_government = communism }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			unlock_decision_tooltip = MEX_decision_support_spanish_fascists
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_doctrine_cost_reduction = {
				name = tooltip_falangist_veterans_doctrine_knowledge
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
				category = air_doctrine
			}
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				every_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = falangist_veterans_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPA
						has_government = fascism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = falangist_veterans_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_opinion_modifier = {
					target = SPA
					modifier = falangist_veterans_opinion
				}
				SPA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
			MEX_increase_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_support_spains_loyalists
		icon = GFX_focus_spr_no_pasaran
		prerequisite = { focus = MEX_focus_spanish_civil_war_refugees }
		mutually_exclusive = { focus = MEX_focus_falangist_veterans }
		x = 1
		y = 1
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = { has_government = fascism }
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			unlock_decision_tooltip = MEX_decision_support_spanish_loyalists

			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			add_war_support = 0.05
			add_stability = 0.05
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				every_other_country = {
					limit = {
						original_tag = SPR
						has_government = communism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = loyalist_spanish_government_support_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPA
						has_government = communism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = loyalist_spanish_government_support_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_opinion_modifier = {
					target = SPD
					modifier = loyalist_spanish_government_support_opinion
				}
				SPD = {
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
			}
			MEX_decrease_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_hispanic_alliance
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = MEX_focus_falangist_veterans }
		mutually_exclusive = { focus = MEX_focus_realpolitik }
		x = -2
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY}
		completion_reward = {
			set_rule = { can_create_factions = yes }

			if = {
				limit = {
					has_completed_focus = MEX_focus_crusade_against_atheism
				}
				create_faction = faction_mexico_synarchist_pact
			}
			else = {
				create_faction = faction_mexico_hispanic_alliance
			}
			hidden_effect = {
				news_event = {
					id = mexico.46
				}
			}

			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity

			MEX_increase_church_power = yes

			if = {
				limit = {
					has_government = fascism
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							original_tag = BRA
							original_tag = MEX
							original_tag = HOL # Apparently they get included when they go into exile in Curacao
							original_tag = ENG # Just in case
							original_tag = FRA # Just in case
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_synarchist_influence
    					days = 720
					}
					set_country_flag = received_MEX_synarchist_influence
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							original_tag = BRA
							original_tag = MEX
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_propaganda_pact
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = MEX_focus_hispanic_alliance }
		x = -1
		y = 1
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_government = fascism
			any_allied_country = {
				has_government = fascism
			}
			any_enemy_country = {
				has_government = communism
			}
		}



		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
		}
	}

	focus = {
		id = MEX_focus_invite_brazil
		icon = GFX_goal_generic_befriend_brazil
		prerequisite = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 1
		y = 1
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_in_faction = yes
			BRA = {
				is_in_faction = no
			}
			NOT = {
				has_war_with = BRA
			}
		}



		
		
		

		completion_reward = {
			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity
			if = {
				limit = {
					has_government = fascism
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_synarchist_influence
    					days = 720
					}
					set_country_flag = received_MEX_synarchist_influence
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_bolivarian_agitation
						days = 720
					}
					set_country_flag = received_MEX_bolivarian_agitation
				}
			}
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_realpolitik
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = MEX_focus_falangist_veterans focus = MEX_focus_support_spains_loyalists }
		mutually_exclusive = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 0
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 120
		}
	}

	focus = {
		id = MEX_focus_bolivarian_alliance
		icon = GFX_goal_anschluss
		prerequisite = { focus = MEX_focus_support_spains_loyalists }
		mutually_exclusive = { focus = MEX_focus_realpolitik }
		x = 2
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				has_government = communism
				has_government = neutrality
			}
		}



		
		
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			set_rule = { can_create_factions = yes }

			create_faction = faction_mexico_bolivarian_alliance

			hidden_effect = {
				news_event = {
					id = mexico.47
				}
			}

			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity

			MEX_decrease_church_power = yes

			if = {
				limit = {
					has_government = communism
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							original_tag = BRA
							original_tag = MEX
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_bolivarian_agitation
						days = 720
					}
					set_country_flag = received_MEX_bolivarian_agitation
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							original_tag = BRA
							original_tag = MEX
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_smash_the_bureaucrats
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = MEX_focus_bolivarian_alliance }
		x = 0
		y = 1
		relative_position_id = MEX_focus_bolivarian_alliance

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			OR = {
				has_country_leader = {
					name = "Lev Trotsky"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Hernán Laborde"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Valentín Campa"
					ruling_only = yes
				}
			}
		}



		
		
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = MEX_idea_vanguard_of_the_4th_international

			if = {
				limit = {
					is_faction_leader = yes
				}
				set_faction_name = faction_mexico_4th_international
			}

			if = {
				limit = {
					NOT = {
						is_in_faction_with = SOV
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SOV
					expire = 0
				}
			}
			add_tech_bonus = {
				name = tooltip_socialist_marine_corps
				bonus = 1.0
				uses = 1
				category = tp_tech
				category = marine_tech
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }			
		}
	}

	focus = {
		id = MEX_focus_liberate_the_antilles
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = MEX_focus_bolivarian_alliance }
		x = 2
		y = 1
		relative_position_id = MEX_focus_bolivarian_alliance

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			is_subject = no
			has_government = communism
		}



		
		
		

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_pressure_the_caribbean
			}
			random_country = {
				limit = {
					original_tag = FRA
					OR = {
						AND = {
							owns_state = 694
							has_full_control_of_state = 694
						}
						AND = {
							owns_state = 310
							has_full_control_of_state = 310
						}
						CAY = {
							is_subject_of = PREV
						}
						GDL = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
			random_country = {
				limit = {
					original_tag = USA
					OR = {
						AND = {
							owns_state = 686
							has_full_control_of_state = 686
						}
						PUE = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
			random_country = {
				limit = {
					original_tag = HOL
					OR = {
						AND = {
							owns_state = 309
							has_full_control_of_state = 309
						}
						AND = {
							owns_state = 153
							has_full_control_of_state = 153
						}
						SUR = {
							is_subject_of = PREV
						}
						CRC = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
			random_country = {
				limit = {
					original_tag = ENG
					OR = {
						AND = {
							owns_state = 691 #trinidad
							has_full_control_of_state = 691
						}
						AND = {
							owns_state = 692
							has_full_control_of_state = 692
							owns_state = 308
							has_full_control_of_state = 308
						}
						AND = {
							owns_state = 687 #british guyana
							has_full_control_of_state = 687
						}
						AND = {
							owns_state = 689 #jamaica
							has_full_control_of_state = 689
						}
						AND = {
							owns_state = 690 #bahamas
							has_full_control_of_state = 690
							owns_state = 693
							has_full_control_of_state = 693
						}
						AND = {
							owns_state = 311 #belize
							has_full_control_of_state = 311
						}
						BLZ = {
							is_subject_of = PREV
						}
						GYA = {
							is_subject_of = PREV
						}
						TRI = {
							is_subject_of = PREV
						}
						BAS = {
							is_subject_of = PREV
						}
						BAH = {
							is_subject_of = PREV
						}
						JAM = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
		}
	}

	focus = {
		id = MEX_focus_one_world_government
		icon = GFX_focus_spr_anarchism_knows_no_borders
		prerequisite = { focus = MEX_focus_smash_the_bureaucrats }
		x = 0
		y = 1
		relative_position_id = MEX_focus_smash_the_bureaucrats

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_faction_leader = yes
			is_subject = no
			OR = {
				SOV = {
					is_subject_of = ROOT
				}
				SOV = {
					exists = no
				}
				NOT = {
					SOV = {
						has_country_leader = {
							name = "Iosif Stalin"
							ruling_only = yes
						}
					}
				}
			}
		}



		
		
		

		completion_reward = {
			every_other_country = { #first ask faction leaders to disband communist factions and join Trotsky, then ask the communist minors to join
				limit = {
					is_faction_leader = yes
					has_government = communism
					is_subject = no
					NOT = {
						has_war_with = MEX
					}
				}
				country_event = { #4th international congress
					id = mexico.52
				}
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				every_other_country = {
					limit = {
						is_in_faction = no
						has_government = communism
						is_subject = no
					}
					country_event = {
						id = generic.5
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = MEX_focus_coastal_defence_plan
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 2
		y = 2
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 5

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 100
				has_war_with = USA
			}
		}
		

		completion_reward = {

			unlock_decision_tooltip = MEX_decision_coastal_defence_plan

			481 = {
				add_building_construction = { type = coastal_bunker province = 8057 level = 1 instant_build = yes }
			}
			485 = {
				add_building_construction = { type = bunker province = 8032 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 8032 level = 1 instant_build = yes }
			}
			277 = {
				add_building_construction = { type = bunker province = 1965 level = 1 instant_build = yes }
			}
			477 = {
				add_building_construction = { type = bunker province = 8089 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 12810 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 12810 level = 1 instant_build = yes }
			}
			476 = {
				add_building_construction = { type = bunker province = 10889 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 10889 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 2021 level = 1 instant_build = yes }
			}
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_march_southwards
		icon = GFX_goal_MEX_march_southwards
		prerequisite = { focus = MEX_focus_interior_defence_plan focus = MEX_focus_coastal_defence_plan }
		x = 8
		y = 1
		relative_position_id = MEX_focus_interior_defence_plan

		cost = 5

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				has_stability < 0.75
			}			
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
			OR = {
				has_government = fascism
				has_government = communism
			}
		}


		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_marching_southwards
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = GUA
						is_core_of = HON
						is_core_of = ELS
						state = 311 # British Honduras
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		GUA = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = GUA
                    expire = 0
                }
            }
            if = {
            	limit = {
            		HON = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = HON
                    expire = 0
                }
            }
            if = {
            	limit = {
            		ELS = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ELS
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = GUA
		will_lead_to_war_with = HON
		will_lead_to_war_with = ELS
	}

	focus = {
		id = MEX_focus_unify_centroamerica
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = MEX_focus_march_southwards }
		x = 0
		y = 1
		relative_position_id = MEX_focus_march_southwards

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
		}


		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_unify_centroamerica
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = NIC
						is_core_of = COS
						is_core_of = PAN
						state = 685 # Panama Canal
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		NIC = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = NIC
                    expire = 0
                }
            }
            if = {
            	limit = {
            		COS = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = COS
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PAN = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PAN
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = NIC
		will_lead_to_war_with = COS
		will_lead_to_war_with = PAN
	}

	focus = {
		id = MEX_focus_liberate_the_caribbean
		icon = GFX_goal_VEN_focus_on_caribbean
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = -2
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
		}


		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_pressure_the_caribbean
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = CUB
						is_core_of = DOM
						is_core_of = HAI
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		CUB = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CUB
                    expire = 0
                }
            }
            if = {
            	limit = {
            		DOM = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = DOM
                    expire = 0
                }
            }
            if = {
            	limit = {
            		HAI = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = HAI
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BAH = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BAH
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BAS = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BAS
                    expire = 0
                }
            }
            if = {
            	limit = {
            		JAM = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = JAM
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PUE = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PUE
                    expire = 0
                }
            }
            if = {
            	limit = {
            		CRC = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CRC
                    expire = 0
                }
            }
            if = {
            	limit = {
            		TRI = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = TRI
                    expire = 0
                }
            }
            if = {
            	limit = {
            		GDL = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = GDL
                    expire = 0
                }
            }
		}

		will_lead_to_war_with = CUB
		will_lead_to_war_with = DOM
		will_lead_to_war_with = HAI
	    will_lead_to_war_with = BAH
	    will_lead_to_war_with = BAS
	    will_lead_to_war_with = JAM
	    will_lead_to_war_with = PUE
	    will_lead_to_war_with = CRC
	    will_lead_to_war_with = TRI
	    will_lead_to_war_with = GDL
	}

	focus = {
		id = MEX_focus_integrate_the_caribbean
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = MEX_focus_liberate_the_caribbean }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberate_the_caribbean

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			OR = {
				controls_state = 315
				controls_state = 994
				controls_state = 318
				controls_state = 319
			}
		}



		
		
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_integrate_cuba
			unlock_decision_tooltip = MEX_decision_integrate_haiti
			unlock_decision_tooltip = MEX_decision_integrate_the_dominican_republic
		}
	}

	focus = {
		id = MEX_focus_push_past_the_darien_gap
		icon = GFX_focus_por_recover_latin_america
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 3
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
		}


		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_push_south_of_the_darien_gap
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = COL
						is_core_of = ECU
						is_core_of = VEN
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		COL = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = COL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		ECU = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ECU
                    expire = 0
                }
            }
            if = {
            	limit = {
            		VEN = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = VEN
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = COL
		will_lead_to_war_with = ECU
		will_lead_to_war_with = VEN
	}

	focus = {
		id = MEX_focus_andean_offensive
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = MEX_focus_push_past_the_darien_gap }
		x = 0
		y = 1
		relative_position_id = MEX_focus_push_past_the_darien_gap

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
		}


		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_andean_offensive
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = PRU
						is_core_of = BOL
						is_core_of = PAR
						is_core_of = URG
						is_core_of = CHL
						is_core_of = ARG
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		ARG = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ARG
                    expire = 0
                }
            }
            if = {
            	limit = {
            		CHL = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CHL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		URG = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = URG
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PAR = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PAR
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BOL = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BOL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PRU = {
						exists = yes
            			NOT = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PRU
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = PRU
		will_lead_to_war_with = BOL
		will_lead_to_war_with = PAR
		will_lead_to_war_with = URG
		will_lead_to_war_with = CHL
		will_lead_to_war_with = ARG
	}

	focus = {
		id = MEX_focus_seize_the_panama_canal
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 1
		y = 2
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			r56_script_i_am_sane = yes
			NOT = {
				has_war_with = USA
			}
			NOT = {
				is_in_faction_with = USA
			}
		}

		bypass = {
			NOT = {
				USA = {
					owns_state = 685
				}
			}
		}

		
		
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_operation_just_cause
		}
		will_lead_to_war_with = USA
	}

	focus = {
		id = MEX_focus_integrate_the_south
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 0
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				controls_state = 312
				controls_state = 313
				controls_state = 314
				controls_state = 317
				controls_state = 316
				controls_state = 304
				controls_state = 364
				controls_state = 311
				controls_state = 685
			}
		}



		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_integrate_guatamala
			unlock_decision_tooltip = MEX_decision_integrate_honduras
			unlock_decision_tooltip = MEX_decision_integrate_el_salvador
			unlock_decision_tooltip = MEX_decision_integrate_nicaragua
			unlock_decision_tooltip = MEX_decision_integrate_costa_rica
			unlock_decision_tooltip = MEX_decision_integrate_panama
			unlock_decision_tooltip = MEX_decision_integrate_panama_canal
			unlock_decision_tooltip = MEX_decision_integrate_belize
		}
	}

	focus = {
		id = MEX_focus_fortify_the_canal
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = MEX_focus_seize_the_panama_canal }
		x = 1
		y = 1
		relative_position_id = MEX_focus_seize_the_panama_canal

		cost = 5

		ai_will_do = {
			factor = 80
		}

		available = {
			controls_state = 685
		}



		
		
		available_if_capitulated = yes

		completion_reward = {
			685 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 7617
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 7617
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}

	}
	focus = {
		id = MEX_focus_rescind_the_mexican_cession
		icon = GFX_focus_spa_the_war_of_vengeance
		prerequisite = { focus = MEX_focus_seize_the_panama_canal }
		x = -1
		y = 1
		relative_position_id = MEX_focus_seize_the_panama_canal

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			is_subject = no
			threat > 0.5
			NOT = {
				is_in_faction_with = USA
			}
			NOT = {
				has_non_aggression_pact_with = USA
			}
			r56_script_i_am_sane = yes
		}

		bypass = {
			USA = {
				r56_script_standard_bypass = yes
			}
		}

		
		
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 5
				name = threat_mexico_rescind_cession
			}
			if = {
				limit = {
					country_exists = USA
				}
				create_wargoal = {
					type = take_state_focus
					target = USA
					expire = 0
					generator = { 375 376 377 378 379 380 382 }
				}
			}
			every_other_country = {
				limit = {
					NOT = { tag = USA }
					original_tag = USA
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						expire = 0
						generator = { 375 376 377 378 379 380 382 }
					}
				}
			}

			every_state = {
				limit = {
					OR = {
						state = 375
						state = 376
						state = 377
						state = 378
						state = 379
						state = 380
						state = 382
					}
					NOT = {
						is_core_of = ROOT
					}
					NOT = {
						is_claimed_by = ROOT
					}
				}
				add_claim_by = ROOT
			}
		}
		will_lead_to_war_with = USA
	}

	focus = {
		id = MEX_focus_redeem_aztlan
		icon = GFX_focus_mex_redeem_aztlan
		prerequisite = { focus = MEX_focus_rescind_the_mexican_cession }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rescind_the_mexican_cession

		cost = 30

		ai_will_do = {
			factor = 100
		}

		available = {
			375 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			376 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			377 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			378 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			379 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			380 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			382 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
		}



		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_political_power = -300
			every_state = {
				limit = {
					OR = {
						state = 375
						state = 376
						state = 377
						state = 378
						state = 379
						state = 380
						state = 382
					}
				}
				add_core_of = ROOT
				hidden_effect = {
					remove_claim_by = ROOT
				}
			}
			if = {
				limit = {
					USA = {
						is_subject_of = ROOT
					}
				}
				annex_country = { target = USA }
			}
		}
	}

	focus = {
		id = MEX_focus_military_budget_review
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = MEX_focus_national_bank }
		x = -6
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = tooltip_military_budget_review
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_manuel_avila
		}
	}

	focus = {
		id = MEX_focus_gulf_coast_naval_yards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = -2
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war_with = USA
			}

			modifier = {
				factor = 10
				has_war_with = ENG
			}

			modifier = {
				factor = 10
				has_war_with = GER
			}

			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 479
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_astimar_gulf
		}
	}

	focus = {
		id = MEX_focus_pacific_coast_naval_yards
		icon = GFX_goal_generic_expand_the_naval_industry
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = 0
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war_with = USA
			}

			modifier = {
				factor = 10
				has_war_with = ENG
			}

			modifier = {
				factor = 10
				has_war_with = GER
			}

			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 485
						state = 478
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_astimar_pacific
		}
	}

	focus = {
		id = MEX_focus_brown_water_navy
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = MEX_focus_pacific_coast_naval_yards focus = MEX_focus_gulf_coast_naval_yards }
		x = -1
		y = 2
		relative_position_id = MEX_focus_pacific_coast_naval_yards

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war_with = USA
			}

			modifier = {
				factor = 10
				has_war_with = ENG
			}

			modifier = {
				factor = 10
				has_war_with = GER
			}

			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = MEX_brown_water_navy
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = tooltip_escort_ships
				bonus = 1.0
				uses = 1
				category = dd_tech
				category = cl_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 2
					uses = 1
					category = asw_tech
				}
				
			}				
		}
	}

	focus = {
		id = MEX_focus_blue_water_navy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = MEX_focus_brown_water_navy }
		mutually_exclusive = { focus = MEX_focus_raiding_navy }
		x = -1
		y = 1
		relative_position_id = MEX_focus_brown_water_navy

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war_with = USA
			}

			modifier = {
				factor = 10
				has_war_with = GER
			}

			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_brown_water_navy
				add_idea = MEX_blue_water_navy
			}
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = tooltip_capital_ships
				bonus = 1.0
				uses = 1
				category = ca_tech
				category = bb_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 1
					category = naval_gunnery_tech
				}
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 1
					category = naval_shell_tech
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 1
					uses = 1
					technology = fire_control_methods_1
					technology = fire_control_methods_2
					technology = fire_control_methods_3
				}								
			}			
		}
	}

	focus = {
		id = MEX_focus_raiding_navy
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = MEX_focus_brown_water_navy }
		mutually_exclusive = { focus = MEX_focus_blue_water_navy }
		x = 1
		y = 1
		relative_position_id = MEX_focus_brown_water_navy

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war_with = USA
			}

			modifier = {
				factor = 10
				has_war_with = ENG
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_brown_water_navy
				add_idea = MEX_raiding_navy
			}
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = ss_tech
				bonus = 1.0
				uses = 1
				category = ss_tech
				category = bc_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 2
					uses = 2
					category = torpedo_equipment
				}
			}				
		}
	}

	focus = {
		id = MEX_focus_heroic_military_college
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = 2
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 30
			add_doctrine_cost_reduction = {
				name = land_doctrine
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = MEX_manuel_perez_trevino
		}
	}

	focus = {
		id = MEX_focus_weapons_modernisation
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = MEX_focus_heroic_military_college }
		x = -1
		y = 1
		relative_position_id = MEX_focus_heroic_military_college

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = MEX_focus_tank_workshops
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = MEX_focus_weapons_modernisation }
		x = 0
		y = 1
		relative_position_id = MEX_focus_weapons_modernisation

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = armor
				bonus = 1.0
				uses = 1
				category = armor
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_tga
		}
	}

	focus = {
		id = MEX_focus_aviation_workshops
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = MEX_focus_heroic_military_college }
		x = 1
		y = 1
		relative_position_id = MEX_focus_heroic_military_college

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_tnca
		}
	}

	focus = {
		id = MEX_focus_military_aviation_specialists
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = MEX_focus_aviation_workshops }
		x = 0
		y = 1
		relative_position_id = MEX_focus_aviation_workshops

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = MEX_focus_army_expansion_programme
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MEX_focus_tank_workshops }
		prerequisite = { focus = MEX_focus_military_aviation_specialists }
		x = 1
		y = 1
		relative_position_id = MEX_focus_tank_workshops

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.1
				has_war = no
			}

			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 478
						state = 277
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_war = no
				}
				custom_effect_tooltip = tooltip_mexico_stability_hit_for_peacetime_expansion
				add_stability = -0.05
			}
		}
	}

	focus = {
		id = MEX_focus_heavy_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = MEX_focus_army_expansion_programme }
		mutually_exclusive = { focus = MEX_focus_aerial_artillery }
		x = -1
		y = 1
		relative_position_id = MEX_focus_army_expansion_programme

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}

			modifier = {
				factor = 10
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = MEX_heavy_artillery
		}
	}

	focus = {
		id = MEX_focus_aerial_artillery
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = MEX_focus_army_expansion_programme }
		mutually_exclusive = { focus = MEX_focus_heavy_artillery }
		x = 1
		y = 1
		relative_position_id = MEX_focus_army_expansion_programme

		cost = 10

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 10
				has_war = yes
			}

			modifier = {
				factor = 0.1
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = MEX_aerial_artillery
		}
	}
}
