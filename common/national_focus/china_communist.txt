focus_tree = {
	id = china_communist_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = PRC
		}
	}

	default = no

	continuous_focus_position = { x = 0 y = 0 }

	focus = {
		id = PRC_recover_from_the_long_march
		icon = GFX_goal_infantry_flames		
		x = 3
		y = 0
		cost = 10
		ai_will_do = {
			factor = 100
		}

		available = { has_war = no }
		bypass = {
			NOT = { has_idea = PRC_devastating_long_march }
		}

		completion_reward = {
			custom_effect_tooltip = prc_long_march_tt
			army_experience = 15
			random_owned_controlled_state = {
				prioritize = { 622 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				remove_ideas = PRC_devastating_long_march
				add_timed_idea = {
					days = 105
					idea = PRC_devastating_long_march_1
				}
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = PRC_devastating_long_march
					add_idea = PRC_devastating_long_march_1
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_anti_japanese_aim
		icon = GFX_focus_attack_japan
		prerequisite = { focus = PRC_recover_from_the_long_march }
		x = 0
		y = 1
		relative_position_id = PRC_recover_from_the_long_march
		cost = 5

		available = {
			NOT = {
				is_puppet_of = JAP
				has_war_with = CHI
			}
		}
		
		bypass = {
			has_war_with = JAP
		}

		completion_reward = {
			add_stability = 0.1
			if = {
				limit = {
					CHI = {
						has_completed_focus = KMT_support_pro_japanese_faction
					}
					CHI = {
						PRC = {
							NOT = {
								has_opinion_modifier = pro_jap_traitor
							}
						}
					}
				}
				add_opinion_modifier = {
					target = CHI
					modifier = pro_jap_traitor
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = PRC_approach_the_front
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_anti_japanese_aim }
		x = -1
		y = 1
		relative_position_id = PRC_anti_japanese_aim
		cost = 10
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				AND = {
					is_ai = yes
					is_historical_focus_on = no
				}
			}
		}

		available = {
			r56_script_i_am_sane = yes
			SHX = {
				r56_script_target_is_sane = yes
			}
			NOT = {
				OR = {
					has_war_with = JAP
					has_war_with = CHI
				}
			}
		}

		bypass = {
			SHX = {
				r56_script_standard_bypass = yes
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = prc_east_expedition_tt
			create_wargoal = {
				target = SHX
				expire = 0
				type = annex_everything
			}
			hidden_effect = {
				load_oob = "PRC_east_expedition"
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_front_line_preparation
		icon = GFX_focus_generic_public_works_A
		prerequisite = { focus = PRC_approach_the_front }
		x = -1
		y = 1
		relative_position_id = PRC_approach_the_front
		cost = 10

		available = {
			has_war = no
			any_owned_state = {
				any_neighbor_state = {
					OR = {
						is_owned_by = JAP
						owner = {
							is_puppet_of = JAP
						}
						is_controlled_by = JAP
						controller = {
							is_puppet_of = JAP
						}
					}
				}
			}
		}
		
		bypass = {
			has_war_with = JAP
		}		

		completion_reward = {
			custom_effect_tooltip = prc_front_infras_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						any_neighbor_state = {
							owner = {
								OR = {
									tag = JAP
									is_puppet_of = JAP
								}
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_expand_taiyuan_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = PRC_approach_the_front }
		x = 1
		y = 1
		relative_position_id = PRC_approach_the_front
		cost = 10
		
		available = {
			controls_state = 615
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 615 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_taiyuan_arsenal
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_supply_line_from_sov
		icon = GFX_goal_generic_soviet_assistance
		prerequisite = { focus = PRC_west_expedition focus = PRC_approach_the_front }
		x = 0
		y = 2
		relative_position_id = PRC_approach_the_front
		cost = 10
		
		available = {
			NOT = {
				has_global_flag = PRC_defy_sov_order
			}
			SOV = {
				has_government = communism
			}
			has_government = communism
			custom_trigger_tooltip = {
				tooltip = prc_sov_supply_tt
				any_owned_state = {
					any_neighbor_state = {
						controller = {
							OR = {
								tag = SOV
								is_in_faction_with = SOV
								AND = {
									has_government = communism
									has_opinion = {
										target = SOV
										value > 0
									}
									NOT = {
										has_war_with = SOV
									}
									tag = SIK
								}
							}
						}
					}
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = prc_sov_supply_eff_tt
			hidden_effect = {
				country_event = { id = prc.1 days = 5 }
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_west_expedition
		icon = GFX_goal_PRC_attack_ma_clique
		prerequisite = { focus = PRC_anti_japanese_aim focus = PRC_urge_zhang }
		x = 2
		y = 2
		relative_position_id = PRC_anti_japanese_aim
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			XSM = {
				r56_script_target_is_sane = yes
			}
		}

		bypass = {
			XSM = {
				r56_script_standard_bypass = yes
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = prc_west_expedition_tt
			create_wargoal = {
				target = XSM
				expire = 0
				type = annex_everything
			}
			hidden_effect = {
				load_oob = "PRC_west_expedition"
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_the_grand_northwest_united_proposal
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = PRC_recover_from_the_long_march }
		x = 5
		y = 1
		relative_position_id = PRC_recover_from_the_long_march
		cost = 5

		available = {
			date < 1936.11.1
			NOT = {
				is_in_faction_with = CHI
			}
		}
		
		completion_reward = {
			SOV = { 
				country_event = { id = prc.54 }
			}
		}
	}

	focus = {
		id = PRC_urge_zhang
		icon = GFX_goal_PRC_contact_zhang_xueliang
		prerequisite = { focus = PRC_the_grand_northwest_united_proposal }
		x = 0
		y = 1
		relative_position_id = PRC_the_grand_northwest_united_proposal
		cost = 5

		available = {
			NOT = {
				is_in_faction_with = CHI
			}
			OR = {
				has_global_flag = PRC_defy_sov_order
				has_global_flag = PRC_sov_approve
			}
		}

		bypass = {
			has_global_flag = no_rescue_zhang
			OR = {
				has_global_flag = PRC_defy_sov_order
				has_global_flag = PRC_sov_approve
			}
		}

		completion_reward = {
			country_event = { id = prc.55 }
		}
	}

	focus = {
		id = PRC_form_the_grand_northwest_united
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = PRC_urge_zhang }
		x = 0
		y = 1
		relative_position_id = PRC_urge_zhang
		cost = 5

		available = {
			is_in_faction = no
			controls_state = 283
			OR = {
				has_global_flag = PRC_defy_sov_order
				has_global_flag = PRC_sov_approve
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = propaganda_recruits
				}
				swap_ideas = {
					remove_idea = propaganda_recruits
					add_idea = extensive_conscription
				}				
			}
			if = {
				limit = {
					has_idea = political_mobilisation_idea
				}
				swap_ideas = {
					remove_idea = political_mobilisation_idea
					add_idea = extensive_conscription
				}				
			}
			if = {
				limit = {
					has_idea = PRC_guerilla_warfare
				}
				swap_ideas = {
					remove_idea = PRC_guerilla_warfare
					add_idea = war_economy
				}
			}
			else = {
				add_political_power = 150
			}
			set_global_flag = NWNDG_formed
			set_cosmetic_tag = NWND
			set_rule = { can_create_factions = yes }
			create_faction = grand_nw_united
			set_capital = { state = 283 }
			if = {
				limit = {
					has_global_flag = zxl_as_gnwu_leader
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}	
				create_country_leader = {
					name = "Zhang Xueliang"
					desc = "POLITICS_ZHANG_XUELIANG_DESC"
					picture = "gfx/leaders/CHI/r56_portrait_CHI_Zhang_Xueliang.dds"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						fascism_follower
						the_generals_that_dont_resist
					}
				}
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = PRC_zxl_navy
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = PRC_zxl_air
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = PRC_li_bo_hai
				set_global_flag = PRC_zxl_as_leader
				hidden_effect = {
					create_country_leader = {
						name = "Zhang Xueliang"
						desc = "POLITICS_ZHANG_XUELIANG_DESC"
						picture = "gfx/leaders/CHI/r56_portrait_CHI_Zhang_Xueliang.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							fascism_follower
							the_generals_that_dont_resist
						}
					}
					set_party_name = { ideology = fascism long_name = PRC_nwnd_gov name = PRC_nwnd_gov_short }
				}
			}
			if = {
				limit = {
					SOV = {
						has_government = communism
					}
					country_exists = SIK
					NOT = {
						has_global_flag = PRC_defy_sov_order
					}
				}
				country_event = { id = prc.123 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_destroy_mao_and_his_clique
		icon = GFX_goal_PRC_destroy_the_communists
		prerequisite = { focus = PRC_form_the_grand_northwest_united }
		mutually_exclusive = { focus = PRC_trust_in_communism }
		x = -1
		y = 1
		relative_position_id = PRC_form_the_grand_northwest_united
		cost = 15

		available = {
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
			NOT = {
				has_completed_focus = PRC_found_our_nation
			}
		}
		
		select_effect = {
			country_event = { id = prc.62 }
		}
		completion_reward = {
			custom_effect_tooltip = PRC_turn_fascist_when_select_tt
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}
			add_popularity = {
				ideology = communism
				popularity = -0.35
			}
			add_timed_idea = {
				days = 730
				idea = reign_of_terror
			}
		}
	}

	focus = {
		id = PRC_trust_in_communism
		icon = GFX_goal_support_communism
		prerequisite = { focus = PRC_form_the_grand_northwest_united }
		mutually_exclusive = { focus = PRC_destroy_mao_and_his_clique }
		x = 1
		y = 1
		relative_position_id = PRC_form_the_grand_northwest_united
		cost = 10

		available = {
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
			NOT = {
				has_completed_focus = PRC_the_second_northeast_flag_replacement
			}
			has_government = communism
		}
		
		completion_reward = {
			add_stability = 0.1
			add_political_power = 120
			if = {
				limit = {
					has_country_leader = {
						name = "Zhang Xueliang"
						ruling_only = yes
					}
				}
				remove_country_leader_trait = fascism_follower
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_purge_dissident_element
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = PRC_recover_from_the_long_march }
		x = -5
		y = 1
		relative_position_id = PRC_recover_from_the_long_march
		cost = 5

		available = {
			has_government = communism
		}
		bypass = {
			has_completed_focus = PRC_suppress_counterrevolutionaries
		}

		completion_reward = {
			add_political_power = 150
			hidden_effect = {
				country_event = { id = prc.3 days = 3 }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_march_into_sik
		icon = GFX_goal_PRC_retake_sinkiang
		prerequisite = { focus = PRC_purge_dissident_element }

		x = -1
		y = 1
		relative_position_id = PRC_purge_dissident_element
		cost = 10

		available = {
			is_subject = no
			NOT = {
				owns_state = 759
				owns_state = 760
			}
			OR = {
				any_owned_state = {
					any_neighbor_state = {
						owner = { tag = SIK }
					}
				}
				any_owned_state = {
					any_neighbor_state = {
						owner = { tag = TNG }
					}
				}
			}
		}

		bypass = {
			owns_state = 759
			owns_state = 760
		}

		completion_reward = {
			if = {
				limit = {
					any_other_country = {
						owns_state = 759
					}
				}
				759 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_core_state
								generator = { 759 287 619 }
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 760
					}
				}
				760 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_core_state
								generator = { 760 617 618 }
							}
						}
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						SOV = {
							is_puppet = no
							has_government = communism
						}
						SIK = {
							is_in_faction_with = SOV
						}
					}
					SOV = {
						country_event = { id = prc.36 }
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_liberate_tibet
		icon = GFX_goal_PRC_liberate_tibet
		prerequisite = { focus = PRC_purge_dissident_element }
		x = 1
		y = 1
		relative_position_id = PRC_purge_dissident_element
		cost = 10

		available = {
			is_subject = no
			any_owned_state = {
				any_neighbor_state = {
					owner = { tag = TIB }
				}
			}
		}
		bypass = {
			controls_state = 757
		}

		completion_reward = {
			if = {
				limit = {
					any_other_country = {
						owns_state = 757
					}
				}
				757 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = take_core_state
								generator = { 757 322 758 }
							}
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_army_reform
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = PRC_purge_dissident_element }
		x = 0
		y = 2
		relative_position_id = PRC_purge_dissident_element
		cost = 10
		
		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	################### MORALE BOOSTING TREE ################ + + ANTI-DEFEATISM FOCUSES

	focus = {
		id = PRC_boost_the_morale
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = PRC_army_reform focus = PRC_supply_line_from_sov }
		mutually_exclusive = { focus = PRC_government_reshuffle }
		x = 0
		y = 2
		relative_position_id = PRC_army_reform
		cost = 10
		
		bypass = {
			NOT = {
				has_idea = PRC_defeatism_1
				has_country_leader = {
					name = "Zhang Xueliang"
					ruling_only = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = PRC_defeatism_1
				}
				swap_ideas = {
					remove_idea = PRC_defeatism_1
					add_idea = PRC_defeatism_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = PRC_root_out_defeatism
		icon = GFX_goal_generic_armed_protest
		prerequisite = { focus = PRC_boost_the_morale }
		x = 2
		y = 1
		relative_position_id = PRC_boost_the_morale
		cost = 10
		
		available = {
			has_idea = PRC_defeatism_2
			#NOT = {
			#	any_state = {
			#		is_core_of = ROOT
			#		#NOT = { 524 }
			#		is_controlled_by = JAP
			#		controller = { is_puppet_of = JAP }
			#	}
			#}
			
			custom_trigger_tooltip = {
				tooltip = prc_root_out_defeatism_tt
				NOT = {
					609 = { is_controlled_by = JAP }
					609 = { controller = { is_puppet_of = JAP } }
					610 = { is_controlled_by = JAP }
					610 = { controller = { is_puppet_of = JAP } }
					715 = { is_controlled_by = JAP }
					715 = { controller = { is_puppet_of = JAP } }
					716 = { is_controlled_by = JAP }
					716 = { controller = { is_puppet_of = JAP } }
					527 = { is_controlled_by = JAP }
					527 = { controller = { is_puppet_of = JAP } }
					844 = { is_controlled_by = JAP }
					844 = { controller = { is_puppet_of = JAP } }
					845 = { is_controlled_by = JAP }
					845 = { controller = { is_puppet_of = JAP } }
					846 = { is_controlled_by = JAP }
					846 = { controller = { is_puppet_of = JAP } }
					847 = { is_controlled_by = JAP }
					847 = { controller = { is_puppet_of = JAP } }
					328 = { is_controlled_by = JAP }
					328 = { controller = { is_puppet_of = JAP } }
					714 = { is_controlled_by = JAP }
					714 = { controller = { is_puppet_of = JAP } }
					717 = { is_controlled_by = JAP }
					717 = { controller = { is_puppet_of = JAP } }
					525 = { is_controlled_by = JAP }
					525 = { controller = { is_puppet_of = JAP } }
					611 = { is_controlled_by = JAP }
					611 = { controller = { is_puppet_of = JAP } }
					612 = { is_controlled_by = JAP }
					612 = { controller = { is_puppet_of = JAP } }
					330 = { is_controlled_by = JAP }
					330 = { controller = { is_puppet_of = JAP } }
					848 = { is_controlled_by = JAP }
					848 = { controller = { is_puppet_of = JAP } }
					849 = { is_controlled_by = JAP }
					849 = { controller = { is_puppet_of = JAP } }
					850 = { is_controlled_by = JAP }
					850 = { controller = { is_puppet_of = JAP } }
					563 = { is_controlled_by = JAP }
					563 = { controller = { is_puppet_of = JAP } }
					561 = { is_controlled_by = JAP }
					561 = { controller = { is_puppet_of = JAP } }
					657 = { is_controlled_by = JAP }
					657 = { controller = { is_puppet_of = JAP } }
					409 = { is_controlled_by = JAP }
					409 = { controller = { is_puppet_of = JAP } }
					408 = { is_controlled_by = JAP }
					408 = { controller = { is_puppet_of = JAP } }
					560 = { is_controlled_by = JAP }
					560 = { controller = { is_puppet_of = JAP } }
					621 = { is_controlled_by = JAP }
					621 = { controller = { is_puppet_of = JAP } }
					615 = { is_controlled_by = JAP }
					615 = { controller = { is_puppet_of = JAP } }
					608 = { is_controlled_by = JAP }
					608 = { controller = { is_puppet_of = JAP } }
					614 = { is_controlled_by = JAP }
					614 = { controller = { is_puppet_of = JAP } }
					622 = { is_controlled_by = JAP }
					622 = { controller = { is_puppet_of = JAP } }
					597 = { is_controlled_by = JAP }
					597 = { controller = { is_puppet_of = JAP } }
					598 = { is_controlled_by = JAP }
					598 = { controller = { is_puppet_of = JAP } }
					607 = { is_controlled_by = JAP }
					607 = { controller = { is_puppet_of = JAP } }
					613 = { is_controlled_by = JAP }
					613 = { controller = { is_puppet_of = JAP } }
					606 = { is_controlled_by = JAP }
					606 = { controller = { is_puppet_of = JAP } }
					620 = { is_controlled_by = JAP }
					620 = { controller = { is_puppet_of = JAP } }
					596 = { is_controlled_by = JAP }
					596 = { controller = { is_puppet_of = JAP } }
					600 = { is_controlled_by = JAP }
					600 = { controller = { is_puppet_of = JAP } }
					602 = { is_controlled_by = JAP }
					602 = { controller = { is_puppet_of = JAP } }
					595 = { is_controlled_by = JAP }
					595 = { controller = { is_puppet_of = JAP } }
					593 = { is_controlled_by = JAP }
					593 = { controller = { is_puppet_of = JAP } }
					592 = { is_controlled_by = JAP }
					592 = { controller = { is_puppet_of = JAP } }
					594 = { is_controlled_by = JAP }
					594 = { controller = { is_puppet_of = JAP } }
					326 = { is_controlled_by = JAP }
					326 = { controller = { is_puppet_of = JAP } }
					729 = { is_controlled_by = JAP }
					729 = { controller = { is_puppet_of = JAP } }
					868 = { is_controlled_by = JAP }
					868 = { controller = { is_puppet_of = JAP } }
					869 = { is_controlled_by = JAP }
					869 = { controller = { is_puppet_of = JAP } }
					870 = { is_controlled_by = JAP }
					870 = { controller = { is_puppet_of = JAP } }
					871 = { is_controlled_by = JAP }
					871 = { controller = { is_puppet_of = JAP } }
					872 = { is_controlled_by = JAP }
					872 = { controller = { is_puppet_of = JAP } }
					873 = { is_controlled_by = JAP }
					873 = { controller = { is_puppet_of = JAP } }
					874 = { is_controlled_by = JAP }
					874 = { controller = { is_puppet_of = JAP } }
				}
			}
		}
		bypass = {
			NOT = {
				has_idea = PRC_defeatism_2

				has_country_leader = {
					name = "Zhang Xueliang"
					ruling_only = yes
				}
			}
		}
		continue_if_invalid = yes

		completion_reward = {
			if = {
				limit = {
					has_idea = PRC_defeatism_2
				}
				remove_ideas = PRC_defeatism_2
			}
		}
	}

	focus = {
		id = PRC_debunk_the_underestimation
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = PRC_boost_the_morale }
		x = -2
		y = 1
		relative_position_id = PRC_boost_the_morale
		cost = 5

		available = {
			has_idea = PRC_underestimation
			OR = {
				AND = {
					NOT = {
						has_war_with = JAP
					}
					date > 1944.1.1
				}
				AND = {
					has_war_with = JAP
					surrender_progress > 0.4
				}
				AND = {
					CHI = {
						has_war_with = JAP
						surrender_progress > 0.4
					}
				}
			}
		}
		bypass = {
			NOT = {
				has_idea = PRC_underestimation
				has_country_leader = {
					name = "Zhang Xueliang"
					ruling_only = yes
				}
			}
		}
		
		continue_if_invalid = yes

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_idea = PRC_underestimation
				}
				remove_ideas = PRC_underestimation
			}
		}
	}

	###### POLITICAL MOBILIZATION FOCUSES ###############
	focus = {
		id = PRC_political_mobilisation
		icon = GFX_goal_generic_citizens
		prerequisite = { focus = PRC_boost_the_morale focus = PRC_government_reshuffle }
		x = 4
		y = 1
		relative_position_id = PRC_boost_the_morale
		cost = 10
		
		available = {
			OR = {
				has_war = yes
				threat > 0.15
			}
		}

		continue_if_invalid = yes

		completion_reward = {
			add_political_power = 150
			add_manpower = 20000
			if = {
				limit = {
					has_idea = propaganda_recruits
				}
				swap_ideas = {
					remove_idea = propaganda_recruits
					add_idea = political_mobilisation_idea
				}				
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_the_goal_of_our_war
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = PRC_political_mobilisation }
		x = 1
		y = 1
		relative_position_id = PRC_political_mobilisation
		cost = 4

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			if = {
				limit = {
					is_in_faction_with = CHI
				}
				CHI = {
					add_stability = 0.05
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_military_civilian_corporation
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = PRC_political_mobilisation }
		x = -1
		y = 1
		relative_position_id = PRC_political_mobilisation
		cost = 10
		
		completion_reward = {
			add_political_power = 25
			add_ideas = PRC_mc_corporation
		}
		search_filters = { FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_dare_to_die_corps
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = PRC_the_goal_of_our_war }
		prerequisite = { focus = PRC_military_civilian_corporation }
		x = -1
		y = 1
		relative_position_id = PRC_the_goal_of_our_war
		cost = 10

		available = { 
			has_war = yes
		}
		continue_if_invalid = yes

		completion_reward = {
			add_ideas = kmt_dare_to_die_corps_idea
			custom_effect_tooltip = kmt_dtdc_tt
			hidden_effect = {
				set_technology = { dare_to_die_corps = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  }
	}

	############# PREPAIRING FOR WAR - BUFFING ARMY ##############

	focus = {
		id = PRC_prepare_for_war
		icon = GFX_goal_red_army
		prerequisite = { focus = PRC_boost_the_morale }
		x = 0
		y = 1
		relative_position_id = PRC_boost_the_morale
		cost = 10
		
		bypass = {
			has_war_with = JAP
		}

		completion_reward = {
			army_experience = 30
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_infiltration
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = PRC_prepare_for_war }
		x = -3
		y = 2
		relative_position_id = PRC_prepare_for_war
		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			has_dlc = "Waking the Tiger"
			country_exists = event_target:WTT_current_china_leader
			NOT = {
				is_subject_of = event_target:WTT_current_china_leader
			}
		}

		completion_reward = {
			unlock_decision_category_tooltip = PRC_infiltrate_nationalist_areas
			set_country_flag = {
				flag = CHI_delay_sweep_for_communists
				days = 90
				value = 1
			}
		}
	}

	focus = {
		id = PRC_the_united_front
		icon = GFX_focus_prc_social_democracy
		prerequisite = { focus = PRC_prepare_for_war }
		mutually_exclusive = { focus = PRC_initiative_in_war_time }
		x = 1
		y = 1
		relative_position_id = PRC_prepare_for_war
		cost = 10

		available = {
			is_in_faction_with = CHI
			has_war = yes
			CHI = { has_war = yes }
			NOT = {
				has_country_leader = {
					name = "Zhang Xueliang"
					ruling_only = yes
				}
			}
		}
		cancel = {
			NOT = { is_in_faction_with = CHI }
		}

		completion_reward = {
			CHI = {
				add_ideas = PRC_integrated_army
				country_event = { id = prc.2 }
			}
		}
	}

	focus = {
		id = PRC_initiative_in_war_time
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_prepare_for_war }
		mutually_exclusive = { focus = PRC_the_united_front }
		x = -1
		y = 1
		relative_position_id = PRC_prepare_for_war
		cost = 10

		available = {
			has_war = yes
			NOT = {
				has_country_leader = {
					name = "Zhang Xueliang"
					ruling_only = yes
				}
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			add_ideas = PRC_initiative_idea
		}
	}

	##### DEFENSIVE BUFFS
	focus = {
		id = PRC_protracted_war
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = PRC_initiative_in_war_time focus = PRC_the_united_front }
		mutually_exclusive = { focus = PRC_swift_victory }
		x = 0
		y = 1
		relative_position_id = PRC_the_united_front
		cost = 10

		available = {
			has_war = yes
			has_government = communism
		}
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			army_experience = 25
			add_ideas = PRC_protracted_war_idea
		}
	}

	focus = {
		id = PRC_neccessary_flexibility
		icon = GFX_goal_generic_production2
		prerequisite = { focus = PRC_protracted_war }
		x = 2
		y = 1
		relative_position_id = PRC_protracted_war
		cost = 10

		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					has_idea = PRC_protracted_war_idea_gp
				}
				swap_ideas = {
					remove_idea = PRC_protracted_war_idea_gp
					add_idea = PRC_protracted_war_idea_all
				}
			}
			if = {
				limit = {
					has_idea = PRC_protracted_war_idea
				}
				swap_ideas = {
					remove_idea = PRC_protracted_war_idea
					add_idea = PRC_protracted_war_idea_nb
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_war_of_attrition
		icon = GFX_goal_generic_uprising
		prerequisite = { focus = PRC_protracted_war }
		x = 0
		y = 1
		relative_position_id = PRC_protracted_war
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				uses = 1
				cost_reduction = 0.5
				category = cat_mass_assault
			}
			if = {
				limit = {
					has_idea = PRC_protracted_war_idea_nb
				}
				swap_ideas = {
					remove_idea = PRC_protracted_war_idea_nb
					add_idea = PRC_protracted_war_idea_all
				}
			}
			if = {
				limit = {
					has_idea = PRC_protracted_war_idea
				}
				swap_ideas = {
					remove_idea = PRC_protracted_war_idea
					add_idea = PRC_protracted_war_idea_gp
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_lure_them_in_strategy
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_neccessary_flexibility focus = PRC_focus_on_red_army }
		prerequisite = { focus = PRC_war_of_attrition focus = PRC_focus_on_red_army }
		x = 2
		y = 1
		relative_position_id = PRC_neccessary_flexibility
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes
		available_if_capitulated = yes

		select_effect = {
			country_event = { id = lti.1 }
		}

		completion_reward = {
			custom_effect_tooltip = KMT_lure_them_in_effect_tt
			effect_tooltip = {
				add_ideas = KMT_lure_them_in_1
			}
			hidden_effect = {
				country_event = { id = lti.5 }
			}
		}
		search_filters = {  FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_front_line_behind_enemy_line
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = PRC_lure_them_in_strategy }
		x = 0
		y = 1
		relative_position_id = PRC_lure_them_in_strategy
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		available_if_capitulated = yes

		select_effect = {
			every_other_country = {
				limit = {
					NOT = {
						has_completed_focus = MAN_manzhouli_secret_meeting
						has_completed_focus = MAN_fotify_heilungkiang_border
					}
					OR = {
						has_offensive_war_with = CHI
						has_offensive_war_with = PRC
					}
					any_owned_state = {
						is_core_of = PRC
					}
					capital_scope = {
						is_on_continent = asia
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_idea = MAN_dongbei_partisan
						}
						remove_ideas = MAN_dongbei_partisan
					}
					if = {
						limit = {
							has_idea = MAN_dongbei_partisan_pacified
						}
						remove_ideas = MAN_dongbei_partisan_pacified
					}
				}
				country_event = { id = lti.6 }
			}
		}
		completion_reward = {
			custom_effect_tooltip = KMT_lure_them_in_effect_tt
			effect_tooltip = {
				every_other_country = {
					limit = {
						NOT = {
							has_completed_focus = MAN_manzhouli_secret_meeting
							has_completed_focus = MAN_fotify_heilungkiang_border
						}
						OR = {
							has_offensive_war_with = CHI
							has_offensive_war_with = PRC
						}
						any_owned_state = {
							is_core_of = PRC
						}
						capital_scope = {
							is_on_continent = asia
						}
					}
					hidden_effect = {
						if = {
							limit = {
								has_idea = MAN_dongbei_partisan
							}
							remove_ideas = MAN_dongbei_partisan
						}
						if = {
							limit = {
								has_idea = MAN_dongbei_partisan_pacified
							}
							remove_ideas = MAN_dongbei_partisan_pacified
						}
					}
					add_ideas = PRC_enemy_partisan_1
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = {
							has_completed_focus = MAN_manzhouli_secret_meeting
							has_completed_focus = MAN_fotify_heilungkiang_border
						}
						OR = {
							has_offensive_war_with = CHI
							has_offensive_war_with = PRC
						}
						any_owned_state = {
							is_core_of = PRC
						}
						capital_scope = {
							is_on_continent = asia
						}
						has_idea = PRC_enemy_partisan_4
					}
					hidden_effect = {
						if = {
							limit = {
								has_idea = MAN_dongbei_partisan
							}
							remove_ideas = MAN_dongbei_partisan
						}
						if = {
							limit = {
								has_idea = MAN_dongbei_partisan_pacified
							}
							remove_ideas = MAN_dongbei_partisan_pacified
						}
					}
					country_event = { id = lti.10 }
				}
			}
		}
	}

	focus = {
		id = PRC_self_perservation
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = PRC_protracted_war focus = PRC_swift_victory }
		x = -1
		y = 2
		relative_position_id = PRC_protracted_war
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes

		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = prc_preserve
			hidden_effect = {
				set_technology = { preserve = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_prepare_for_decisive_battle
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_self_perservation }
		x = 0
		y = 1
		relative_position_id = PRC_self_perservation
		cost = 10

		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes		

		completion_reward = {
			add_ideas = PRC_prepare_for_decisive_battle
		}
	}


	######## SWIFT VICTORY TREE ##########

	focus = {
		id = PRC_swift_victory
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = PRC_the_united_front focus = PRC_initiative_in_war_time }
		mutually_exclusive = { focus = PRC_protracted_war }
		x = 0
		y = 1
		relative_position_id = PRC_initiative_in_war_time
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes

		completion_reward = {
			army_experience = 25
			add_ideas = PRC_swift_victory_idea
			add_ideas = PRC_uncertainty_of_new_theory
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_war_of_annihilation
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_swift_victory }
		x = 0
		y = 1
		relative_position_id = PRC_swift_victory
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					has_idea = PRC_swift_victory_idea_ng
				}
				swap_ideas = {
					remove_idea = PRC_swift_victory_idea_ng
					add_idea = PRC_swift_victory_idea_all
				}
			}
			if = {
				limit = {
					has_idea = PRC_swift_victory_idea
				}
				swap_ideas = {
					remove_idea = PRC_swift_victory_idea
					add_idea = PRC_swift_victory_idea_mp
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  }
	}

	focus = {
		id = PRC_partial_guerilla_operation
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = PRC_swift_victory }
		x = -2
		y = 1
		relative_position_id = PRC_swift_victory
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
		}
		continue_if_invalid = yes

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					has_idea = PRC_swift_victory_idea_mp
				}
				swap_ideas = {
					remove_idea = PRC_swift_victory_idea_mp
					add_idea = PRC_swift_victory_idea_all
				}
			}
			if = {
				limit = {
					has_idea = PRC_swift_victory_idea
				}
				swap_ideas = {
					remove_idea = PRC_swift_victory_idea
					add_idea = PRC_swift_victory_idea_ng
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  }
	}

	focus = {
		id = PRC_increase_credibility_of_theory
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = PRC_war_of_annihilation }
		prerequisite = { focus = PRC_partial_guerilla_operation }
		x = -1
		y = 1
		relative_position_id = PRC_war_of_annihilation
		cost = 10

		available = {
			has_government = communism
			OR = {
				AND = {
					has_war = yes
					surrender_progress < 0.25
				}
				has_war = no
			}
		}

		completion_reward = {
			add_ideas = PRC_maybe_theory_is_ok
			if = {
				limit = {
					has_idea = PRC_uncertainty_of_new_theory
				}
				remove_ideas = PRC_uncertainty_of_new_theory
			}
		}
	}

	focus = {
		id = PRC_exploit_our_enemys_mistake
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_increase_credibility_of_theory }
		x = 0
		y = 1
		relative_position_id = PRC_increase_credibility_of_theory
		cost = 10
		
		available = {
			has_government = communism
			has_war = yes
			surrender_progress < 0.15
		}	
		cancel = { surrender_progress > 0.20 }
		cancel_if_invalid = no

		completion_reward = {
			add_ideas = PRC_exploit_our_enemys_mistake_idea
			every_other_country = {
				limit = {
					OR = {
						has_offensive_war_with = CHI
						has_offensive_war_with = PRC
					}
					OR = {
						tag = JAP
						is_puppet_of = JAP
					}
				}
				country_event = { id = lti.11 }
				add_timed_idea = {
					idea = improper_frontline_command
					days = 700
				}
			}
		}
	}


	############ COMMUNIST PRC FOCUSES ###############

	focus = {
		id = PRC_rectification
		icon = GFX_focus_prc_agrarian_socialism
		mutually_exclusive = { focus = PRC_the_second_northeast_flag_replacement }
		x = 24
		y = 0
		cost = 5

		available = {
			OR = {
				date > 1940.1.1
				SOV = {
					has_war = yes
					any_enemy_country = {
						is_major = yes
					}
				}
			}
			has_government = communism
			has_completed_focus = PRC_purge_dissident_element
		}

		completion_reward = {
			add_political_power = 75
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_restart_the_civil_war
		icon = GFX_goal_generic_major_war
		x = -3
		y = 0
		relative_position_id = PRC_rectification
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			CHI = {
				r56_script_target_is_sane = yes
			}
			custom_trigger_tooltip = {
				tooltip = PRC_stall_time_tt
				has_country_flag = PRC_stall_time
			}
			NOT = {
				is_in_faction_with = CHI
			}
		}

		bypass = {
			CHI = {
				exists = no
			}
		}

		completion_reward = {
			declare_war_on = {
				target = CHI
				type = annex_everything
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_completed_focus = PRC_found_our_nation
						}
					}
					drop_cosmetic_tag = yes
					set_cosmetic_tag = GCDcivilwar
				}
				CHI = { country_event = { id = china.110 } }
				set_global_flag = PRC_civil_war_started
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_found_our_nation
		icon = GFX_focus_prc_proclaim_the_peoples_republic
		prerequisite = { focus = PRC_rectification }
		x = 0
		y = 1
		relative_position_id = PRC_rectification
		cost = 5

		available = {
			has_government = communism
			OR = { 
				num_of_controlled_states > 15
				has_country_flag = prc_capital_decided
			}
		}

		completion_reward = {
			set_country_flag = prc_nation_founded
			custom_effect_tooltip = prc_set_government_rank
			hidden_effect = {
				set_cosmetic_tag = PRC_nation_founded
			}
			add_research_slot = 1
			set_rule = {
				can_send_volunteers = yes
				can_puppet = yes
			}

			if = {  #boosting economy if founded
				limit = {
					OR = {
						has_idea = civilian_economy
						has_idea = low_economic_mobilisation
						has_idea = partial_economic_mobilisation
					}
				}
				add_ideas = war_economy
			}
			else_if = {
				limit = {
					has_idea = war_economy
				}
				swap_ideas = {
					remove_idea = war_economy
					add_idea = tot_economic_mobilisation
				}
			}
			else = {
				add_ideas = partial_economic_mobilisation
			}

			if = { #boosting/lowering conscription
				limit = {
					has_idea = extensive_conscription
				}
				add_political_power = 150
			}
			else = {
				add_ideas = extensive_conscription
			}

			if = { #boosting/lowering trade
				limit = {
					OR = {
						has_idea = free_trade
						has_idea = export_focus
					}
				}
				add_political_power = 150
			}
			else = {
				add_ideas = export_focus
			}
			#probably not necessary
			#	create_country_leader = {
			#		name = "Mao Zedong"
			#		desc = "POLITICS_MAO_ZEDONG_DESC"
			#		picture = "gfx/leaders/CHI/Portrait_China_Mao_Zedong.dds"
			#		expire = "1965.1.1"
			#		ideology = marxism
			#		traits = {
			#		}
			#	}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	###### INDUSTRIAL FOCUSES FOR PRC ########

	focus = {
		id = PRC_the_first_five_year_plan
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = PRC_found_our_nation }
		x = 6
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 10

		available = {
			OR = {
				num_of_factories > 40
				AND = {
					has_war = no
					num_of_factories > 20
				}
			}
		}

		completion_reward = {
			every_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_faw_group
			show_ideas_tooltip = PRC_wuhan_ins_corp
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_industrialization_NW
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = PRC_the_first_five_year_plan  focus = PRC_industrial_developement }
		x = 1
		y = 1
		relative_position_id = PRC_the_first_five_year_plan
		cost = 10
		
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_western_china_tt
					OR = {
						region = 145
						state = 756
						state = 755
						state = 604
					}
				}
				is_controlled_by = ROOT
			}
		}
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						region = 145
						state = 756
						state = 755
						state = 604
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_industrialization_S
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = PRC_the_first_five_year_plan  focus = PRC_industrial_developement }
		x = 3
		y = 1
		relative_position_id = PRC_the_first_five_year_plan
		cost = 10
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				OR = {
					state = 591
					state = 594
					state = 592
					state = 593
					state = 599
					state = 326
					state = 729
					state = 728
				}
				is_controlled_by = ROOT
			}
		}
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 591
						state = 594
						state = 592
						state = 593
						state = 599
						state = 326
						state = 729
						state = 728
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_pioneering_the_north_east
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = PRC_the_first_five_year_plan  focus = PRC_industrial_developement }
		x = 5
		y = 1
		relative_position_id = PRC_the_first_five_year_plan
		cost = 15
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_in_manchuria_tt
					OR = {
						region = 155
						state = 874
						state = 610
					}
				}
				is_controlled_by = ROOT
			}
		}
		
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						region = 155
						state = 874
						state = 610
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_resources_prospection
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PRC_industrialization_NW focus = PRC_industrialization_S focus = PRC_pioneering_the_north_east }
		x = 0
		y = 1
		relative_position_id = PRC_industrialization_S
		cost = 10

		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					controls_state = 716
				}
				716 = {
					add_resource = {
						type = steel
						amount = 3
					}
					add_resource = {
						type = aluminium
						amount = 3
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 621
				}
				621 = {
					add_resource = {
						type = steel
						amount = 2
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 620
				}
				620 = {
					add_resource = {
						type = steel
						amount = 3
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 328
				}
				328 = {
					add_resource = {
						type = steel
						amount = 1
					}
					add_resource = {
						type = aluminium
						amount = 2
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 714
				}
				714 = {
					add_resource = {
						type = steel
						amount = 1
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 610
				}
				610 = {
					add_resource = {
						type = steel
						amount = 1
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 600
				}
				600 = {
					add_resource = {
						type = tungsten
						amount = 12
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ALUMINIUM FOCUS_FILTER_STEEL FOCUS_FILTER_TUNGSTEN}
	}

	focus = {
		id = PRC_excavation_NW
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PRC_resources_prospection }
		x = -2
		y = 1
		relative_position_id = PRC_resources_prospection
		cost = 10

		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = kmt_scale_with_excav_tech
			if = {
				limit = {
					controls_state = 618
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = oil
						amount = 10
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = oil
						amount = 13
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = oil
						amount = 16
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = oil
						amount = 19
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = oil
						amount = 22
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = oil
						amount = 25
						state = 618
					}
				}
			}
			if = {
				limit = {
					controls_state = 617
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = oil
						amount = 5
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = oil
						amount = 6
						state = 617
					}
				}
			}
			if = {
				limit = {
					controls_state = 619
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = oil
						amount = 5
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = oil
						amount = 6
						state = 619
					}
				}
			}
			if = {
				limit = {
					controls_state = 287
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = oil
						amount = 6
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = oil
						amount = 7
						state = 287
					}
				}
			}
			if = {
				limit = {
					controls_state = 616
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					controls_state = 604
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_OIL}
	}

	focus = {
		id = PRC_excavation_S
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = PRC_resources_prospection }
		x = 0
		y = 1
		relative_position_id = PRC_resources_prospection
		cost = 10

		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					controls_state = 594
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 594
				}
			}
			if = {
				limit = {
					controls_state = 592
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 592
				}
			}
			if = {
				limit = {
					controls_state = 591
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 591
				}
			}
			if = {
				limit = {
					controls_state = 593
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 593
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RUBBER }
	}

	focus = {
		id = PRC_excavation_NE
		icon = GFX_goal_generic_construction
		prerequisite = { focus = PRC_resources_prospection }
		x = 2
		y = 1
		relative_position_id = PRC_resources_prospection
		cost = 10

		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					controls_state = 714
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = oil
						amount = 10
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = oil
						amount = 18
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = oil
						amount = 26
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = oil
						amount = 34
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = oil
						amount = 42
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = oil
						amount = 50
						state = 714
					}
				}
			}
			if = {
				limit = {
					controls_state = 609
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					controls_state = 715
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					controls_state = 328
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					controls_state = 717
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = chromium
						amount = 12
						state = 717
					}
				}
			}
			if = {
				limit = {
					controls_state = 715
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}
					add_resource = {
						type = aluminium
						amount = 10
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}
					add_resource = {
						type = aluminium
						amount = 15
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = aluminium
						amount = 20
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 25
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}
					add_resource = {
						type = aluminium
						amount = 30
						state = 715
					}
				}
			}
			custom_effect_tooltip = kmt_scale_with_excav_tech
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_CHROMIUM FOCUS_FILTER_ALUMINIUM}
	}


	###### MAO POLITICS ###########
	focus = {
		id = PRC_suppress_counterrevolutionaries
		icon = GFX_goal_crush_resistance2
		prerequisite = { focus = PRC_found_our_nation }
		x = -11
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 10

		available = {
			has_government = communism
		}

		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = fascism
				popularity = -0.4
			}
			add_popularity = {
				ideology = democratic
				popularity = -0.4
			}
			add_popularity = {
				ideology = neutrality
				popularity = -0.4
			}
			add_country_leader_trait = dictator
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_land_reform
		icon = GFX_goal_agrarian_reform
		prerequisite = { focus = PRC_found_our_nation }
		x = -9
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			add_political_power = 75
			if = {
				limit = {
					CHI = {
						exists = yes
					}
				}
				CHI = {
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
					add_timed_idea = {
						idea = PRC_land_reform_stimulated_our_farmers
						days = 1850
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_cult_of_personality
		icon = GFX_focus_propaganda_soviet
		prerequisite = { focus = PRC_land_reform}
		prerequisite = { focus = PRC_suppress_counterrevolutionaries }
		x = 1
		y = 1
		relative_position_id = PRC_suppress_counterrevolutionaries
		cost = 10
		
		completion_reward = {
			add_political_power = -50
			add_country_leader_trait = the_great_chairman
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = KMT_hundred_flowers_campaign
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = PRC_suppress_counterrevolutionaries }
		x = 0
		y = 2
		relative_position_id = PRC_suppress_counterrevolutionaries
		cost = 5

		available = {
			has_government = communism
			OR = {
				has_war = no
				has_civil_war = yes
			}
		}
		bypass = {
			has_country_flag = baihua_completed
		}
		cancel = {
			NOT = { has_government = communism }
		}

		select_effect = {
			set_country_flag = KMT_hundred_flowers_started
		}

		completion_reward = {
			country_event = { id = kmt.32 days = 1 }
			custom_effect_tooltip = KMT_hundred_flowers_tt
			activate_mission = PRC_hundred_flowers_campaign_progress
		}
	}

	focus = {
		id = KMT_great_leap_forawrd
		icon = GFX_goal_generic_commie_investments
		prerequisite = { focus = PRC_cult_of_personality }
		x = 1
		y = 1
		relative_position_id = PRC_cult_of_personality
		cost = 10
		
		available = {
			has_war = no
			has_government = communism
		}

		completion_reward = {
			country_event = { id = kmt.39 days = 1 }
			add_ideas = KMT_three_red_banner
			set_country_flag = KMT_great_leap_started
			custom_effect_tooltip = PRC_great_leap_timespan
			hidden_effect = {
				country_event = { id = kmt.46 days = 365 }
				country_event = { id = kmt.47 days = 175 }
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_begin_cultural_revolution
		icon = GFX_focus_prc_maoism
		prerequisite = { focus = KMT_great_leap_forawrd focus = PRC_liberate_the_soviet_people }		
		x = 1
		y = 1
		relative_position_id = KMT_great_leap_forawrd
		cost = 10

		available = {
			has_war = no
			has_country_flag = KMT_leap_stop
			SOV = {
				OR = {
					NOT = {
						has_country_leader = {
							name = "Joseph Stalin"
							ruling_only = yes
						}
					}
					is_puppet = yes
				}
			}
			has_country_leader = {
				name = "Mao Zedong"
				ruling_only = yes
			}
		}

		select_effect = {
			country_event = { id = prc.6 days = 20 }
		}
		completion_reward = {
			country_event = { id = prc.7 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_economic_reform
		icon = GFX_goal_generic_production2
		prerequisite = { focus = PRC_begin_cultural_revolution }
		mutually_exclusive = { focus = PRC_generalissimo_lin }
		x = -1
		y = 1
		relative_position_id = PRC_begin_cultural_revolution
		cost = 50
		
		available = {
			has_global_flag = CR_ended
			has_country_flag = deng_xiao_ping
		}
		cancel = { has_war = yes }
		cancel_if_invalid = no

		select_effect = {
			add_ideas = PRC_socialism_with_chinese_characteristics
			every_other_country = {
				reverse_add_opinion_modifier = {
					target = PRC
					modifier = PRC_swcc_1
				}
			}
		}

		completion_reward = {
			country_event = { id = prc.21 }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_generalissimo_lin
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = PRC_begin_cultural_revolution }
		mutually_exclusive = { focus = PRC_economic_reform }
		x = 1
		y = 1
		relative_position_id = PRC_begin_cultural_revolution
		cost = 10
		
		available = {
			has_global_flag = CR_ended
			has_country_flag = lin_biao
		}

		completion_reward = {
			add_country_leader_trait = generalissimo
		}
	}

	focus = {
		id = PRC_armament_reorganization
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = PRC_generalissimo_lin }
		x = 0
		y = 1
		relative_position_id = PRC_generalissimo_lin
		cost = 10
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				uses = 4
				category = infantry_weapons
				category = artillery
				category = armor
				category = support_tech
				category = air_equipment
				category = naval_equipment
				category = motorized_equipment
			}
			add_ideas = lin_biao_generalissimo
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	##### MAO INDEPENDENT PRC (ANTI-SOVIET) #######


	focus = {
		id = PRC_the_new_communism_beacon
		icon = GFX_focus_prc_maoism
		prerequisite = { focus = PRC_found_our_nation}
		mutually_exclusive = { focus = PRC_sov_cooperation }
		x = -3
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 10
		

		available = {
			has_government = communism
		}

		completion_reward = {
			add_opinion_modifier = {
				modifier = political_rivalry
				target = SOV
			}
			SOV = {
				add_opinion_modifier = {
					modifier = political_rivalry
					target = ROOT
				}
			}
			add_ideas = PRC_red_beacon
			set_rule = { can_create_factions = yes }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_anti_soviet_revisionist_aim
		icon = GFX_goal_lenin3
		prerequisite = { focus = PRC_the_new_communism_beacon }
		x = -3
		y = 1
		relative_position_id = PRC_the_new_communism_beacon
		cost = 10

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_ideas = PRC_save_the_soviet_people
			add_opinion_modifier = {
				target = SOV
				modifier = revisionist_traitor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_liberate_the_soviet_people
		icon = GFX_focus_eng_expose_the_belly_of_the_bear
		prerequisite = { focus = PRC_anti_soviet_revisionist_aim }
		x = 0
		y = 1
		relative_position_id = PRC_anti_soviet_revisionist_aim
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			SOV = {
				r56_script_target_is_sane = yes
			}
		}

		bypass = {
			SOV = {
				r56_script_standard_bypass = yes
			}
		}

		completion_reward = {
			create_wargoal = {
				target = SOV
				expire = 0
				type = puppet_wargoal_focus
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_exert_influence_in_sea
		icon = GFX_focus_jap_strike_south
		prerequisite = { focus = PRC_the_new_communism_beacon }
		x = -1
		y = 1
		relative_position_id = PRC_the_new_communism_beacon
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {
							region = 142
							region = 158
							region = 159
							region = 93
							region = 160
							state = 524
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_ideas = PRC_influence
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_demand_return_of_trade_ports
		icon = GFX_goal_naval_treaty
		prerequisite = { focus = PRC_exert_influence_in_sea }
		x = 0
		y = 1
		relative_position_id = PRC_exert_influence_in_sea
		cost = 10

		available = {
			OR = {
				NOT = {
					controls_state = 326
				}
				NOT = {
					controls_state = 729
				}
				NOT = {
					controls_state = 728
				}
			}
			has_government = communism
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_controlled_state = {
						OR = {
							state = 326
							state = 729
							state = 728
						}
					}
				}
				country_event = { id = prc.89 }
			}
		}
	}

	focus = {
		id = PRC_exert_influence_in_central_asia
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PRC_exert_influence_in_sea }
		x = -1
		y = 2
		relative_position_id = PRC_exert_influence_in_sea
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {
							region = 145
							region = 146
							region = 162
							region = 136
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_ideas = PRC_influence
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_exert_influence_in_india_and_mongolia
		icon = GFX_focus_RAJ_seek_help_from_soviet
		prerequisite = { focus = PRC_exert_influence_in_sea }
		x = 1
		y = 2
		relative_position_id = PRC_exert_influence_in_sea
		cost = 10
		
		available = {
			has_government = communism
		}
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {
							region = 153
							region = 141
							region = 31
							region = 101
							region = 152
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_ideas = PRC_influence
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_the_permanent_revolution
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = PRC_exert_influence_in_central_asia }
		prerequisite = { focus = PRC_exert_influence_in_india_and_mongolia }
		x = 0
		y = 1
		relative_position_id = PRC_exert_influence_in_central_asia
		cost = 10
		
		available = {
			has_country_flag = cdx_returned
			has_government = communism
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						has_government = communism
					}
					num_of_controlled_states < 2
				}
				set_politics = {
					ruling_party = communism
				}
				hidden_effect = {
					add_popularity = {
						ideology = communism
						popularity = 0.88
					}
					remove_ideas = PRC_influence
				}
			}
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						has_government = communism
					}
				}
				start_civil_war = {
					ideology = communism
					size = 0.65
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_aid_the_workers
		icon = GFX_goal_support_communism
		prerequisite = { focus = PRC_exert_influence_in_central_asia }
		prerequisite = { focus = PRC_exert_influence_in_india_and_mongolia }
		x = 0
		y = 1
		relative_position_id = PRC_exert_influence_in_india_and_mongolia
		cost = 10
		
		available = {
			r56_script_i_am_sane = yes
			has_government = communism
		}

		completion_reward = {
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					is_puppet_of = PRC
				}
				country_event = { id = prc.92 }
			}
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						is_puppet_of = PRC
					}
				}
				PRC = {
					create_wargoal = {
						expire = 0
						target = PREV
						type = puppet_wargoal_focus
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_mongolia_issue
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = PRC_the_new_communism_beacon }
		x = 1
		y = 1
		relative_position_id = PRC_the_new_communism_beacon
		cost = 10
		
		available = { 
			has_government = communism
		}

		bypass = {
			owns_state = 330
			owns_state = 848
			owns_state = 849
			owns_state = 850
			owns_state = 329
		}
		completion_reward = {
			if = {
				limit = {
					330 = {
						owner = {
							NOT = {
								tag = ROOT
							}
						}
					}
				}
				330 = {
					owner = {
						country_event = { id = prc.84 }
					}
				}
			}
			if = {
				limit = {
					329 = {
						owner = {
							NOT = {
								tag = ROOT
								owns_state = 330
							}
						}
					}
				}
				329 = {
					owner = {
						country_event = { id = prc.84 days = 1 }
					}
				}
			}

		}
	}

	focus = {
		id = PRC_coerce_korea
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_mongolia_issue }
		x = 0
		y = 1
		relative_position_id = PRC_mongolia_issue
		cost = 10
		
		available = {
			has_government = communism
			OR = {
				country_exists = KOR
				country_exists = NKR
			}
		}
		bypass = {
			AND = {
				KOR = {
					is_puppet_of = PRC
				}
				NKR = {
					is_puppet_of = PRC
				}
			}
		}

		completion_reward = {
			KOR = {
				add_ideas = PRC_influence
				country_event = { id = prc.87 }
			}
			NKR = {
				add_ideas = PRC_influence
				country_event = { id = prc.87 }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	#literacy branch

	focus = {
		id = PRC_institution_reorganization
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PRC_sov_cooperation focus = PRC_the_new_communism_beacon}
		x = 3
		y = 1
		relative_position_id = PRC_the_new_communism_beacon
		cost = 10

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_eliminate_iliteracy
		icon = GFX_goal_research_silver_cooperation
		prerequisite = { focus = PRC_institution_reorganization}
		x = 0
		y = 1
		relative_position_id = PRC_institution_reorganization
		cost = 10

		completion_reward = {
			if = {
				limit = {
					has_idea = public_iliteracy
				}
				remove_ideas = public_iliteracy
			}
			if = {
				limit = {
					has_idea = public_iliteracy_2
				}
				remove_ideas = public_iliteracy_2
			}
			if = {
				limit = {
					NOT = {
						has_idea = public_iliteracy_2
						has_idea = public_iliteracy
					}
				}
				custom_effect_tooltip = prc_eliminate_iliteracy_tt
				hidden_effect = {
					country_event = { id = prc.4 days = 45 }
				}
			}
		}
	}

	focus = {
		id = PRC_state_controlled_education
		icon = GFX_goal_communist_brain
		prerequisite = { focus = PRC_the_new_communism_beacon }
		prerequisite = { focus = PRC_institution_reorganization }
		x = -1
		y = 2
		relative_position_id = PRC_institution_reorganization
		cost = 10

		completion_reward = {
			add_ideas = PRC_good_good_study_idea
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_adopt_soviet_education_system
		icon = GFX_goal_SOV_education_initiative
		prerequisite = { focus = PRC_institution_reorganization}
		prerequisite = { focus = PRC_sov_cooperation }
		x = 1
		y = 2
		relative_position_id = PRC_institution_reorganization
		cost = 10

		completion_reward = {
			add_ideas = PRC_soviet_style_education
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	##### MAO PRO-SOVIET BRANCH #####

	focus = {
		id = PRC_sov_cooperation
		icon = GFX_focus_chi_cooperation_with_the_communists
		prerequisite = { focus = PRC_found_our_nation}
		mutually_exclusive = { focus = PRC_the_new_communism_beacon }
		x = 3
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 5

		available = {
			has_government = communism
			SOV = {
				has_government = communism
				has_opinion = {
					target = ROOT
					value > 4
				}
				NOT = { is_in_faction_with = GER }
				OR = {
					NOT = { has_country_flag = counter_purge }
					AND = {
						has_country_flag = counter_purge
						PRC = {
							has_country_flag = cdx_returned
						}
					}
				}
			}
		}

		completion_reward = {
			SOV = {
				country_event = { id = kmt.49 hours = 12 }
				add_ai_strategy = {
					id = "PRC"
					type = alliance
					value = 200
				}
			}
			add_opinion_modifier = {
				modifier = sino_sov_cooperation
				target = SOV
			}
			SOV = {
				add_opinion_modifier = {
					modifier = sino_sov_cooperation
					target = ROOT
				}
			}
		}
	}

	focus = {
		id = PRC_assistance_in_naval_industry
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = PRC_sov_cooperation }
		x = -1
		y = 1
		relative_position_id = PRC_sov_cooperation
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			SOV = {
				country_event = { id = kmt.224 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				custom_effect_tooltip = KMT_jap_navy_indus_assist_tt
				add_tech_bonus = {
					name = dd_bonus
					ahead_reduction = 1
					uses = 1
					bonus = 1
					category = naval_equipment
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_navy
					}
					remove_ideas = incompetent_industry_real_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_fake_navy
					}
					remove_ideas = incompetent_industry_fake_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_2_navy
					}
					remove_ideas = incompetent_industry_real_2_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_3_navy
					}
					remove_ideas = incompetent_industry_real_3_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_4_navy
					}
					remove_ideas = incompetent_industry_real_4_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_5_navy
					}
					remove_ideas = incompetent_industry_real_5_navy
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_study_soviet_ships
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = PRC_assistance_in_naval_industry }
		x = 0
		y = 1
		relative_position_id = PRC_assistance_in_naval_industry
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = naval_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_sov_military_advisor
		icon = GFX_goal_soviet_military_advisors
		prerequisite = { focus = PRC_study_sov_aircrafts focus = PRC_study_soviet_ships }
		x = 1
		y = 1
		relative_position_id = PRC_study_soviet_ships
		cost = 10

		available = {
			has_government = communism
		}
		
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
				category = naval_doctrine
				category = air_doctrine
			}
			add_ideas = PRC_sov_advisor
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_study_sov_equipments
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = PRC_sov_cooperation }
		x = 1
		y = 1
		relative_position_id = PRC_sov_cooperation
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = infantry_weapons
				category = artillery
				category = support_tech
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_study_sov_aircrafts
		icon = GFX_goal_fighters_soviet
		prerequisite = { focus = PRC_study_sov_equipments }
		x = 0
		y = 1
		relative_position_id = PRC_study_sov_equipments
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				ahead_reduction = 1
				uses = 2
				category = air_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	#soviet-prc industry coop

	focus = {
		id = PRC_156_project
		icon = GFX_goal_communist_factory
		prerequisite = { focus = PRC_sov_cooperation }
		prerequisite = { focus = PRC_the_first_five_year_plan }
		x = -1
		y = 3
		relative_position_id = PRC_the_first_five_year_plan
		cost = 10

		available = {
			SOV = {
				has_opinion = {
					target = ROOT
					value > 9
				}
			}
			has_war = no
		}

		completion_reward = {
			add_opinion_modifier = {
				modifier = industrial_assistance
				target = SOV
			}
			add_ideas = PRC_sov_assistance_in_industry
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_hire_sov_experts
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = PRC_156_project }
		x = -2
		y = 1
		relative_position_id = PRC_156_project
		cost = 10

		available = {
			has_government = communism
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			add_ideas = PRC_sov_experts
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_import_sov_machinery
		icon = GFX_goal_generic_commie_investments
		prerequisite = { focus = PRC_156_project }
		x = 0
		y = 1
		relative_position_id = PRC_156_project
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			add_ideas = PRC_sov_machinery
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_invest_in_new_companies
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = PRC_156_project }
		x = 2
		y = 1
		relative_position_id = PRC_156_project
		cost = 10
		
		available = {
			has_government = communism
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_yto
			show_ideas_tooltip = PRC_shenyang_air
			show_ideas_tooltip = PRC_guizhou_air
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	###### PLA - ARMY, NAVY, AIR DEVELOPMENT AND RESEARCH #####

	focus = {
		id = PRC_pla
		icon = GFX_goal_PRC_coa_army
		prerequisite = { focus = PRC_found_our_nation }
		x = -6
		y = 1
		relative_position_id = PRC_found_our_nation
		cost = 10

		completion_reward = {
			army_experience = 50
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_ndcprc
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_eliminate_iliteracy }
		x = 0
		y = 2
		relative_position_id = PRC_eliminate_iliteracy
		cost = 10

		completion_reward = {
			army_experience = 25
			air_experience = 10
			navy_experience = 5
			add_ideas = PRC_ndcprc_idea
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_harbin_1machine_group
			show_ideas_tooltip = PRC_first_ministry_of_machine_building_armor
			show_ideas_tooltip = PRC_first_ministry_of_machine_building_navy
			show_ideas_tooltip = PRC_bohai_shipyard_group
			show_ideas_tooltip = PRC_chengdu_air
			show_ideas_tooltip = PRC_first_ministry_of_machine_building_air
			show_ideas_tooltip = PRC_first_ministry_of_machine_building_material
		}
	}

	focus = {
		id = PRC_establish_air_force
		icon = GFX_goal_PRC_coa_air_force
		prerequisite = { focus = PRC_ndcprc }
		x = -3
		y = 1
		relative_position_id = PRC_ndcprc
		cost = 10

		completion_reward = {
			air_experience = 10
			add_doctrine_cost_reduction = {
				name = air_bonus
				cost_reduction = 0.5
				uses = 3
				category = air_doctrine
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 4
					}
				}
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_fighter_focus
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = PRC_establish_air_force }
		mutually_exclusive = { focus = PRC_bomber_focus }
		x = -1
		y = 1
		relative_position_id = PRC_establish_air_force
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_bomber_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = PRC_establish_air_force }
		mutually_exclusive = { focus = PRC_fighter_focus }
		x = 1
		y = 1
		relative_position_id = PRC_establish_air_force
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 2
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_cas_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = PRC_fighter_focus }
		x = 0
		y = 1
		relative_position_id = PRC_fighter_focus
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 1
				ahead_reduction = 1
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_nav_effort
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = PRC_bomber_focus }
		x = 0
		y = 1
		relative_position_id = PRC_bomber_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_tbos
		icon = GFX_focus_rocketry
		prerequisite = { focus = PRC_ndcprc }
		x = -1
		y = 1
		relative_position_id = PRC_ndcprc
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				uses = 2
				bonus = 1
				category = nuclear
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_equipment_update
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = PRC_ndcprc }
		x = 1
		y = 1
		relative_position_id = PRC_ndcprc
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 1
				uses = 3
				category = infantry_weapons
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_establish_navy
		icon = GFX_goal_PRC_coa_navy
		prerequisite = { focus = PRC_ndcprc }
		x = 3
		y = 1
		relative_position_id = PRC_ndcprc
		cost = 10
		
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		completion_reward = {
			navy_experience = 10
			add_doctrine_cost_reduction = {
				name = naval_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 3
				category = naval_doctrine
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_the_red_pacific
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = PRC_establish_navy }
		mutually_exclusive = { focus = PRC_sea_ambition }
		x = -1
		y = 1
		relative_position_id = PRC_establish_navy
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 2
				category = cv_tech
				category = cvl_tech
				category = bb_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_sea_ambition
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = PRC_establish_navy }
		mutually_exclusive = { focus = PRC_the_red_pacific }
		x = 1
		y = 1
		relative_position_id = PRC_establish_navy
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 2
				category = dd_tech
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_battlefield_four
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = PRC_sea_ambition focus = PRC_the_red_pacific  }
		
		x = 1
		y = 1
		relative_position_id = PRC_the_red_pacific
		cost = 10

		available = {
			is_puppet = no
			378 = {
				OWNER = {
					exists = yes
					is_puppet = no
					NOT = {
						has_government = communism
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					any_other_country = {
						owns_state = 378
					}
				}
				378 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								expire = 0
								type = topple_government
								generator = { 378 }
							}
						}
					}
				}
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_equipment
				category = tp_tech
			}
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1
				uses = 2
				category = marine_tech
				technology = paratroopers
				technology = paratroopers2
				technology = paratroopers3
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 2
                category = r56_special_forces_training_tech 
            }			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_RESEARCH }
	}

	################ ZHANG FOCUS TREE ###############
	focus = {
		id = PRC_government_reshuffle
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PRC_destroy_mao_and_his_clique focus = PRC_trust_in_communism }
		mutually_exclusive = { focus = PRC_boost_the_morale }
		x = 1
		y = 1
		relative_position_id = PRC_destroy_mao_and_his_clique
		cost = 5

		available = {
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
		}
		continue_if_invalid = yes

		completion_reward = {
			add_political_power = -150
			if = {
				limit = { has_idea = PRC_defeatism_1 }
				remove_ideas = PRC_defeatism_1
			}
			if = {
				limit = { has_idea = PRC_defeatism_2 }
				remove_ideas = PRC_defeatism_2
			}
			if = {
				limit = { has_idea = PRC_underestimation }
				remove_ideas = PRC_underestimation
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_recall_feng_clique_generals
		icon = GFX_goal_prc_recall_fengtian_officers
		prerequisite = { focus = PRC_government_reshuffle }
		x = 5
		y = 1
		relative_position_id = PRC_government_reshuffle
		cost = 10
		
		available = {
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
			has_government = fascism
		}
		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = PRC_feng_clique_generals_join_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = PRC_wang_tehan
			show_ideas_tooltip = PRC_mazhanshan
			show_ideas_tooltip = PRC_liu_duo_quan
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = PRC_he_zhuguo
			show_ideas_tooltip = PRC_yu_xue_zhong
			hidden_effect = {
				create_corps_commander = {
					name = "Ma Zhanshan"
					portrait_path = "gfx/leaders/Asia/Portrait_Asia_Generic_land_3.dds"
					traits = { winter_specialist trickster }
					skill = 3
					attack_skill = 2
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 3						
				}
				create_corps_commander = {
					name = "He Zhuguo"
					portrait_path = "gfx/leaders/Asia/Portrait_Asia_Generic_land_2.dds"
					traits = { hill_fighter trickster }
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 4					
				}
				create_corps_commander = {
					name = "Yu Xuezhong"
					portrait_path = "gfx/leaders/Asia/Portrait_Asia_Generic_land_1.dds"
					traits = { winter_specialist urban_assault_specialist }
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2					
				}
				create_corps_commander = {
					name = "Zhang Zuoxiang"
					portrait_path = "gfx/leaders/Asia/Portrait_Asia_Generic_land_4.dds"
					traits = { winter_specialist }
					skill = 4
					attack_skill = 4
					defense_skill = 2
					planning_skill = 5
					logistics_skill = 2					
				}
				country_event = { id = prc.70 }
			}
		}
	}

	focus = {
		id = PRC_retake_dongbei
		icon = GFX_goal_CHI_retake_manchuria
		prerequisite = { focus = PRC_recall_feng_clique_generals }
		x = 0
		y = 1
		relative_position_id = PRC_recall_feng_clique_generals
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_manchuria_plus_mengukou_tt
					OR = {
						region = 155
						state = 874
						state = 610
						state = 609
						state = 745
						state = 612
						state = 611
					}
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

		bypass = {
			all_state = {
				OR = {
					NOT = { 
						custom_trigger_tooltip = {
							tooltip = state_is_manchuria_plus_mengukou_tt
							OR = {
								region = 155
								state = 874
								state = 610
								state = 609
								state = 745
								state = 612
								state = 611
							}
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}

		completion_reward = {
			add_stability = 0.1
			add_political_power = 50
			if = {
				limit = {
					has_country_leader = {
						name = "Zhang Xueliang"
						ruling_only = yes
					}
				}
				remove_country_leader_trait = the_generals_that_dont_resist
			}
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 155
							state = 874
							state = 610
							state = 609
							state = 745
							state = 612
							state = 611
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_provisional_science_department
		icon = GFX_goal_research_silver_cooperation
		prerequisite = { focus = PRC_government_reshuffle }
		x = 3
		y = 1
		relative_position_id = PRC_government_reshuffle
		cost = 5

		available = {
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_2
				}
				swap_ideas = {
					remove_idea = PRC_lack_skilled_personnel_2
					add_idea = PRC_lack_skilled_personnel_3
				}
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_1
				}
				swap_ideas = {
					remove_idea = PRC_lack_skilled_personnel_1
					add_idea = PRC_lack_skilled_personnel_3
				}
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel
				}
				swap_ideas = {
					remove_idea = PRC_lack_skilled_personnel
					add_idea = PRC_lack_skilled_personnel_3
				}
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_incorporate_xbj
		icon = GFX_goal_small_infantry
		prerequisite = { focus = PRC_government_reshuffle focus = PRC_boost_the_morale }
		x = -4
		y = 1
		relative_position_id = PRC_government_reshuffle
		cost = 5

		available = {
			has_completed_focus = PRC_form_the_grand_northwest_united
		}
		bypass = {
		}

		completion_reward = {
			army_experience = 25
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = PRC_deng_bao_shan
			if = {
				limit = {
					NOT = {
						has_global_flag = PRC_no_wargoal_to_chi_with_gnwu
					}
				}
				show_ideas_tooltip = PRC_yang_hu_cheng
				custom_effect_tooltip = PRC_yhc_join
				set_country_flag = PRC_yhc_enable
				hidden_effect = {
					create_corps_commander = {
						name = "Yang Hucheng"
						portrait_path = "gfx/leaders/Asia/Portrait_Asia_Generic_land_1.dds"
						traits = { }
						skill = 3
						attack_skill = 2
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 3						
					}
				}
			}
			custom_effect_tooltip = PRC_xbj_join_tt
			hidden_effect = {
				division_template = {
					name = "Xi Bei Jun"
					division_names_group = CHI_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 2 y = 0 }
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Xi Bei Jun\" division_template = \"Xi Bei Jun\" start_experience_factor = 0.35"
						owner = PRC
					}
					create_unit = {
						division = "name = \"Xi Bei Jun\" division_template = \"Xi Bei Jun\" start_experience_factor = 0.35"
						owner = PRC
					}
					create_unit = {
						division = "name = \"Xi Bei Jun\" division_template = \"Xi Bei Jun\" start_experience_factor = 0.35"
						owner = PRC
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_fight_alone
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = PRC_government_reshuffle }
		mutually_exclusive = { focus = PRC_unite_against_the_jap }
		x = 1
		y = 1
		relative_position_id = PRC_government_reshuffle
		cost = 5

		ai_will_do = {
			factor = 0.5
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}

		available = {
			NOT = {
				custom_trigger_tooltip = {
					tooltip = chi_accept_prc71_no_tt
					has_global_flag = chi_accepted_prc71
				}
				is_in_faction_with = CHI
			}
		}

		completion_reward = {
			add_stability = 0.05
			add_political_power = 75
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_invite_shx
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_fight_alone }
		x = 2
		y = 1
		relative_position_id = PRC_fight_alone
		cost = 5

		available = {
		}
		bypass = {
			owns_state = 621
		}

		completion_reward = {
			621 = {
				owner = {
					country_event = { id = prc.67 }
				}
			}
		}
	}

	focus = {
		id = PRC_pressure_prince_dem
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_invite_shx }
		x = 0
		y = 1
		relative_position_id = PRC_invite_shx
		cost = 10

		available = {
			any_owned_state = {
				any_neighbor_state = {
					owner = { tag = MEN }
				}
			}
		}
		
		completion_reward = {
			MEN = {
				country_event = { id = prc.80 }
			}
		}
	}

	focus = {
		id = PRC_reform_high_command
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_fight_alone }
		x = 0
		y = 2
		relative_position_id = PRC_fight_alone
		cost = 5

		available = {
		}

		completion_reward = {
			add_ideas = PRC_our_general_staff
		}
	}

	############## ZHANG GOES WITH KMT STILL ##################

	focus = {
		id = PRC_unite_against_the_jap
		icon = GFX_focus_prc_social_democracy
		prerequisite = { focus = PRC_government_reshuffle }
		mutually_exclusive = { focus = PRC_fight_alone }
		x = -1
		y = 1
		relative_position_id = PRC_government_reshuffle
		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				is_historical_focus_on = yes
				factor = 1
			}
		}

		available = {
			has_global_flag = PRC_no_wargoal_to_chi_with_gnwu
			CHI = {
				is_puppet = no
				exists = yes
			}
		}

		completion_reward = {
			CHI = {
				country_event = { id = prc.71 }
			}
		}
	}

	focus = {
		id = PRC_military_knowledge_exchange
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = {
			focus = PRC_unite_against_the_jap
		}
		x = 0
		y = 1
		relative_position_id = PRC_unite_against_the_jap
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = chi_accept_prc71_tt
				has_global_flag = chi_accepted_prc71
			}
		}

		completion_reward = {
			CHI = {
				country_event = { id = prc.74 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				CHI = {
					add_ideas = PRC_military_knowledge
					add_doctrine_cost_reduction = {
						name = land_doc_bonus
						cost_reduction = 0.5
						uses = 1
						category = land_doctrine
					}
				}
				add_ideas = PRC_kmt_military_knowledge
				add_doctrine_cost_reduction = {
					name = land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  }
	}

	focus = {
		id = PRC_study_kmt_equipment
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = {
			focus = PRC_military_knowledge_exchange
		}
		x = 0
		y = 1
		relative_position_id = PRC_military_knowledge_exchange
		cost = 5

		available = {
		}

		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.5
				uses = 2
				category = infantry_weapons
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_apologise_to_sov
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = {
			focus = PRC_unite_against_the_jap
		}
		x = -2
		y = 1
		relative_position_id = PRC_unite_against_the_jap
		cost = 10

		available = {
			has_global_flag = PRC_defy_sov_order
			custom_trigger_tooltip = {
				tooltip = chi_accept_prc71_tt
				has_global_flag = chi_accepted_prc71
			}
			has_government = communism
		}

		completion_reward = {
			SOV = {
				country_event = { id = prc.77 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					remove_opinion_modifier = {
						target = PRC
						modifier = PRC_defy_order
					}
					remove_opinion_modifier = {
						target = PRC
						modifier = PRC_defy_order_2
					}
				}
				if = {
					limit = {
						SOV = {
							has_tech = infantry_weapons
							NOT = {
								has_tech = infantry_weapons1
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 1000 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = infantry_weapons1
							NOT = {
								has_tech = improved_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1000 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = improved_infantry_weapons
							NOT = {
								has_tech = advanced_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 1000 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = advanced_infantry_weapons
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 1000 producer = SOV }
				}
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT }
	}

	##################### ARMY BUFFS - SHARED BETWEEN BOTH ZHANG PATHS #################3
	focus = {
		id = PRC_focus_on_dong_beijun
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = PRC_reform_high_command focus = PRC_study_kmt_equipment }
		mutually_exclusive = { focus = PRC_focus_on_red_army }
		x = 0
		y = 1
		relative_position_id = PRC_reform_high_command
		cost = 10

		completion_reward = {
			add_ideas = PRC_dbj_army_focus
		}
	}

	focus = {
		id = PRC_winter_training
		icon = GFX_goal_generic_cold_war
		prerequisite = { focus = PRC_focus_on_dong_beijun }
		x = 2
		y = 2
		relative_position_id = PRC_focus_on_dong_beijun
		cost = 10

		completion_reward = {
			army_experience = 25
			add_ideas = PRC_winter_training_idea
		}
	}

	focus = {
		id = PRC_stir_anti_japanese_sentiment
		icon = GFX_goal_workers_support
		prerequisite = { focus = PRC_focus_on_dong_beijun }
		x = 1
		y = 1
		relative_position_id = PRC_focus_on_dong_beijun
		cost = 5

		completion_reward = {
			add_stability = 0.05
			add_political_power = 75
			add_ideas = PRC_anti_jap_sentiment
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_anti_japanese_expedition
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = PRC_stir_anti_japanese_sentiment }
		x = 0
		y = 2
		relative_position_id = PRC_stir_anti_japanese_sentiment
		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			has_dlc = "Waking the Tiger"
			OR = {
				MAN = {
					OR = {
						is_subject_of = JAP
						has_cosmetic_tag = MAN_kwantung_army
					}
				}
				AND = {
					MAN = {
						exists = no
					}
					JAP = {
						owns_state = 612
						owns_state = 611
						owns_state = 610
					}
				}
			}
			NOT = {
				is_subject_of = JAP
			}
		}

		bypass = {
			has_war_with = JAP
			OR = {
				has_war_with = JAP
				AND = {
					MAN = {
						is_subject = no
					}
					JAP = {
						NOT = {
							owns_state = 525
							owns_state = 527
							owns_state = 844
							owns_state = 845
							owns_state = 846
							owns_state = 847
						}
					}
				}
			}
		}

		completion_reward = {
			unlock_decision_category_tooltip = PRC_anti_japanese_expedition
			set_country_flag = {
				flag = JAP_delay_sweep_for_communists
				days = 100
				value = 1
			}
		}
	}

	focus = {
		id = PRC_mountain_training
		icon = GFX_focus_RAJ_indian_gurkhas
		prerequisite = { focus = PRC_focus_on_dong_beijun }
		x = 0
		y = 2
		relative_position_id = PRC_focus_on_dong_beijun
		cost = 10

		completion_reward = {
			army_experience = 25
			if = {
				limit = {
					NOT = {
						has_tech = tech_mountaineers
					}
				}
				set_technology = { tech_mountaineers = 1 }
			}
			custom_effect_tooltip = PRC_mountain_training_tt
			hidden_effect = {
				set_technology = { mountain_warfare = 1 }
				division_template = {
					name = "Shan Di Bu Dui"
					division_names_group = CHI_MNT_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Shan Di Bu Dui\" division_template = \"Shan Di Bu Dui\" start_experience_factor = 1"
						owner = PRC
					}
					create_unit = {
						division = "name = \"Shan Di Bu Dui\" division_template = \"Shan Di Bu Dui\" start_experience_factor = 1"
						owner = PRC
					}
				}
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_enforce_our_goal
		icon = GFX_focus_chi_one_china_policy
		prerequisite = { focus = PRC_focus_on_dong_beijun focus = PRC_focus_on_red_army }
		x = -1
		y = 3
		relative_position_id = PRC_focus_on_dong_beijun
		cost = 10

		available = {
			r56_script_i_am_sane = yes
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_global_flag = PRC_no_wargoal_to_chi_with_gnwu
					}
				}
				create_wargoal = {
					target = CHI
					expire = 0
					type = annex_everything
				}
			}
			create_wargoal = {
				target = JAP
				expire = 0
				type = puppet_wargoal_focus
			}
			if = {
				limit = {
					has_country_leader = {
						name = "Zhang Xueliang"
						ruling_only = yes
					}
				}
				remove_country_leader_trait = the_generals_that_dont_resist
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_focus_on_red_army
		icon = GFX_goal_PRC_focus_on_red_army
		prerequisite = { focus = PRC_reform_high_command focus = PRC_study_kmt_equipment}
		mutually_exclusive = { focus = PRC_focus_on_dong_beijun }
		x = 0
		y = 1
		relative_position_id = PRC_study_kmt_equipment
		cost = 10

		available = {
			has_government = communism
		}

		completion_reward = {
			add_ideas = PRC_red_army_focus
		}
		search_filters = {  FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = PRC_guerilla_operation_expansion
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PRC_focus_on_red_army }
		x = 0
		y = 1
		relative_position_id = PRC_focus_on_red_army
		cost = 10

		completion_reward = {
			army_experience = 15
			add_ideas = PRC_expanded_guerillas
		}
	}

	############## FASCIST PRC UNDER ZHANG WITH OR WITHOUT JAPAN ################

	focus = {
		id = PRC_the_second_northeast_flag_replacement
		icon = GFX_goal_PRC_restore_fengtian_clique
		mutually_exclusive = { focus = PRC_submit_to_central_government }
		mutually_exclusive = { focus = PRC_rectification }
		x = 17
		y = 0
		relative_position_id = PRC_rectification
		cost = 10

		available = {
			is_subject = no
			has_government = fascism
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_is_in_manchuria_tt
							OR = {
								AND = {
									region = 155
									NOT = { state = 745 }
								}
								state = 874
								state = 610
							}
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		completion_reward = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = FengClique
			set_party_name = { ideology = fascism long_name = FengClique_party name = FengClique_party}
			set_capital = { state = 716 }
			add_political_power = 200
			if = {
				limit = {
					CHI = { exists = yes }
				}
				CHI = {
					add_opinion_modifier = {
						target = ROOT
						modifier = PRC_2nd_ne_flag_replacement
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_submit_to_central_government
		icon = GFX_goal_molotov_ribbentrop_pact
		mutually_exclusive = { focus = PRC_the_second_northeast_flag_replacement}
		x = 3
		y = 0
		relative_position_id = PRC_the_second_northeast_flag_replacement
		cost = 10

		available = {
			has_government = fascism
			has_country_leader = {
				name = "Zhang Xueliang"
				ruling_only = yes
			}
			CHI = {
				exists = yes
				is_subject = no
			}
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_is_in_manchuria_tt
							OR = {
								AND = {
									region = 155
									NOT = { state = 745 }
								}
								state = 874
								state = 610
							}
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		completion_reward = {
			CHI = {
				change_tag_from = ROOT
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_industrial_developement
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = PRC_the_second_northeast_flag_replacement }
		x = -5
		y = 2
		relative_position_id = PRC_the_second_northeast_flag_replacement
		cost = 10

		available = {
			has_government = fascism
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_expand_unversity
		icon = GFX_focus_research
		prerequisite = { focus = PRC_industrial_developement }
		x = 0
		y = 2
		relative_position_id = PRC_industrial_developement
		cost = 10
		
		available = {
			has_government = fascism
		}

		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_mukden_university			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_king_of_dongbei
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_the_second_northeast_flag_replacement }
		x = -3
		y = 1
		relative_position_id = PRC_the_second_northeast_flag_replacement
		cost = 10

		available = {
			has_government = fascism
			NOT = {
				has_country_flag = has_pact_with_jap
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = PRC_pact_with_jap
				}
				add_stability = 0.05
				add_political_power = 50
				else = {
					add_ideas = PRC_former_glory
					custom_effect_tooltip = PRC_if_completed_pact_focus_tt
					effect_tooltip = {
						add_stability = 0.05
						add_political_power = 50
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_border_defense_department
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_study_foreign_equipment
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = PRC_king_of_dongbei }
		x = 0
		y = 1
		relative_position_id = PRC_king_of_dongbei
		cost = 10

		available = {
			has_government = fascism
		}

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1
				uses = 1
				category = armor
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				uses = 2
				category = infantry_weapons
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_establish_general_staff
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_king_of_dongbei }
		x = 1
		y = 2
		relative_position_id = PRC_king_of_dongbei
		cost = 10

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = PRC_pact_with_jap
				}
				add_doctrine_cost_reduction = {
					name = land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
				else = {
					if = {
						limit = {
							has_idea = PRC_our_general_staff
						}
						swap_ideas = {
							remove_idea = PRC_our_general_staff
							add_idea = PRC_general_staff
						}
						else = {
							add_ideas = PRC_our_general_staff
						}
					}
					custom_effect_tooltip = PRC_if_completed_pact_focus_tt
					effect_tooltip = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.5
							uses = 1
							category = land_doctrine
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

	}

	focus = {
		id = PRC_claim_the_central_plain
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_establish_general_staff }
		mutually_exclusive = { focus = PRC_secure_the_far_east }
		x = 1
		y = 1
		relative_position_id = PRC_establish_general_staff
		cost = 10

		available = {
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_in_central_plain_no_mengukou_tt
					OR = {
						region = 165
						region = 164
						region = 144
						region = 200
						state = 615
						state = 597
						state = 743
						state = 614
						state = 608
					}
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

		bypass = {
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_in_central_plain_no_mengukou_tt
							OR = {
								region = 165
								region = 164
								region = 144
								region = 200
								state = 615
								state = 597
								state = 743
								state = 614
								state = 608
							}
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = PRC_pact_with_jap
				}
				else = {
					add_ideas = PRC_eastern_blitzkrieg
					custom_effect_tooltip = PRC_if_completed_pact_focus_add_tt
				}
			}
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 165
							region = 164
							region = 144
							region = 200
							state = 615
							state = 597
							state = 743
							state = 614
							state = 608
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = PRC_secure_the_far_east
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = PRC_establish_general_staff }
		mutually_exclusive = { focus = PRC_claim_the_central_plain }
		x = -1
		y = 1
		relative_position_id = PRC_establish_general_staff
		cost = 10

		available = {
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_in_soviet_far_east_tt
					region = 148
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

		bypass = {
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_in_soviet_far_east_tt
							region = 148
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = PRC_pact_with_jap
				}
				else = {
					add_ideas = PRC_prepare_for_extreme_condition
					custom_effect_tooltip = PRC_if_completed_pact_focus_add_tt
				}
			}
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						region = 148
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = PRC_joint_warfare
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = PRC_claim_the_central_plain focus = PRC_secure_the_far_east }
		x = 0
		y = 1
		relative_position_id = PRC_claim_the_central_plain
		cost = 10

		available = {
			has_idea = PRC_our_general_staff
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = air_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_pressure_korea
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_secure_the_far_east focus = PRC_claim_the_central_plain }
		x = 0
		y = 1
		relative_position_id = PRC_secure_the_far_east
		cost = 10

		available = {
			has_idea = PRC_our_general_staff
			controls_state = 408
			controls_state = 409
			OR = {
				KOR = {
					exists = yes
					NOT = {
						is_puppet_of = PRC
					}
				}
				NKR = {
					exists = yes
					NOT = {
						is_puppet_of = PRC
					}
				}
			}
		}
		bypass = {
			AND = {
				KOR = {
					is_puppet_of = PRC
				}
				NKR = {
					is_puppet_of = PRC
				}
			}
		}
		continue_if_invalid = yes

		completion_reward = {
			if = {
				limit = {
					KOR = {
						exists = yes
						NOT = {
							is_puppet_of = PRC
						}
					}
				}
				KOR = {
					country_event = { id = prc.98 }
				}
			}
			else_if = {
				limit = {
					NKR = {
						exists = yes
						NOT = {
							is_puppet_of = PRC
						}
					}
				}
				NKR = {
					country_event = { id = prc.98 }
				}
			}
		}
	}

	focus = {
		id = PRC_revive_arsenals
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = PRC_pact_with_jap focus = PRC_king_of_dongbei }
		x = 2
		y = 1
		relative_position_id = PRC_king_of_dongbei
		cost = 10

		available = {
			has_government = fascism
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_mukden_arsenal_tank
			show_ideas_tooltip = PRC_mukden_arsenal_rifle
			show_ideas_tooltip = PRC_harbin_machinery
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_revive_the_navy_and_air_force
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = PRC_pact_with_jap focus = PRC_king_of_dongbei }
		x = 4
		y = 1
		relative_position_id = PRC_king_of_dongbei
		cost = 10

		available = {
			has_government = fascism
		}

		completion_reward = {
			navy_experience = 15
			air_experience = 15
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_bohai_shipyard_group
			show_ideas_tooltip = PRC_dbj_heavy_air
			show_ideas_tooltip = PRC_dbj_med_air
			show_ideas_tooltip = PRC_dbj_nav_air
			show_ideas_tooltip = PRC_dbj_light_air
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = PRC_special_research_department
		icon = GFX_focus_research
		prerequisite = { focus = PRC_revive_arsenals }
		prerequisite = { focus = PRC_revive_the_navy_and_air_force }
		x = 1
		y = 1
		relative_position_id = PRC_revive_arsenals
		cost = 10

		completion_reward = {
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_10
				}
				remove_ideas = PRC_lack_skilled_personnel_10
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_9
				}
				remove_ideas = PRC_lack_skilled_personnel_9
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_8
				}
				remove_ideas = PRC_lack_skilled_personnel_8
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_7
				}
				remove_ideas = PRC_lack_skilled_personnel_7
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_6
				}
				remove_ideas = PRC_lack_skilled_personnel_6
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_5
				}
				remove_ideas = PRC_lack_skilled_personnel_5
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_4
				}
				remove_ideas = PRC_lack_skilled_personnel_4
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_3
				}
				remove_ideas = PRC_lack_skilled_personnel_3
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_2
				}
				remove_ideas = PRC_lack_skilled_personnel_2
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel_1
				}
				remove_ideas = PRC_lack_skilled_personnel_1
			}
			if = {
				limit = {
					has_idea = PRC_lack_skilled_personnel
				}
				remove_ideas = PRC_lack_skilled_personnel
			}
			add_research_slot = 2
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_pact_with_jap
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = {
			focus = PRC_the_second_northeast_flag_replacement
		}
		x = 3
		y = 1
		relative_position_id = PRC_the_second_northeast_flag_replacement
		cost = 10

		available = {
			country_exists = JAP
			custom_trigger_tooltip = {
				tooltip = PRC_same_ideology_with_jap
				same_ideo_with_JAP = yes
			}
			JAP = {
				is_puppet = no
				has_civil_war = no
			}
		}

		completion_reward = {
			JAP = { country_event = { id = prc.95 }}
		}
	}

	focus = {
		id = PRC_introduce_jap_shipbuilding_tech
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = PRC_pact_with_jap  }
		x = 0
		y = 1
		relative_position_id = PRC_pact_with_jap
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = has_pact_with_jap_tt
				has_country_flag = has_pact_with_jap
			}
		}

		completion_reward = {
			JAP = {
				country_event = { id = kmt.224 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				custom_effect_tooltip = KMT_jap_navy_indus_assist_tt
				add_tech_bonus = {
					name = dd_bonus
					ahead_reduction = 1
					uses = 1
					bonus = 1
					category = naval_equipment
				}
				if = {
					limit = {
						JAP = { has_idea = the_long_lance }
					}
					add_ideas = the_long_lance
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_navy
					}
					remove_ideas = incompetent_industry_real_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_fake_navy
					}
					remove_ideas = incompetent_industry_fake_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_2_navy
					}
					remove_ideas = incompetent_industry_real_2_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_3_navy
					}
					remove_ideas = incompetent_industry_real_3_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_4_navy
					}
					remove_ideas = incompetent_industry_real_4_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_5_navy
					}
					remove_ideas = incompetent_industry_real_5_navy
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_jap_military_advisor
		icon = GFX_focus_generic_japanese_imperial_glory
		prerequisite = { focus = PRC_pact_with_jap  }
		x = -1
		y = 2
		relative_position_id = PRC_pact_with_jap
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = has_pact_with_jap_tt
				has_country_flag = has_pact_with_jap
			}
		}

		completion_reward = {
			add_ideas = PRC_jap_advisors
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_burn_the_bridge
		icon = GFX_focus_AST_war_japan
		mutually_exclusive = { focus = PRC_west_pacific_alliance }
		prerequisite = { focus = PRC_jap_military_advisor  }
		x = -1
		y = 1
		relative_position_id = PRC_jap_military_advisor
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			JAP = {
				r56_script_target_is_sane = yes
			}
			custom_trigger_tooltip = {
				tooltip = has_pact_with_jap_tt
				has_country_flag = has_pact_with_jap
			}
		}
		bypass = {
			JAP = {
				r56_script_standard_bypass = yes
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_jap_advisors
				add_idea = PRC_jap_style_command
			}
			JAP = {
				country_event = { id = prc.106 }
			}
			if = {
				limit = {
					is_in_faction_with = JAP
				}
				if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = JAP
					else = {
						random_other_country = {
							limit = {
								is_in_faction_with = ROOT
								is_in_faction_with = JAP
								is_faction_leader = yes
							}
							remove_from_faction = ROOT
						}
					}
				}
			}
			effect_tooltip = {
				declare_war_on = {
					target = JAP
					type = puppet_wargoal_focus
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = PRC_west_pacific_alliance
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = PRC_jap_military_advisor  }
		mutually_exclusive = { focus = PRC_burn_the_bridge }
		x = 1
		y = 1
		relative_position_id = PRC_jap_military_advisor
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = has_pact_with_jap_tt
				has_country_flag = has_pact_with_jap
			}
			JAP = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
			is_in_faction = no
		}

		completion_reward = {
			set_rule = {
				can_create_factions = yes
			}
			create_faction = west_pacific_alliance
			JAP = {
				country_event = { id = prc.102 }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = PRC_coup_in_philipine
		icon = GFX_focus_jap_strike_south
		prerequisite = { focus = PRC_west_pacific_alliance  }
		x = 0
		y = 1
		relative_position_id = PRC_west_pacific_alliance
		cost = 20
		
		available = {
			is_in_faction_with = JAP
			custom_trigger_tooltip = {
				tooltip = has_pact_with_jap_tt
				has_country_flag = has_pact_with_jap
			}
		}

		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {
							region = 142
							region = 158
							region = 159
							region = 93
							region = 160
							region = 156
							region = 167
							region = 91
							region = 84
							region = 94
							region = 78
							region = 83
							region = 81
							region = 157
							state = 524
						}
					}
					NOT = {
						has_government = fascism
						is_puppet_of = PRC
						is_in_faction_with = PRC
					}
				}
				country_event = {
					id = prc.105
				}
			}
		}
	}

	focus = {
		id = PRC_establish_top_command
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = PRC_special_research_department }
		prerequisite = { focus = PRC_establish_general_staff focus = PRC_jap_military_advisor }
		x = 0
		y = 3
		relative_position_id = PRC_special_research_department
		cost = 10

		completion_reward = {
			army_experience = 50
			navy_experience = 25
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			add_ideas = PRC_top_command
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	##################### FASCIST PRC NAVY TREE ############
	focus = {
		id = PRC_expand_navy_command_structure
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = PRC_establish_top_command }
		x = -2
		y = 1
		relative_position_id = PRC_establish_top_command
		cost = 10

		completion_reward = {
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = naval_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
			if = {
				limit = {
					NOT = {
						has_idea = PRC_top_command_air
					}
				}
				swap_ideas = {
					remove_idea = PRC_top_command
					add_idea = PRC_top_command_navy
				}
				else = {
					swap_ideas = {
						remove_idea = PRC_top_command_air
						add_idea = PRC_top_command_all
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_yellow_sea_navy
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = PRC_expand_navy_command_structure }
		x = -1
		y = 1
		relative_position_id = PRC_expand_navy_command_structure
		cost = 10

		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 2
				category = dd_tech
				category = ss_tech
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_pacific_fleet
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = PRC_expand_navy_command_structure }
		x = 1
		y = 1
		relative_position_id = PRC_expand_navy_command_structure
		cost = 10

		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 2
				category = bb_tech
				category = cv_tech
				category = cvl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_naval_innovation
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = PRC_yellow_sea_navy focus = PRC_pacific_fleet }
		x = -1
		y = 1
		relative_position_id = PRC_pacific_fleet
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 0.5
				uses = 2
				ahead_reduction = 1
				category = naval_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_naval_air_effort
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = PRC_pacific_fleet }
		prerequisite = { focus = PRC_fight_effort focus = PRC_bomber_effort}
		x = 1
		y = 1
		relative_position_id = PRC_pacific_fleet
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 0.5
				uses = 1
				ahead_reduction = 1
				category = cv_tech
				category = cvl_tech
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	##################### FASCIST PRC AIR TREE ############
	focus = {
		id = PRC_expand_air_command_structure
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = PRC_establish_top_command }
		x = 2
		y = 1
		relative_position_id = PRC_establish_top_command
		cost = 10

		completion_reward = {
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = air_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			if = {
				limit = {
					NOT = {
						has_idea = PRC_top_command_navy
					}
				}
				swap_ideas = {
					remove_idea = PRC_top_command
					add_idea = PRC_top_command_air
				}
				else = {
					swap_ideas = {
						remove_idea = PRC_top_command_navy
						add_idea = PRC_top_command_all
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_fight_effort
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = PRC_expand_air_command_structure }
		x = -1
		y = 1
		relative_position_id = PRC_expand_air_command_structure
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_bomber_effort
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = PRC_expand_air_command_structure }
		x = 1
		y = 1
		relative_position_id = PRC_expand_air_command_structure
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 2
				category = tactical_bomber
				category = cat_strategic_bomber
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = PRC_air_innovation
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = PRC_bomber_effort focus = PRC_fight_effort  }
		x = 1
		y = 1
		relative_position_id = PRC_fight_effort
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 0.5
				uses = 2
				ahead_reduction = 1
				category = air_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
}
