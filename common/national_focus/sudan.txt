#####-----> Rt56 Albania Focus Tree by Lucian et al <><> <><> <><> 


### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}	

focus_tree = {
	id = sudan_focus
	
	country = {
		factor = 0
		modifier = {
			add = 30
			tag = SUD
		}
	}
	
	default = no
	continuous_focus_position = { x = 650 y = 1350 }

	shared_focus = SYR_UNIFIED_arab_unification
	shared_focus = AFR_african_unification

	focus = {
		id = SUD_develop_capitalstate
		icon = GFX_goal_SUD_industry
		#prerequisite = { focus = }

		x = 3
		y = 0
		#relative_position_id = 
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			
			capital_scope = {
				ETH_upgrade_state_category = yes 
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SUD_the_state_bank_of_name 
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = SUD_develop_capitalstate }

		x = -2
		y = 1
		relative_position_id = SUD_develop_capitalstate
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = HOA_state_bank_idea
		}
	}
	focus = {
		id = SUD_pave_the_roads
		icon = GFX_goal_generic_road2
		prerequisite = { focus = SUD_develop_capitalstate }

		x = 1
		y = 1
		relative_position_id = SUD_develop_capitalstate
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SUD_the_steam_locomotive
		icon = GFX_goal_generic_train
		prerequisite = { focus = SUD_pave_the_roads }

		x = 0
		y = 1
		relative_position_id = SUD_pave_the_roads
		cost = 5

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_EQUIPMENT}

		completion_reward = {
			IF = {
				limit = {
					NOT = { has_tech = basic_train }
				}
				set_technology = { 
					basic_train = 1
					popup = yes
				}
			}
			add_equipment_to_stockpile = { 
				type = train_equipment_1
				amount = 10 
				producer = ROOT
			}
		}
	}
	focus = {
		id = SUD_the_sudanese_regional_development_fund
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = SUD_the_state_bank_of_name }
		dynamic = yes 
		#mutually_exclusive = { focus = SUD_the_sudanese_industrial_fund }
		x = 0
		y = 1
		relative_position_id = SUD_the_state_bank_of_name
		cost = 5
		available = {
			has_civil_war = no
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			unlock_decision_tooltip = ETH_promote_construction_development_in_from
			unlock_decision_tooltip = ETH_promote_infrastructure_development_in_from				
		}
	}

	focus = {
		id = SUD_exploit_national_resources
		icon = GFX_goal_generic_all_resource
		prerequisite = { focus = SUD_the_steam_locomotive }

		x = 0
		y = 1
		relative_position_id = SUD_the_steam_locomotive
		cost = 10
		available = {
			
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 1
				uses = 2
				category = excavation_tech
			}			
		}
	}
	focus = {
		id = SUD_promote_local_crafts
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SUD_the_sudanese_regional_development_fund }

		x = 0
		y = 1
		relative_position_id = SUD_the_sudanese_regional_development_fund
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SUD_promote_local_crafts
				bonus = 0.5
				uses = 2
				category = industry 
			}
			add_tech_bonus = {
				name = SUD_promote_local_crafts
				bonus = 0.5
				uses = 1
				category = support_tech
			}
		}
	}
	focus = {
		id = SUD_the_sudanese_industrial_fund
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SUD_promote_local_crafts }
		#mutually_exclusive = { focus = SUD_the_sudanese_regional_development_fund }
		x = -3
		y = 1
		relative_position_id = SUD_promote_local_crafts
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = { 
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}	
	focus = {
		id = SUD_develop_port_sudan
		text = EGY_develop_port_sudan
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SUD_promote_local_crafts }
		x = -1
		y = 1
		relative_position_id = SUD_promote_local_crafts
		cost = 10
		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				limit = { is_coastal = yes }
				prioritize = { 883 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SUD_the_capital_city_airport 
		icon = GFX_goal_generic_airport
		prerequisite = { focus = SUD_promote_local_crafts }
		dynamic = yes 
		x = 1
		y = 1
		relative_position_id = SUD_promote_local_crafts  
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_EQUIPMENT}

		completion_reward = {
			capital_scope = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_equipment_to_stockpile = { 
				type = transport_plane_equipment
				amount = 10 
				producer = ROOT
			}
		}
	}
	focus = { 
		id = SUD_a_steamboat_fleet
		icon = GFX_goal_SUD_navy
		prerequisite = { focus = SUD_develop_port_sudan }

		x = -1
		y = 1
		relative_position_id = SUD_develop_port_sudan
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SUD_a_steamboat_fleet
				bonus = 0.5
				uses = 2
				category = dd_tech
			}
		}
	}
	focus = {
		id = SUD_battleship_focus
		text = ALG_battleship_focus
		icon = GFX_goal_generic_navy_battleship
        prerequisite = { focus = SUD_a_steamboat_fleet }

		x = 0
		y = 1
		relative_position_id = SUD_a_steamboat_fleet
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = capital_ships_bonus
                bonus = 1
				uses = 1
                category = cv_tech
            }										
		}
	}
	focus = {
		id = SUD_improved_irrigation_systems
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SUD_develop_port_sudan focus = SUD_the_capital_city_airport }

		x = 1
		y = 1
		relative_position_id = SUD_develop_port_sudan
		cost = 10

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_stability = 0.05
			every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SUD_the_sudanese_air_fleet
		icon = GFX_goal_SUD_airforce
		prerequisite = { focus = SUD_the_capital_city_airport }

		x = 1
		y = 1
		relative_position_id = SUD_the_capital_city_airport
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 20
			add_tech_bonus = {
				name = SUD_the_sudanese_air_fleet
				bonus = 0.5
				uses = 1
				category = light_air
			}
			add_tech_bonus = {
				name = SUD_the_sudanese_air_fleet
				bonus = 0.5
				uses = 1
				category = medium_air
			}
			add_tech_bonus = {
				name = SUD_the_sudanese_air_fleet
				bonus = 0.5
				uses = 1
				category = heavy_air
			}
		}
	}
	focus = {
		id = SUD_state_funded_projects
		icon = GFX_goal_generic_strenght_through_industry
		prerequisite = { focus = SUD_a_steamboat_fleet focus = SUD_the_sudanese_air_fleet focus = SUD_improved_irrigation_systems }

		x = 2
		y = 1
		relative_position_id = SUD_a_steamboat_fleet
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = HOA_state_funded_projects_idea
		}
	}
	focus = {
		id = SUD_the_grand_university_of_capital 
		icon = GFX_focus_research
		prerequisite = { focus = SUD_state_funded_projects }

		x = 0
		y = 1
		relative_position_id = SUD_state_funded_projects
		cost = 10
		available = {  
		}

		search_filters = {FOCUS_FILTER_RESEARCH} 

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SUD_the_sudanese_armed_forces
		icon = GFX_goal_SUD_army
		#prerequisite = { focus = }

		x = 8 
		y = 0
		#relative_position_id =
		cost = 5

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = SUD_capital_military_academy
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SUD_improve_our_weaponary
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = { focus = SUD_the_sudanese_armed_forces }

		x = 0
		y = 1
		relative_position_id = SUD_the_sudanese_armed_forces
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SUD_develop_indigenous_models
				bonus = 0.5
				uses = 2
				category = infantry_weapons 
			}
		}
	}
	focus = {
		id = SUD_legacy_of_the_mahdist_war
		icon = GFX_focus_ETH_keep_the_chitet
		prerequisite = { focus = SUD_improve_our_weaponary }
		mutually_exclusive = { focus = SUD_rearm_the_defence_force }
		x = -1
		y = 1
		relative_position_id = SUD_improve_our_weaponary
		cost = 10

		search_filters = {FOCUS_FILTER_MILITARY_EQUIPMENT}

		completion_reward = {
			division_template = {
				name = "Mahdist Irregulars"
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 1 y = 0 }
					irregular_infantry = { x = 1 y = 1 }
					irregular_infantry = { x = 1 y = 2 }	
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Irregular Infantry\" division_template = \"Mahdist Irregulars\" start_experience_factor = 0.05 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = ROOT
					count = 3
				}
			}
			add_ideas = HOA_improved_irregulars_idea
		}
	}
	focus = {
		id = SUD_rearm_the_defence_force
		icon = GFX_goal_SUD_rearm_the_defence_force
		prerequisite = { focus = SUD_improve_our_weaponary }
		mutually_exclusive = { focus = SUD_legacy_of_the_mahdist_war }
		x = 1
		y = 1
		relative_position_id = SUD_improve_our_weaponary
		cost = 10

		search_filters = {FOCUS_FILTER_MILITARY_EQUIPMENT}

		completion_reward = {
			division_template = {
				name = "Quat Aldifae Alsuwdania" # Egypian royal guard renamed to make it worthwhile
				priority = 2
				division_names_group = IRQ_CAV_01
			
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }
					cavalry = { x = 0 y = 3 }
					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
					cavalry = { x = 1 y = 2 }
					cavalry = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Quat Aldifae Alsuwdania\" division_template = \"Quat Aldifae Alsuwdania\" start_experience_factor = 0.05 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = ROOT
				}
			}
			add_ideas = HOA_our_strength_fighting_idea
		}
	}
	focus = {
		id = SUD_names_finest
		icon = GFX_focus_ETH_sway_the_warlords
		prerequisite = { focus = SUD_legacy_of_the_mahdist_war }

		x = -1
		y = 1
		relative_position_id = SUD_legacy_of_the_mahdist_war
		cost = 10

		completion_reward = {
			add_ideas = HOA_our_finest_idea
		}
	}
	focus = {
		id = SUD_field_piece_research
		text = EGY_field_piece_research
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SUD_legacy_of_the_mahdist_war focus = SUD_rearm_the_defence_force }

		x = 1
		y = 1
		relative_position_id = SUD_legacy_of_the_mahdist_war
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SUD_the_roars_of_thunder
				bonus = 0.5
				uses = 2
				category = artillery 
				category = cat_anti_tank 
			}
		}
	}
	focus = {
		id = SUD_reform_the_conscription
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SUD_rearm_the_defence_force }

		x = 1
		y = 1
		relative_position_id = SUD_rearm_the_defence_force
		cost = 7.2

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_war_support = 0.1
			IF = {
				limit = { 
					NOT = { has_idea = extensive_conscription }
					NOT = { has_idea = service_by_requirement }
					NOT = { has_idea = all_adults_serve }
					NOT = { has_idea = scraping_the_barrel }
				}
				add_ideas = extensive_conscription
			}

		}
	}
	focus = {
		id = SUD_capital_military_academy
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SUD_field_piece_research }

		x = -1
		y = 1
		relative_position_id = SUD_field_piece_research
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SUD_capital_military_academy
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SUD_capital_military_academy
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SUD_capital_military_academy
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SUD_encourage_local_arms_production
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SUD_field_piece_research }

		x = 1
		y = 1
		relative_position_id = SUD_field_piece_research
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SUD_metal_beasts
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SUD_capital_military_academy }
		mutually_exclusive = { focus = SUD_develop_indigenous_models }
		x = 0
		y = 1
		relative_position_id = SUD_capital_military_academy
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SUD_metal_beasts
				bonus = 0.5
				uses = 2
				category = armor 
			}
		}
	}
	focus = {
		id = SUD_develop_indigenous_models
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SUD_encourage_local_arms_production }
		mutually_exclusive = { focus = SUD_metal_beasts }
		x = 0
		y = 1
		relative_position_id = SUD_encourage_local_arms_production
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SUD_develop_indigenous_models
				bonus = 0.5
				uses = 2
				category = infantry_weapons 
			}
		}
	}
	focus = {
		id = SUD_the_steel_lions
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = SUD_metal_beasts }

		x = 0
		y = 1
		relative_position_id = SUD_metal_beasts
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			IF = {
				limit = {
					has_dlc = "No Step Back"
					NOT = { has_tech = gwtank_chassis }
				}
				set_technology = { 
					gwtank_chassis  = 1
					popup = no
				}

			}
			ELSE_IF = {
				limit = {
					NOT = { has_dlc = "No Step Back" }
					NOT = { has_tech = gwtank }
				}
				set_technology = { 
					gwtank = 1
					popup = no
				}
				
			}
			division_template = {
				name = "Steel Lions"
				is_locked = no
				regiments = {
					light_armor = { x = 0 y = 0 }
					light_armor = { x = 0 y = 1 }
					light_armor = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Steel Lions Brigade\" division_template = \"Steel Lions\" start_experience_factor = 0.05 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = ROOT
					count = 1
				}
			}
		}
	}
	focus = {
		id = SUD_modern_infantry
		icon = GFX_focus_ETH_peacekeeping_forces
		prerequisite = { focus = SUD_develop_indigenous_models }

		x = 0
		y = 1
		relative_position_id = SUD_develop_indigenous_models
		cost = 10

		search_filters = {FOCUS_FILTER_MILITARY_EQUIPMENT}

		completion_reward = {
			division_template = {
				name = "Regular Infantry"
				is_locked = no
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Regular Infantry Division\" division_template = \"Regular Infantry\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = ROOT
					count = 2
				}
			}
		}
	} 

	# Political
	
	focus = {
		id = SUD_assessing_our_future
		icon = GFX_goal_SUD_independence
		x = 16
		y = 0
		cost = 5

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
		}	
	}
	focus = { 
		id = SUD_ansar_nationalism
		icon = GFX_goal_EGY_suspend
		prerequisite = { focus = SUD_assessing_our_future }
		mutually_exclusive = { focus = SUD_unite_the_opposition }	
		relative_position_id = SUD_assessing_our_future
		x = 4
		y = 1
		cost = 5
		ai_will_do = {
            factor = 0
            modifier = {
                factor = 90
                OR = {
                    has_government = fascism
                    has_government = neutrality
                }
            }
        }				
		completion_reward = {
            add_popularity = {
                ideology = neutrality
                popularity = 0.1
            }
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}
	focus = { 
		id = SUD_neo_mahdist_government
		icon = GFX_goal_COG_force_publique
		prerequisite = { focus = SUD_ansar_nationalism }
		prerequisite = { focus = SUD_strengthen_national_unity }
		relative_position_id = SUD_ansar_nationalism
		mutually_exclusive = { focus = SUD_galvanize_the_khatmiyya_movement }
		available = {
			neutrality > 0.3
		}
		x = 0
		y = 2
		cost = 10	
		ai_will_do = {
            factor = 0
            modifier = {
                factor = 90
                has_government = neutrality
            }
        }				
		completion_reward = {
			add_stability = 0.05
			remove_ideas = SUD_unstable_nation_2
			if = {
				limit = {
					NOT = {
						has_government = neutrality
					}
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
            	}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
				}
			}
			add_timed_idea = { idea = GEN_Strenghten_Monarchy_I days = 1395 }				
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	}	
	focus = { 
		id = SUD_invite_the_mahdists
		icon = GFX_goal_MAL_the_council
		prerequisite = { focus = SUD_assessing_our_future }		
		relative_position_id = SUD_assessing_our_future
		x = 6
		y = 1
		cost = 5
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
				NOT = {
					has_completed_focus = SUD_unite_the_opposition
				}
			}		
		}
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = SUD_ali_abd_al_latif
			show_ideas_tooltip = SUD_abdallah_khalil							
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}	
	focus = { 
		id = SUD_strengthen_national_unity
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SUD_invite_the_mahdists focus = SUD_ansar_nationalism }		
		relative_position_id = SUD_invite_the_mahdists	
		x = -1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			swap_ideas = {
                remove_idea = SUD_unstable_nation
                add_idea = SUD_unstable_nation_2
            }
			add_ideas = PAK_Allah_and_State		
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}
	focus = { 
		id = SUD_galvanize_the_khatmiyya_movement
		text = SUD_the_khatmiyya_movement
		icon = GFX_focus_RAJ_lions_of_the_great_war
		prerequisite = { focus = SUD_strengthen_national_unity }		
		relative_position_id = SUD_strengthen_national_unity
		mutually_exclusive = { focus = SUD_neo_mahdist_government }
		x = 1
		y = 1
		cost = 10
		available = {
			fascism > 0.3
		}
		ai_will_do = {
            factor = 0
            modifier = {
                factor = 90
                has_government = fascism
            }
        }					
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			remove_ideas = SUD_unstable_nation_2
			add_timed_idea = { idea = nationalism days = 1395 }			
			add_war_support = 0.1
			army_experience = 25
			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}						
			
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP FOCUS_FILTER_POLITICAL}
	}
	focus = { 
		id = SUD_the_well_guided
		text = ADU_the_well_guided
		icon = GFX_goal_generic_madrasah_2_color
		prerequisite = { focus = SUD_galvanize_the_khatmiyya_movement }		
		relative_position_id = SUD_galvanize_the_khatmiyya_movement
		x = 0
		y = 2
		cost = 10
		available = {
			has_government = fascism	
		}	
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			add_country_leader_trait = mahdi			
			
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL } 
	}
	focus = {

		id = SUD_liberate_the_holy_land

		icon = GFX_focus_generic_attack_ethiopia
		prerequisite = { focus = SUD_the_well_guided }
		
		x = 0
		y = 1
		relative_position_id = SUD_the_well_guided
		
		cost = 10

		available = {
			is_subject = no
			has_government = fascism
		}
		
		completion_reward = {
			add_state_claim = 841
			add_state_claim = 840
			add_state_claim = 839
			add_state_claim = 838
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
                            state = 841
                            state = 840
                            state = 839
							state = 838
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}				
	focus = {
		id = SUD_reconquer_our_ancestral_homeland
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 1
		prerequisite = {
			focus = SUD_galvanize_the_khatmiyya_movement
		}
		relative_position_id = SUD_galvanize_the_khatmiyya_movement
		cost = 10

		ai_will_do = {
			factor = 2
		}
		available = {
			is_subject = no
		}
		
		bypass = {
			owns_state = 548
			owns_state = 904
			owns_state = 547
		}

		completion_reward = {
			add_country_leader_trait = warmonger
			add_state_claim = 548
			add_state_claim = 904
			add_state_claim = 547
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
                            state = 548
                            state = 904
                            state = 547
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	focus = {
		id = SUD_secure_central_africa
		icon = GFX_goal_generic_major_war
		x = 1
		y = 4
		prerequisite = {
			focus = SUD_reconquer_our_ancestral_homeland
			focus = SUD_marxist_pan_islamism
		}
		relative_position_id = SUD_reconquer_our_ancestral_homeland
		cost = 10
		available = {
			is_subject = no
			has_army_manpower = { size > 39999 }
			OR = {
				has_government = fascism
				has_government = communism
			}
		}	
		ai_will_do = {
			factor = 2
		}
		
		bypass = {
			owns_state = 660
			owns_state = 774
		}

		completion_reward = {
			add_state_claim = 660
			add_state_claim = 774
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
                            state = 660
                            state = 774
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	focus = {
		id = SUD_strike_against_the_opressors
		icon = GFX_goal_generic_attack_egypt
		cost = 10
		prerequisite = {
			focus = SUD_reconquer_our_ancestral_homeland focus = SUD_marxist_pan_islamism
		}
		relative_position_id = SUD_reconquer_our_ancestral_homeland
		x = -2
		y = 4
		will_lead_to_war_with = FRA
		available = {
			OR = {
				has_government = fascism
				has_government = communism	
			}	
			is_subject = no
			country_exists = EGY
			NOT = {
				is_in_faction_with = EGY
			}			
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = EGY
				}
				has_war_with = EGY
			}
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.25
				has_war = yes
			}
		}
		will_lead_to_war_with = EGY
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = EGY
				expire = 0
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }

	}	
	focus = { 
		id = SUD_topple_the_empire
		text = EGY_topple_the_oppressive_empire
		icon = GFX_focus_attack_britain
		prerequisite = { focus = SUD_secure_central_africa focus = SUD_strike_against_the_opressors }		
		relative_position_id = SUD_strike_against_the_opressors
		x = -1
		y = 1
		cost = 10
		available = {
			is_subject = no
			country_exists = ENG
			NOT = {
				is_in_faction_with = ENG
			}
			OR = {
				has_government = fascism
				has_government = communism
			}
			
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = ENG
				}
				has_war_with = ENG
			}
		}
		will_lead_to_war_with = ENG
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.25
				has_war = yes
			}
		}				
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = EGY
				expire = 0
			}																																			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION}
	}
	focus = { 
		id = SUD_panafricanism
		text = ETH_pan-africanism
		icon = GFX_focus_ETH_african_union
		prerequisite = { focus = SUD_topple_the_empire }
		prerequisite = { focus = SUD_secure_central_africa }		
		relative_position_id = SUD_topple_the_empire
		x = 2
		y = 1
		cost = 10
		available = {
			is_subject = no
		}	
		ai_will_do = {
			factor = 8
		}	

		completion_reward = {
			add_country_leader_trait = empire_builder																																							
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }
	}					
	focus = { 
		id = SUD_unite_the_opposition
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = SUD_assessing_our_future }
		mutually_exclusive = { focus = SUD_ansar_nationalism }	
		relative_position_id = SUD_assessing_our_future
		x = -1
		y = 1
		cost = 10
		available = {
			
		}	
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 90
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}				
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.10
			}
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}	
			add_timed_idea = {
				idea = ADU_popular_front
				days = 1095				
			}	
			add_stability = -0.05					
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}
	focus = { 
		id = SUD_undermine_theocracy
		icon = GFX_goal_CRO_muslims_excluded
		prerequisite = { focus = SUD_unite_the_opposition }		
		relative_position_id = SUD_unite_the_opposition
		x = 0
		y = 1
		cost = 5
		available = {
					
		}	
		ai_will_do = {
			factor = 5
		}				
		completion_reward = {
			swap_ideas = {
                remove_idea = SUD_unstable_nation
                add_idea = SUD_unstable_nation_2
            }			
			hidden_effect = {
				set_temp_variable = {
					var = SUD_popular_front_var
					value = party_popularity@democratic
				}
				add_to_temp_variable = {
					var = SUD_popular_front_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = SUD_popular_front_var
					value = -0.3
				}				
			}	
			add_popularity = {
				ideology = neutrality
				popularity = SUD_popular_front_var
			}
			custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = SUD_democratic_guy
            show_ideas_tooltip = SUD_communist_guy			
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = { 
		id = SUD_embrace_modernity
		icon = GFX_focus_research
		prerequisite = { focus = SUD_unite_the_opposition }		
		relative_position_id = SUD_unite_the_opposition
		x = -2
		y = 1
		cost = 10
		available = {
					
		}	
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			add_ideas = military_research_grants_idea
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}	
	focus = { 
		id = SUD_mass_strikes
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = SUD_undermine_theocracy }		
		relative_position_id = SUD_undermine_theocracy
		x = 0
		y = 1
		cost = 5

		available = {
			set_temp_variable = {
				var = SUD_popular_front_var
				value = party_popularity@democratic
			}
			add_to_temp_variable = {
				var = SUD_popular_front_var
				value = party_popularity@communism
			}
			custom_trigger_tooltip = {
				tooltip = ADU_united_front_tt
				check_variable = { SUD_popular_front_var > 0.5 }
			}																	
		}	
		ai_will_do = {
			factor = 6
		}				
		completion_reward = {
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			add_political_power = 50
			add_stability = -0.05	
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL}
	}
	focus = {
		id = SUD_support_the_spanish_republic
		available = {
			SPR_scw_in_progress = yes
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_country_exist_tt
				    country_exists = SPR
			    }
			    custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_at_peace_tt
					NOT = { has_war_with = SPR }
			    }
			}
		}

		bypass = {
			OR = {
				has_global_flag = scw_over
				if = {
					limit = { NOT = { has_global_flag = spanish_civil_war } }
					NOT = { country_exists = SPR }
				}
				else = {
					NOT = { country_exists = SPD }
				}
			}
		}
		prerequisite = { focus = SUD_mass_strikes }
		icon = GFX_goal_generic_spanish_civil_war_soldier
		x = 3
		y = 1

		relative_position_id = SUD_mass_strikes
		cost = 10
		completion_reward = {
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_effect_tooltip = POR_spanish_republic_tt
			}
			SPD = {
				add_opinion_modifier = {
				    target = ROOT
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 1000
				add_equipment_to_stockpile = {
					type = infantry_equipment
					producer = ROOT
					amount = 2000
				}
			}
			add_timed_idea = {
				idea = r56_CHL_spanish_civil_war_involvement
				days = 1095
			}
			add_manpower = -1000
			
			set_rule = { can_send_volunteers = yes }
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_SPA_CIVIL_WAR FOCUS_FILTER_MILITARY_EQUIPMENT }
	}	
	focus = { 
		id = SUD_secure_parlementarianism
		icon = GFX_goal_generic_multipartism
		prerequisite = { focus = SUD_mass_strikes }
		mutually_exclusive = { focus = SUD_secure_security_ministers }	
		relative_position_id = SUD_mass_strikes
		x = -1
		y = 1
		cost = 10
		available = {
			democratic > 0.4
			NOT = {
				OR = {
					has_idea_with_trait = communist_revolutionary
					has_idea_with_trait = fascist_demagogue
				}
			}
		}	
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			remove_ideas = SUD_unstable_nation_2
			add_popularity = {
				ideology = democratic
				popularity = 0.10
			}
			add_stability = 0.05	
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}
	focus = { 
		id = SUD_secure_international_protection
		icon = GFX_ENG_alliance
		prerequisite = { focus = SUD_secure_parlementarianism }		
		relative_position_id = SUD_secure_parlementarianism
		x = -1
		y = 1
		cost = 10
		available = {
			has_government = democratic
			is_in_faction = no
			is_puppet = no
			any_other_country = {
				is_major = yes
				has_government = democratic
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
			}
		}	
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			add_war_support = 0.05
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						NOT = {
                            has_completed_focus = ENG_a_change_in_course
                            has_completed_focus = ENG_visit_germany
						}
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = ENG
							has_war_with = ROOT
						}
					}
				}
				ENG = {
                    add_opinion_modifier = { target = ROOT modifier = medium_increase }
					country_event = { id = generic.2 }
				}
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}	
			
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ALLIANCE}
	}
	focus = {
		id = SUD_deterrence
		icon = GFX_goal_generic_defence
		prerequisite = { focus = SUD_mass_strikes }
		x = 1
		y = 1
		relative_position_id = SUD_mass_strikes
		cost = 10
	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = deterrence
		}
	}	
	
	focus = { 
		id = SUD_secure_security_ministers
		icon = GFX_goal_generic_communist_loyalty
		prerequisite = { focus = SUD_mass_strikes }
		mutually_exclusive = { focus = SUD_secure_parlementarianism }	
		relative_position_id = SUD_mass_strikes
		x = 1
		y = 1
		cost = 5
		available = {
			communism > 0.4
			NOT = {
				OR = {
					has_idea_with_trait = democratic_reformer
					has_idea_with_trait = fascist_demagogue
				}
			}
		}
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			remove_ideas = SUD_unstable_nation_2
			if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = {
						has_intelligence_agency = yes
					}
				}
				create_intelligence_agency = yes				
			}
			add_tech_bonus = {
                name = mp_tech_bonus_name
				bonus = 1
				uses = 2
				category = military_police_tech
			}			
			
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ESPIONAGE }
	}
	focus = {
		id = SUD_tip_the_balance_of_power
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SUD_secure_security_ministers }
		x = 1
		y = 1
		relative_position_id = SUD_secure_security_ministers
		cost = 5
	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = yes

		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = -0.08
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			set_politics = {
				ruling_party = communism
			}
			add_ideas = political_commissars_focus					
		}
	}
    focus = {
        id = SUD_red_army
        icon = GFX_postive_heroism
        prerequisite = { focus = SUD_tip_the_balance_of_power }
        x = 2
        y = 1
        relative_position_id = SUD_tip_the_balance_of_power
    
        cost = 10
    
        ai_will_do = {
            factor = 12
        }
    
        available = {
			has_government = communism
        }
    
        search_filters = { FOCUS_FILTER_MANPOWER }
        completion_reward = {
			add_ideas = GEN_red_army
        }
    }	
	focus = {
		id = SUD_enforce_atheism
		icon = GFX_goal_CRO_muslims_excluded
		x = -1
		y = 2
		prerequisite = {
			focus = SUD_tip_the_balance_of_power
		}
		mutually_exclusive = { focus = SUD_marxist_pan_islamism }
		relative_position_id = SUD_tip_the_balance_of_power
		cost = 10

		ai_will_do = {
			factor = 2
		}

		
		bypass = {
		
		}

		completion_reward = {
			add_ideas = MEX_church_power_1
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}
	}

	focus = {
		id = SUD_join_comintern
		text = ALG_comintern_membership
		icon = GFX_focus_chi_mission_to_the_soviet_union
		x = 0
		y = 1
		prerequisite = {
			focus = SUD_enforce_atheism
		}
		available = {
			is_in_faction = no
			is_puppet = no
            has_government = communism
            SOV = {
				has_government = communism
				is_faction_leader = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		relative_position_id = SUD_enforce_atheism
		cost = 10

		ai_will_do = {
			factor = 2
		}

		
		bypass = {
		
		}

		completion_reward = {
			SOV = {
				country_event = generic.2
			}
		}
		search_filters = {FOCUS_FILTER_ALLIANCE}
	}		

	focus = {
		id = SUD_redistribution_of_wealth
		text = ENG_for_the_good_of_the_revolution
		icon = GFX_focus_generic_concessions
		x = 0
		y = 1
		prerequisite = {
			focus = SUD_tip_the_balance_of_power
		}
		relative_position_id = SUD_tip_the_balance_of_power
		cost = 10

		ai_will_do = {
			factor = 2
		}
		available = {
			has_government = communism
		}

		completion_reward = {
			add_ideas = ENG_for_the_good_of_the_revolution_idea
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}
	}
	focus = {
		id = SUD_marxist_pan_islamism
		text = ADU_marxist_pan_islamism
		icon = GFX_focus_generic_soviet_politics
		x = 2
		y = 1
		prerequisite = {
			focus = SUD_redistribution_of_wealth
		}
		mutually_exclusive = { focus = SUD_enforce_atheism }
		relative_position_id = SUD_redistribution_of_wealth
		cost = 10

		ai_will_do = {
			factor = 2
		}
		will_lead_to_war_with = SPR
		will_lead_to_war_with = POR
		available = {
			r56_script_i_am_sane = yes
			is_subject = no
		}
		
		bypass = {
			has_war_with = SPR
			has_war_with = POR
		}

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ADU_mustafa_edige_kirimal
			add_political_power = 200
			add_stability = 0.05
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}
	}		
	focus = { 
		id = SUD_industrial_modernization
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = SUD_secure_security_ministers focus = SUD_secure_parlementarianism }		
		relative_position_id = SUD_secure_security_ministers
		x = -1
		y = 1
		cost = 10
		available = {

		}	
		ai_will_do = {
			factor = 2
		}				
		completion_reward = {
			add_ideas = SLO_civilian_production	
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY}
	}
	focus = {
		id = SUD_steel_production_plan
		icon = GFX_focus_generic_steel
		cost = 5.00
		prerequisite = {
			focus = SUD_industrial_modernization
		}
		x = 0
		y = 1
		relative_position_id = SUD_industrial_modernization
		completion_reward = {
			add_tech_bonus = {
                name = construction_tech_bonus
				bonus = 1
				uses = 1
				category = steel_tech
			}
			random_owned_state = {
				limit = {
					is_core_of = SUD
					state_population > 50000
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = steel_mill
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = SUD
					state_population > 50000
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = steel_mill
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STEEL }

	}
}								
