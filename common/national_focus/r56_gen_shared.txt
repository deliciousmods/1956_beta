#By Narzgel
#Edit for Rt56 by Spicyalfredo and Thinking_Waffle et al#

	shared_focus = {
		id = GEN_begin_industrial_buildup
		icon = GFX_goal_generic_industrial_planning
		x = 35
		y = 0
		offset = {
			x = 23
			y = 0
			trigger = {
				has_focus_tree = albania_focus		#they lose their non-generic political branch when overthrown by YUG
			}
		}
		offset = {
			x = 20
			y = 0
			trigger = {
				tag = SAU
			}
		}
		offset = {
			x = -11
			y = 0
			trigger = {
				tag = DEN
			}
		}
		cost = 5
		available_if_capitulated = yes

		ai_will_do = {
			factor = 3.2
			modifier = {
				factor = 0
				date < 1936.10.1
				num_of_controlled_states < 3
			}
			modifier = {
				add = -0.1
				num_of_controlled_states < 3
			}
		}
		available = {
			if = { #so YUG releasing all their puppets wont get 50 factories
				limit = {
					is_ai = yes
					OR = {
						original_tag = SLV
						original_tag = CRO
						original_tag = BOS
						original_tag = MNT
						original_tag = TRA
						original_tag = MAC
						original_tag = KOS
						original_tag = HRZ
						AND = {
							is_dynamic_country = yes
							OR = {
								has_cosmetic_tag = dalmatia
								has_cosmetic_tag = vojvodina
							}
						}
					}
				}
				NOT = {
					is_subject_of = YUG
				}
			}
		}
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = GEN_improve_state_infrastructure
		icon = GFX_goal_generic_road
		prerequisite = { focus = GEN_begin_industrial_buildup }
		x = -2
		y = 1
		relative_position_id = GEN_begin_industrial_buildup

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 3.1
			modifier = {
				factor = 0
				date < 1937.6.1
				num_of_controlled_states < 3
			}
			modifier = {
				factor = 7
				tag = MEN
			}
			modifier = {
				add = -0.1
				num_of_controlled_states < 3
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		available = {
			num_of_controlled_states > 0
		}

		completion_reward = {
			if = {
				limit = {
					num_of_controlled_states < 2
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_expand_civilian_manufacturers #Expand Civilian Manufactures
		icon = GFX_goal_generic_building_our_industry
		prerequisite = { focus = GEN_improve_state_infrastructure }
		x = 0
		y = 1
		relative_position_id = GEN_improve_state_infrastructure

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				date < 1938.6.1
				num_of_controlled_states < 3
			}
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			has_tech = construction1
			num_of_controlled_states > 0
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = industrial_complex level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_improve_civilian_industry_capacity #Improve Civilian Industry Capacity
		icon = GFX_goal_generic_light_industry
		prerequisite = { focus = GEN_expand_civilian_manufacturers }
		x = 0
		y = 1
		relative_position_id = GEN_expand_civilian_manufacturers

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				date < 1938.6.1
				num_of_controlled_states < 3
			}
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			has_tech = construction2
			num_of_controlled_states > 0
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					original_tag = HUN
				}
				unlock_decision_category_tooltip = HUN_gyor_program_decision_category
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = industrial_complex level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_new_schools_and_modern_teaching #New Schools & Modern Teaching
		icon = GFX_goal_generic_education
		prerequisite = { focus = GEN_improve_civilian_industry_capacity }

		x = -1
		y = 1
		relative_position_id = GEN_improve_civilian_industry_capacity

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		complete_tooltip = {
			add_research_slot = 1
		}
		available = {
			num_of_controlled_states > 0
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_poorly_educated_population
					}
					remove_ideas = SOV_poorly_educated_population
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_reveal_mineral_wealth #Reveal Mineral Wealth
		icon = GFX_focus_continuous_extraction
		prerequisite = { focus = GEN_improve_civilian_industry_capacity }
		x = 1
		y = 1
		relative_position_id = GEN_improve_civilian_industry_capacity

		cost = 10

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_RESOURCES }

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 7
				tag = MEN
			}
		}

		available = {
			OR ={
				num_of_controlled_states > 1
				AND = {
					has_tech = excavation3
			 		num_of_controlled_states > 0
			 	}
			}
		}

		completion_reward = {
			if = {
				limit = {
					num_of_controlled_states < 2
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 1
				uses = 2
				category = excavation_tech
			}
		}
	}


	shared_focus = {
		id = GEN_focus_on_synthetic_processing
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GEN_reveal_mineral_wealth }
		prerequisite = { focus = GEN_new_schools_and_modern_teaching }
		x = -2
		y = 1
		relative_position_id = GEN_reveal_mineral_wealth

		cost = 10

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_RESOURCES }

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}

		available = {
			num_of_controlled_states > 0
			has_tech = synth_oil_experiments
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = JAP_coal_liquification
				bonus = 1
				uses = 1
				category = synth_resources
			}
		}
	}


	shared_focus = {
		id = GEN_reform_the_taxes #Reform The Taxes
		icon = GFX_goal_generic_price_controls
		prerequisite = { focus = GEN_reveal_mineral_wealth }
		x = 0
		y = 1
		relative_position_id = GEN_reveal_mineral_wealth

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		available = {
			if = {
				limit = {
					tag = OMA
				}
				has_completed_focus = OMA_establish_the_rial
			}
		}

		completion_reward = {
			add_ideas = GEN_Autarky_I
			#Banana Republic removal
			if = {
				limit = {
					original_tag = GUA
					has_idea =	GUA_banana_republic
				}
				remove_ideas = GUA_banana_republic
			}
			if = {
				limit = {
					has_idea =	ELS_banana_republic
					original_tag = ELS
				}
				remove_ideas = ELS_banana_republic
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_expand_military_capacity
		icon = GFX_goal_generic_munitions_factories
		prerequisite = { focus = GEN_begin_industrial_buildup }
		x = 3
		y = 1

		relative_position_id = GEN_begin_industrial_buildup

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2.5
			modifier = {
				add = 7.5
				ROOT = {
					has_war = yes
				}
			}
			modifier = {
				factor = 0
				date < 1939.1.1
				OR = {
					# we dont want chinese minors to go crazy on slots early since they get eaten
					tag = GXC
					tag = YUN
					tag = SHX
					tag = XSM
					tag = DEN

					# we also dont want tiny nations to go crazy with slots right away
					num_of_controlled_states < 3
				}
			}
		}

		available = {
			num_of_controlled_states > 0
			has_tech = basic_machine_tools
		}

		completion_reward = {
			# hidden_effect = { #Setup so AI can do next two focuses
			# 	every_other_country = {
			# 		limit = {
			# 			OR = {
			# 				original_tag = GER
			# 				original_tag = BAY
			# 				original_tag = PRE
			# 				original_tag = WGR
			# 				original_tag = SOV
			# 				original_tag = USA
			# 			}
			# 			exists = yes
			# 			has_government = ROOT
			# 			NOT = {
			# 				has_war_with = ROOT
			# 			}
			# 		}
			# 		ROOT = {
			# 			add_ai_strategy = {
			# 				type = befriend
			# 				id = PREV
			# 				value = 50
			# 			}
			# 		}
			# 	}
			# }
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_invite_german_investors
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = GEN_expand_military_capacity }
		mutually_exclusive = { focus = GEN_invite_american_investors }
		mutually_exclusive = { focus = GEN_invite_soviet_planners }
		x = 0
		y = 1
		relative_position_id = GEN_expand_military_capacity

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 6
				has_government = fascism
			}
		}

		available = {
			num_of_controlled_states > 0
			any_other_country = {
				OR = {
					original_tag = GER
					original_tag = BAY
					original_tag = PRE
					original_tag = WGR
				}
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
				has_government = ROOT
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						original_tag = GER
						original_tag = BAY
						original_tag = PRE
						original_tag = WGR
					}
					has_capitulated = no
					has_government = ROOT
					if = {
						limit = {
							ROOT = {
								is_ai = no
							}
						}
						has_opinion = { target = ROOT value > 49 }
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 50
				# }
				# add_ai_strategy = {
				# 	type = send_volunteers_desire
				# 	id = ROOT
				# 	value = 100
				# }
				# add_ai_strategy = {
				# 	type = equipment_market_trade_desire
				# 	id = ROOT
				# 	value = 100
				# }
				# if = {
				# 	limit = {
				# 		is_historical_focus_on = no
				# 	}
				# 	ROOT = {
				# 		add_ai_strategy = {
				# 			type = befriend
				# 			id = PREV
				# 			value = 25
				# 		}
				# 		add_ai_strategy = {
				# 			type = equipment_market_trade_desire
				# 			id = PREV
				# 			value = 50
				# 		}
				# 	}
				# }
				add_opinion_modifier = { target = ROOT modifier = small_increase }
				PREV = {
					add_opinion_modifier = { target = PREV modifier = gen_invited_german }
				}
			}

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_invite_soviet_planners
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = GEN_expand_military_capacity }
		mutually_exclusive = { focus = GEN_invite_german_investors }
		mutually_exclusive = { focus = GEN_invite_american_investors }
		x = 2
		y = 1
		relative_position_id = GEN_expand_military_capacity

		allow_branch = {
			NOT = {
				original_tag = SOV
			}
		}

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 6
				has_government = communism
			}
		}

		available = {
			num_of_controlled_states > 0
			any_other_country = {
				original_tag = SOV
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
				has_government = ROOT
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			# every_other_country = {
			# 	limit = {
			# 		original_tag = SOV
			# 		has_capitulated = no
			# 		has_government = ROOT
			# 		has_opinion = { target = ROOT value > 49 }
			# 		NOT = {
			# 			has_war_with = ROOT
			# 		}
			# 	}
			# 	add_ai_strategy = {
			# 		type = support
			# 		id = ROOT
			# 		value = 50
			# 	}
			# 	add_ai_strategy = {
			# 		type = send_volunteers_desire
			# 		id = ROOT
			# 		value = 100
			# 	}
			# 	add_ai_strategy = {
			# 		type = equipment_market_trade_desire
			# 		id = ROOT
			# 		value = 100
			# 	}
			# 	if = {
			# 		limit = {
			# 			is_historical_focus_on = no
			# 		}
			# 		ROOT = {
			# 			add_ai_strategy = {
			# 				type = befriend
			# 				id = PREV
			# 				value = 25
			# 			}
			# 			add_ai_strategy = {
			# 				type = equipment_market_trade_desire
			# 				id = PREV
			# 				value = 50
			# 			}
			# 		}
			# 	}
			# 	add_opinion_modifier = { target = ROOT modifier = small_increase }
			# 	PREV = {
			# 		add_opinion_modifier = { target = PREV modifier = gen_invited_soviet }
			# 	}
			# }

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_soviet_heavy_industry
		icon = GFX_goal_generic_industrial_unionism
		prerequisite = { focus = GEN_invite_soviet_planners }
		x = 0
		y = 2
		relative_position_id = GEN_invite_soviet_planners

		cost = 7.9

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		available = {
			num_of_controlled_states > 0
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
			any_other_country = {
				original_tag = SOV
				has_capitulated = no				
				has_government = ROOT
				NOT = { has_war_with = ROOT }
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}			
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_german_heavy_industry_expansion
		icon = GFX_goal_generic_industrial_plan
		prerequisite = { focus = GEN_invite_german_investors }
		x = 0
		y = 2

		relative_position_id = GEN_invite_german_investors

		cost = 7.9

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		available = {
			num_of_controlled_states > 0
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
			any_other_country = {
				OR = {
					original_tag = GER
					original_tag = BAY
					original_tag = PRE
					original_tag = WGR
				}
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
				has_government = ROOT
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_invite_american_investors
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = GEN_expand_military_capacity }
		x = -2
		y = 1
		relative_position_id = GEN_expand_military_capacity
		mutually_exclusive = { focus = GEN_invite_german_investors }
		mutually_exclusive = { focus = GEN_invite_soviet_planners }
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 6
				has_government = democratic
			}
		}

		available = {
			num_of_controlled_states > 0
			any_other_country = {
				original_tag = USA
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
				has_government = ROOT
				NOT = {
					has_war_with = ROOT
				}
			}
		}


		completion_reward = {
			# every_other_country = {
			# 	limit = {
			# 		original_tag = USA
			# 		has_capitulated = no
			# 		has_government = ROOT
			# 		has_opinion = { target = ROOT value > 49 }
			# 		NOT = {
			# 			has_war_with = ROOT
			# 		}
			# 	}
			# 	add_ai_strategy = {
			# 		type = support
			# 		id = ROOT
			# 		value = 50
			# 	}
			# 	add_ai_strategy = {
			# 		type = send_volunteers_desire
			# 		id = ROOT
			# 		value = 100
			# 	}
			# 	add_ai_strategy = {
			# 		type = equipment_market_trade_desire
			# 		id = ROOT
			# 		value = 100
			# 	}
			# 	if = {
			# 		limit = {
			# 			is_historical_focus_on = no
			# 		}
			# 		ROOT = {
			# 			add_ai_strategy = {
			# 				type = befriend
			# 				id = PREV
			# 				value = 25
			# 			}
			# 			add_ai_strategy = {
			# 				type = equipment_market_trade_desire
			# 				id = PREV
			# 				value = 50
			# 			}
			# 		}
			# 	}
			# 	add_opinion_modifier = { target = ROOT modifier = small_increase }
			# 	PREV = {
			# 		add_opinion_modifier = { target = PREV modifier = gen_invited_soviet }
			# 	}
			# }

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}

			add_opinion_modifier = { target = USA modifier = gen_invited_american }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_american_air_industry_expansion
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = GEN_invite_american_investors }
		x = 0
		y = 2

		relative_position_id = GEN_invite_american_investors

		cost = 7.9

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		available = {
			num_of_controlled_states > 0
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
			any_other_country = {
				original_tag = USA
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
				has_government = ROOT
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_encorage_foreign_investors #Encourage Foreign Investments
		icon = GFX_goal_industrial_investment
		prerequisite = { focus = GEN_invite_american_investors focus = GEN_invite_german_investors focus = GEN_invite_soviet_planners }
		x = 3
		y = 1
		relative_position_id = GEN_invite_american_investors

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				date < 1938.6.1
				num_of_controlled_states < 2
			}
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			num_of_controlled_states > 1
			has_tech = construction3
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = { #Coreless handout
				limit = {
					num_of_controlled_states > 0
					any_owned_state = {
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				add_offsite_building = { type = industrial_complex level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_automobile_industry
		icon = GFX_goal_generic_automobile
		prerequisite = { focus = GEN_invite_american_investors focus = GEN_invite_german_investors focus = GEN_invite_soviet_planners}
		x = 1
		y = 1
		relative_position_id = GEN_invite_american_investors

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		available = {
			num_of_controlled_states > 0
			has_tech = motorised_infantry
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_completed_focus = GEN_invite_german_investors
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = GER }
			}
			if = {
				limit = {
					has_completed_focus = GEN_invite_american_investors
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = USA }
			}

			if = {
				limit = {
					has_completed_focus = GEN_invite_soviet_planners
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = SOV }
			}

			custom_effect_tooltip = GEN_Automobile_tt
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_EQUIPMENT }
	}


	shared_focus = {
		id = GEN_purchase_foreign_licenses
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = GEN_american_air_industry_expansion focus = GEN_german_heavy_industry_expansion focus = GEN_soviet_heavy_industry}
		x = 1
		y = 2
		offset = {
			x = -1
			y = 0
			trigger = {
				tag = SOV
			}
		}
		relative_position_id = GEN_automobile_industry

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		complete_tooltip = {
			add_ideas = GEN_Licences_I
			custom_effect_tooltip = GEN_Licences_EXPL
		}

		completion_reward = {
			add_ideas = GEN_Licences_I
			custom_effect_tooltip = GEN_Licences_EXPL
		}
	}


	shared_focus = {
		id = GEN_industrial_boom
		icon = GFX_goal_pp

		x = 43
		y = 0
		offset = {
			x = 16
			y = 0
			trigger = {
				has_focus_tree = ukraine_focus
			}
		}
		offset = {
			x = -33
			y = 0
			trigger = {
				OR = {
					has_focus_tree = monaco_focus
					has_focus_tree = san_marino_focus
				}
			}
		}
		offset = {
			x = -36
			y = 0
			trigger = {
				has_focus_tree = liechtenstein_focus
			}
		}		
		offset = {
			x = 22
			y = 0
			trigger = {
				has_focus_tree = albania_focus		#they lose their non-generic political branch when overthrown by YUG
			}
		}
		offset = {
			x = 6
			y = 0
			trigger = {
				tag = SAU
			}
		}
		offset = {
			x = -5
			y = 0
			trigger = {
				tag = PRU
			}
		}
		offset = {
			x = 15
			y = 0
			trigger = {
				tag = VNZ
			}
		}		
		offset = {
			x = -6
			y = 0
			trigger = {
				tag = FRI
			}
		}
		offset = {
			x = -15
			y = 3
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		offset = {
			x = 10
			y = 0
			trigger = {
				tag = IRE
			}
		}
		offset = {
			x = -10
			y = 0
			trigger = {
				tag = MEX
			}
		}
		offset = {
			x = -40
			y = 5
			trigger = {
				tag = KAZ
			}
		}
		cost = 10
		available = {
			num_of_controlled_states > 1
			num_of_factories > 45
			if = {
				limit = {
					tag = ISR
				}
				has_completed_focus = ISR_win
			}
		}
		available_if_capitulated = yes
		continue_if_invalid = yes

		ai_will_do = {
			factor = 25
		}

		completion_reward = {
			add_political_power = 125
			add_stability = 0.05
			add_timed_idea = { idea = GEN_Industrial_Boom_I days = 365 }
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		
	}


	shared_focus = {
		id = GEN_nation_wide_industrial_expansion
		icon = GFX_goal_generic_expanded_production
		prerequisite = { focus = GEN_industrial_boom }
		x = -1
		y = 1
		relative_position_id = GEN_industrial_boom

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
		}

		available = {
			has_tech = construction3
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_modernize_railway_system
		icon = GFX_goal_generic_train_2
		prerequisite = { focus = GEN_industrial_boom }
		x = 1
		y = 1
		relative_position_id = GEN_industrial_boom

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
		}

		available = {
			num_of_controlled_states > 3
		}

		completion_reward = {
			add_ideas = r56_USA_mobilize_the_railways_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_modern_electronic_devices
		icon = GFX_goal_generic_control_the_radio
		prerequisite = { focus = GEN_modernize_railway_system }
		prerequisite = { focus = GEN_nation_wide_industrial_expansion }
		x = 1
		y = 1
		relative_position_id = GEN_nation_wide_industrial_expansion

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = GEN_modern_electronic_devices
				bonus = 1
				uses = 2
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_new_research_complex
		icon = GFX_focus_research2
		prerequisite = { focus = GEN_modern_electronic_devices }
		x = 0
		y = 1
		relative_position_id = GEN_modern_electronic_devices

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}

		available = {
			amount_research_slots < 6
		}

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Aviation_Effort
		icon = GFX_goal_generic_airport
		x = 14
		y = 0
		offset = {
			x = 30
			y = 0
			trigger = {
				has_focus_tree = albania_focus		#they lose their non-generic political branch when overthrown by YUG
			}
		}
		offset = {
			x = -4
			y = 0
			trigger = {
				tag = FRI
			}
		}
		offset = {
			x = 14
			y = 0
			trigger = {
				tag = SAU
			}
		}
		offset = {
			x = 35
			y = 0
			trigger = {
				has_focus_tree = r56_india
			}
		}
		offset = {
			x = 10
			y = 0
			trigger = {
				has_focus_tree = ukraine_focus
			}
		}
		offset = {
			x = 36
			y = 0
			trigger = {
				has_focus_tree = kazakhstan_focus
			}
		}
		offset = { #remove when air for WLS done
			x = 8
			y = 0
			trigger = {
				tag = WLS
			}
		}
		offset = {
			x = 52
			y = 0
			trigger = {
				tag = LIE
			}
		}
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			air_experience = 25

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Foreign_Design
		icon = GFX_focus_generic_copy_plane_designs
		prerequisite = { focus = GEN_Aviation_Effort }
		mutually_exclusive = { focus = GEN_Own_Design }

		offset = {
			x = 0
			y = 0
			trigger = {
				tag = SOV
			}
		}

		x = 4
		y = 1

		relative_position_id = GEN_Aviation_Effort

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {		#Swiss DLC tree check
				factor = 0.2
				original_tag = SWI
				has_dlc = "By Blood Alone"
				NOT = {
					has_global_flag = SWI_R56_focus_tree
				}
				SWI_someone_is_about_to_be_angry = yes 
			}
		}
		
		completion_reward = {
			air_experience = 50
			if = {				#Swiss unique DLC tree effects here	- Fantom
				limit = {
					original_tag = SWI
					has_dlc = "By Blood Alone"
					NOT = {
						has_global_flag = SWI_R56_focus_tree
					}
				}
				SWI_add_suspicious_prep_opinion = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_aircraft_england
		icon = GFX_goal_fighters_uk
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_japanese focus = GEN_aircraft_italian focus = GEN_aircraft_german }
		x = -5
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			ENG = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				ENG = { has_government = ROOT }
			}
			not = {
				has_War_with = ENG
			}
		}

		completion_reward = {
			ENG = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = GEN_aircraft_england
					bonus = 1.0
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = GEN_aircraft_england
					bonus = 1
					uses = 1
					category = medium_air
				}
				create_equipment_variant = {
					name = "Gloster Gladiator"
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_ENG_early_fighter_medium"
				}
				create_equipment_variant = {
					name = "Fairey Gordon"
					type = small_plane_cas_airframe_0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = light_mg_2x
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_ENG_CAS1_medium"
				}
				add_opinion_modifier = { target = ENG modifier = GEN_aircraft_england }
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = early_fighter
					technology = fighter1
					technology = fighter2
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = cv_early_fighter
					technology = cv_fighter1
				}

				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = naval_bomber1
					technology = naval_bomber2
				}
			add_opinion_modifier = { target = ENG modifier = GEN_aircraft_england }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_aircraft_american
		icon = GFX_goal_fighters_usa
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_england focus = GEN_aircraft_soviet focus = GEN_aircraft_japanese focus = GEN_aircraft_italian focus = GEN_aircraft_german }
		x = -3
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			USA = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
		}

		completion_reward = {
			USA = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = GEN_aircraft_american
					bonus = 1.0
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = GEN_aircraft_american
					bonus = 1.0
					uses = 1
					category = medium_air
				}
				create_equipment_variant = {
					name = "P-36A"
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = light_mg_2x
						engine_type_slot = engine_2_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_USA_fighter1_medium"
				}
				create_equipment_variant = {
					name = "SBU Corsair"
					type = small_plane_cas_airframe_0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_1_1x
						special_type_slot_1 = dive_brakes_small
					}
					icon = "GFX_USA_CAS1_medium"
				}
				add_opinion_modifier = { target = USA modifier = GEN_aircraft_american }
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = early_fighter
					technology = fighter1
					technology = fighter2
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = cv_early_fighter
					technology = cv_fighter1
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = naval_bomber1
					technology = naval_bomber2
				}
				add_opinion_modifier = { target = USA modifier = GEN_aircraft_american }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_aircraft_soviet
		icon = GFX_goal_fighters_soviet
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_american focus = GEN_aircraft_england focus = GEN_aircraft_japanese focus = GEN_aircraft_italian focus = GEN_aircraft_german }
		x = -1
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			SOV = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = communism
				has_government = neutrality
				SOV = { has_government = ROOT }
			}
			not = {
				has_War_with = SOV
			}
		}

		completion_reward = {
			SOV = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}
		if = {
			limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = GEN_aircraft_soviet
					bonus = 1.0
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = GEN_aircraft_soviet
					bonus = 1.0
					uses = 1
					category = medium_air
				}
				create_equipment_variant = {
					name = "I-16"  #Really shit fucking planes whoever created them at PDX needs to be shot.
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_2x
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
					}	
				icon = "GFX_SOV_fighter1_medium"
				}
				create_equipment_variant = {
				name = "I-15 Shaika" #USSR Doesn't start with CAS
					type = small_plane_cas_airframe_0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_SOV_CAS1_medium"
				}
			}
		else = {	
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = strategic_bomber1
				technology = strategic_bomber2
			}
		}
			add_opinion_modifier = { target = SOV modifier = GEN_aircraft_soviet }
		}	
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_aircraft_japanese
		icon = GFX_goal_fighters_japan
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_england focus = GEN_aircraft_italian focus = GEN_aircraft_german }
		x = 1
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			JAP = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = fascism
				has_government = neutrality
				JAP = { has_government = ROOT }
			}
			not = {
				has_War_with = JAP
			}
		}

		completion_reward = {
			JAP = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" } 
					add_tech_bonus = {
						name = GEN_aircraft_japanese
						bonus = 1.0
						uses = 1
						category = light_air
					}
					add_tech_bonus = {
						name = GEN_aircraft_japanese
						bonus = 1.0
						uses = 1
						category = medium_air
					}	
				create_equipment_variant = {
						name = "Ki-10"
						type = small_plane_airframe_0
						modules = {
							fixed_main_weapon_slot = light_mg_2x
							fixed_auxiliary_weapon_slot_1 = empty
							engine_type_slot = engine_1_1x
							special_type_slot_1 = empty
						}
				icon = "GFX_JAP_early_fighter_medium"
				}
				create_equipment_variant = {
						name = "Ki-3"
						type = small_plane_cas_airframe_0
						modules = {
							fixed_main_weapon_slot = bomb_locks
							fixed_auxiliary_weapon_slot_1 = empty
							engine_type_slot = engine_1_1x
							special_type_slot_1 = lmg_defense_turret
						}
				icon = "GFX_JAP_CAS1_medium"
				}
			}	
			else = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = cv_early_fighter
				technology = cv_fighter1
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = naval_bomber1
				technology = naval_bomber2
				}
			}
			add_opinion_modifier = { target = JAP modifier = GEN_aircraft_japanese }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_aircraft_italian
		icon = GFX_goal_fighters_italy
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_japanese focus = GEN_aircraft_england focus = GEN_aircraft_german }
		x = 3
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			ITA = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = fascism
				has_government = neutrality
				ITA = { has_government = ROOT }
			}
			NOT = {
				has_War_with = ITA
			}
		}

		completion_reward = {
			ITA = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}

		if = {
			limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = GEN_aircraft_italian
					bonus = 1.0
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = GEN_aircraft_italian
					bonus = 1.0
					uses = 1
					category = medium_air
				}
			create_equipment_variant = {
				name = "Ca.111"
				type = small_plane_cas_airframe_0
				modules = {
					fixed_main_weapon_slot = small_bomb_bay
					fixed_auxiliary_weapon_slot_1 = empty
					engine_type_slot = engine_1_1x
					special_type_slot_1 = empty
				}
				icon = "GFX_ITA_iw_small_airframe_medium"
			}
			create_equipment_variant = {
				name = "CR.32"
				type = small_plane_airframe_0
				modules = {
					fixed_main_weapon_slot = light_mg_2x
					fixed_auxiliary_weapon_slot_1 = empty
					engine_type_slot = engine_1_1x
					special_type_slot_1 = empty
				}
				icon = "GFX_ITA_CAS1_medium"
			}	
		}
		else = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = CAS1
				technology = CAS2
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = tactical_bomber1
				technology = tactical_bomber2
			}	
		}
			add_opinion_modifier = { target = ITA modifier = GEN_aircraft_italian }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_aircraft_german
		icon = GFX_goal_fighters_germany
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_japanese focus = GEN_aircraft_italian focus = GEN_aircraft_england }
		x = 5
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			if = {
				limit = {
					NOT = {
						OR = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
						}
					}
				}
				NOT = { has_government = communism }
				OR = {
						GER = {
							exists = yes
							has_capitulated = no
							if = {
								limit = {
									ROOT = {
										is_ai = no
									}
								}
								has_opinion = { target = ROOT value > 49 }
							}
							not = {
								has_War_with = ROOT
							}
						}
						WGR = {
							exists = yes
							has_capitulated = no
							if = {
								limit = {
									ROOT = {
										is_ai = no
									}
								}
								has_opinion = { target = ROOT value > 49 }
							}
							not = {
								has_War_with = ROOT
							}
						}
				}
			}
			if = {
				limit = {
					OR = {
						original_tag = GER
						original_tag = WGR
						original_tag = DDR
						original_tag = PRE
					}
				}
				always = no
			}
		}

	completion_reward = {
		if = {
			limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = GEN_aircraft_german
					bonus = 1.0
					uses = 1
					category = light_air	
				}
				add_tech_bonus = {
					name = GEN_aircraft_german
					bonus = 1.0
					uses = 1
					category = medium_air
				}
				create_equipment_variant = {
					name = "Bf-109D"
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_2_1x
						special_type_slot_1 = empty
					}
					icon = "GFX_GER_fighter1_medium"
				}
				create_equipment_variant = {
					name = "Ju-87" #Best CAS - Source:Trust me bro
					type = small_plane_cas_airframe_0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = empty
						engine_type_slot = engine_2_1x
						special_type_slot_1 = lmg_defense_turret
						special_type_slot_2 = dive_brakes_small
					}
					icon = "GFX_GER_CAS1_medium"
				}
		}
		else = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = CAS1
				technology = CAS2
				}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = tactical_bomber1
				technology = tactical_bomber2
			}	
		}
		add_opinion_modifier = { target = GER modifier = GEN_aircraft_german }
		if = {
			limit = {
				GER = {
					has_government = ROOT
					NOT = {
						original_tag = GER
						original_tag = WGR
						original_tag = DDR
						original_tag = PRE
					}
				}
			}
			GER = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
							}
						}
						custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
						set_country_flag = SWI_can_buy_planes_from_them_flag
					}
				}
			}
			if = {
				limit = {
					WGR = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
							original_tag = PRE
						}
					}
				}
				add_opinion_modifier = { target = WGR modifier = GEN_aircraft_german }
				WGR = {
					# add_ai_strategy = {
					# 	type = support
					# 	id = ROOT
					# 	value = 25
					# }
				}
				if = {			#Swiss DLC decision where they can buy planes from various countries
					limit = {
						ROOT = {
							original_tag = SWI
							has_dlc = "By Blood Alone"
							NOT = {
								has_global_flag = SWI_R56_focus_tree
							}
						}
					}
					custom_effect_tooltip = SWI_purchase_foreign_planes_unlock_TT
					set_country_flag = SWI_can_buy_planes_from_them_flag
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Fighter_Competition
		icon = GFX_goal_zero_blue
		prerequisite = { focus = GEN_aircraft_german focus = GEN_aircraft_england focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_italian focus = GEN_aircraft_japanese}
		x = 1
		y = 1
		relative_position_id = GEN_aircraft_american
		mutually_exclusive = { focus = GEN_Bomber_Competition }
		cost = 10
		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_england
					NOT = { has_War_with = ENG }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					amount = 20
					producer = ENG
				}
				add_equipment_to_stockpile = {
					type = cv_small_plane_airframe_1
					amount = 15
					producer = ENG
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_england
					NOT = { has_War_with = ENG }
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe
					amount = 20
					producer = ENG
				}
				add_equipment_to_stockpile = {
					type = cv_fighter_equipment_1
					amount = 15
					producer = ENG	
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_american
					NOT = { has_War_with = USA }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					amount = 20
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = cv_small_plane_airframe_1
					amount = 15
					producer = USA
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_american
					NOT = { has_War_with = USA }
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe
					amount = 20
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = cv_fighter_equipment_0
					amount = 15
					producer = USA
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_soviet
					NOT = { has_War_with = SOV }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					amount = 20
					producer = SOV
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_soviet
					NOT = { has_War_with = SOV }
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe
					amount = 20
					producer = SOV
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_german
					NOT = { has_War_with = GER }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {	 
					type = small_plane_airframe
					producer = GER
					amount = 20
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_german
					NOT = { has_War_with = GER }
				}
				add_equipment_to_stockpile = {	 
					type = small_plane_airframe
					producer = GER
					amount = 20
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_italian
					NOT = { has_war_with = ITA }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					amount = 15
					producer = ITA
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_italian
					NOT = { has_war_with = ITA }
				}
				add_equipment_to_stockpile = {	 
					type = small_plane_airframe
					producer = ITA
					amount = 15
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = GEN_aircraft_england }
					NOT = { has_completed_focus = GEN_aircraft_soviet }
					NOT = { has_completed_focus = GEN_aircraft_german }
					NOT = { has_completed_focus = GEN_aircraft_italian }
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = GEN_Fighter_Competition_EXPL	
				add_tech_bonus = {
					name = GEN_Fighter_Competition
					bonus = 1.0
					uses = 1
					category = light_fighter
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GEN_aircraft_england }
					NOT = { has_completed_focus = GEN_aircraft_soviet }
					NOT = { has_completed_focus = GEN_aircraft_german }
					NOT = { has_completed_focus = GEN_aircraft_italian }
				}
				add_tech_bonus = {
					name = GEN_Fighter_Competition
					bonus = 1.0
					uses = 1
					technology = fighter2
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }	
	}	

	shared_focus = {
		id = GEN_Bomber_Competition
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GEN_aircraft_german focus = GEN_aircraft_england focus = GEN_aircraft_american focus = GEN_aircraft_soviet focus = GEN_aircraft_italian focus = GEN_aircraft_japanese}
		x = 3
		y = 1
		relative_position_id = GEN_aircraft_american
		mutually_exclusive = { focus = GEN_Fighter_Competition }
		cost = 10
		available_if_capitulated = yes
		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_england
					NOT = { has_War_with = ENG }
					has_dlc = "By Blood Alone"
				}	
				add_equipment_to_stockpile = {
					type = small_plane_cas_airframe_0
					amount = 15
					producer = ENG
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_england
					NOT = { has_War_with = ENG }
				}
				add_equipment_to_stockpile = {
					type = CAS_equipment_1
					amount = 15
					producer = ENG
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_soviet
					NOT = { has_War_with = SOV }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_1
					amount = 15
					producer = SOV
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GEN_aircraft_soviet
					NOT = { has_War_with = SOV } 
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment_1
					amount = 15
					producer = SOV
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_german
					NOT = { has_War_with = GER }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_cas_airframe_0
					amount = 15
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_0
					amount = 15
					producer = GER
				}
			}
			else_if = {
				limit =  { 
					has_completed_focus = GEN_aircraft_german
					NOT = { has_War_with = GER }
				}
				add_equipment_to_stockpile = {
					type = CAS_equipment_1
					amount = 15
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment
					amount = 10
					producer = GER
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_aircraft_italian
					NOT = { has_war_with = ITA }
					has_dlc = "By Blood Alone"
				}
				add_equipment_to_stockpile = {
					type = small_plane_cas_airframe_0
					amount = 15
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_0
					amount = 15
					producer = ITA
				}
			}
			else_if = {
				limit = { 
					has_completed_focus = GEN_aircraft_italian
					NOT = { has_war_with = ITA }
				}
				add_equipment_to_stockpile = {
					type = CAS_equipment_1
					amount = 15
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment
					amount = 10
					producer = ITA
				}
			}
			if = { 
				limit = {
					NOT = { has_completed_focus = GEN_aircraft_england }
					NOT = { has_completed_focus = GEN_aircraft_soviet }
					NOT = { has_completed_focus = GEN_aircraft_german }
					NOT = { has_completed_focus = GEN_aircraft_italian }
					has_dlc = "By Blood Alone"	
				}
				custom_effect_tooltip = GEN_Fighter_Competition_EXPL
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					category = medium_air
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GEN_aircraft_england }
					NOT = { has_completed_focus = GEN_aircraft_soviet }
					NOT = { has_completed_focus = GEN_aircraft_german }
					NOT = { has_completed_focus = GEN_aircraft_italian }
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					category = cas_bomber
					category = tactical_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Close_Air_Support
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GEN_Fighter_Competition }
		x = -2
		y = 1
		relative_position_id = GEN_Bomber_Competition

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		completion_reward = { # Boosting BBA Generics Fuck Non-BBA Users.
			if = { 
				limit = {
       				has_dlc = "By Blood Alone" 
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					ahead_reduction = 1
					category = medium_air
				}
			}
			else = {
				add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				category = cas_bomber
				}
			}		
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_aircraft_design_cooperation
		icon = GFX_focus_manufacturers_cooperation
		prerequisite = { focus = GEN_Fighter_Competition focus = GEN_Bomber_Competition }
		relative_position_id = GEN_Bomber_Competition
		x = -1
		y = 2

		cost = 5

		available = {
			is_in_faction = yes
		}

		available_if_capitulated = yes

		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_air_development_group
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_German_Rocketry
		icon = GFX_focus_rocketry
		prerequisite = { focus = GEN_aircraft_german }
		x = 0
		y = 1
		relative_position_id = GEN_aircraft_german

		cost = 10

		available_if_capitulated = yes

		available = {
			GER	= { has_tech = experimental_rockets }
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Shared_Air_Doctrine
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = GEN_Fighter_Competition focus = GEN_Bomber_Competition }
		x = 0
		y = 1
		relative_position_id = GEN_Bomber_Competition

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			air_experience = 25

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
			}

			#custom_effect_tooltip = GEN_Generals_Other_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Own_Design
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = GEN_Aviation_Effort }
		mutually_exclusive = { focus = GEN_Foreign_Design }
		x = -3
		y = 1

		relative_position_id = GEN_Aviation_Effort

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {		#Swiss DLC tree check
				factor = 0.2
				original_tag = SWI
				has_dlc = "By Blood Alone"
				NOT = {
					has_global_flag = SWI_R56_focus_tree
				}
				SWI_someone_is_about_to_be_angry = yes 
			}
		}

		completion_reward = {
			add_ideas = HUN_indigenous_designs
			if = {				#Swiss unique DLC tree effects here	- Fantom
				limit = {
					original_tag = SWI
					has_dlc = "By Blood Alone"
					NOT = {
						has_global_flag = SWI_R56_focus_tree
					}
				}
				SWI_add_suspicious_prep_opinion = yes
			}
		}
	}


	shared_focus = {
		id = GEN_Own_Fighter
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = GEN_Own_Design }
		x = -1
		y = 2
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			if = { 
			limit = {
       	 	has_dlc = "By Blood Alone"
			}
			add_tech_bonus = {
				name = fighter_bonus
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = light_air
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					category = light_fighter
					}		
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Own_Bomber
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GEN_Own_Design }
		x = 0
		y = 1
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			if = { 
				limit = {
					has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					ahead_reduction = 1
					category = heavy_air
					}
				}
			else = {
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					category = tactical_bomber
					category = cas_bomber
					}
				}
			}
			search_filters = { FOCUS_FILTER_RESEARCH }
		}
	shared_focus = {
		id = GEN_Own_Naval_Bomber
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GEN_Own_Design }
		x = 1
		y = 2
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			if = { 
				limit = {
       		 	has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					name = medium_airframe
					bonus = 1
					uses = 1
					ahead_reduction = 1
					category = medium_air
				}
			}
			else = {
				add_tech_bonus = {
					name = nav_bomber_bonus
					bonus = 1
					uses = 1
					category = naval_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Own_Air_Doctrine
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = GEN_Own_Fighter focus = GEN_Own_Bomber focus = GEN_Own_Naval_Bomber }
		x = -1
		y = 1
		relative_position_id = GEN_Own_Naval_Bomber

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 25

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}

			#custom_effect_tooltip = GEN_Generals_Other_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Naval_Effort
		icon = GFX_focus_generic_shipbuilding
		x = 27
		y = 0
		offset = {
			x = 7
			y = 0
			trigger = {
				has_focus_tree = albania_focus		#they lose their non-generic political branch when overthrown by YUG
			}
		}
		offset = {
			x = 15
			y = 0
			trigger = {
				tag = SAU
			}
		}
		offset = {
			x = 36
			y = 0
			trigger = {
				has_focus_tree = ukraine_focus
			}
		}		
		offset = {
			x = 36
			y = 0
			trigger = {
				has_focus_tree = r56_india
			}
		}
		offset = {
			x = -6
			y = 3
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		offset = {
			x = 37
			y = 0
			trigger = {
				has_focus_tree = kazakhstan_focus
			}
		}
		offset = { #remove when naval for WLS done
			x = 9
			y = 0
			trigger = {
				tag = WLS
			}
		}
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
			if = {
				limit = {
					tag = ISR
				}
				has_completed_focus = ISR_win
			}
		}

		complete_tooltip = {
			navy_experience = 25
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}

		completion_reward = {
			navy_experience = 25
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}

			add_equipment_to_stockpile = { type = convoy_1 amount = 10 }

			#custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Small_Navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = GEN_Naval_Effort }
		mutually_exclusive = { focus = GEN_Sea_Dominance }
		x = -1
		y = 1
		relative_position_id = GEN_Naval_Effort
		cost = 7.9

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_trade_interdiction
				cost_reduction = 0.5
				uses = 2
				category = trade_interdiction_tree
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Submarine
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GEN_Small_Navy }

		x = -1
		y = 1
		relative_position_id = GEN_Small_Navy

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1
				uses = 1
				category = ss_tech
			}

			#custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_stealth_upgrades
		icon = GFX_goal_navy_schematics
		prerequisite = { focus = GEN_Submarine  }
		relative_position_id = GEN_Submarine
		x = 0
		y = 1

		cost = 8

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		ai_will_do = {
			factor = 1
		}

		bypass = {
			#
		}

		cancel_if_invalid = yes

		completion_reward = {
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1
				uses = 1
				technology = basic_submarine_snorkel
				technology = improved_submarine_snorkel
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Sea_Dominance
		icon = GFX_goal_sea_navy
		prerequisite = { focus = GEN_Naval_Effort }
		mutually_exclusive = { focus = GEN_Small_Navy }

		x = 1
		y = 1
		relative_position_id = GEN_Naval_Effort

		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = fleet_in_being_bonus
				cost_reduction = 0.5
				uses = 2
				category = fleet_in_being_tree
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Study_Ships
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = GEN_Sea_Dominance }
		x = 2
		y = 1
		relative_position_id = GEN_Sea_Dominance

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 100
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = cv_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = ca_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = dd_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Ships_American
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = GEN_Study_Ships }

		x = -1
		y = 1
		relative_position_id = GEN_Study_Ships

		cost = 5

		available_if_capitulated = yes

		available = {
			USA = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
		}


		completion_reward = {
			USA = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
			}
			add_ideas = GEN_american_ship_production_methods
			add_opinion_modifier = { target = USA modifier = gen_ships_american }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Ships_England
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = GEN_Study_Ships }
		x = 1
		y = 1
		relative_position_id = GEN_Study_Ships

		cost = 5

		available_if_capitulated = yes

		available = {
			ENG = {
				exists = yes
				has_capitulated = no
				if = {
					limit = {
						ROOT = {
							is_ai = no
						}
					}
					has_opinion = { target = ROOT value > 49 }
				}
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				ENG = { has_government = ROOT }
			}
			not = {
				has_War_with = ENG
			}
		}

		completion_reward = {
			ENG = {
				# add_ai_strategy = {
				# 	type = support
				# 	id = ROOT
				# 	value = 25
				# }
			}
			add_ideas = ENG_escort_effort_focus

			add_opinion_modifier = { target = ENG modifier = gen_ships_british }
		}
	}


	shared_focus = {
		id = GEN_Dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = GEN_Small_Navy focus = GEN_Sea_Dominance }
		x = -1
		y = 2
		relative_position_id = GEN_Sea_Dominance

		cost = 10

		available_if_capitulated = yes

		available = {
			has_tech = construction2
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Carrier
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = GEN_Dockyards }
		x = 1
		y = 1
		relative_position_id = GEN_Dockyards
		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = cv_tech
			}

			custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Navy_Aircrafts
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GEN_Carrier }

		x = 0
		y = 2
		relative_position_id = GEN_Carrier

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 0.5
				uses = 2
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 1
		}
	}


	shared_focus = {
		id = GEN_Battleship
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GEN_Dockyards }
		x = -1
		y = 1
		relative_position_id = GEN_Dockyards
		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = bb_tech

			}
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = bc_tech
			}

			#custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Destroyer
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GEN_Battleship focus = GEN_Carrier }
		x = -1
		y = 1
		relative_position_id = GEN_Battleship
		cost = 3.6

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 1
				category = dd_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Cruisers
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = GEN_Battleship focus = GEN_Carrier }
		x = 1
		y = 1
		relative_position_id = GEN_Battleship
		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = ca_tech

			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Naval_Doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = GEN_Cruisers focus = GEN_Destroyer focus = GEN_Battleship }
		x = 0
		y = 2
		relative_position_id = GEN_Battleship

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = fleet_in_being_bonus
				cost_reduction = 0.5
				uses = 1
				category = fleet_in_being_tree
			}
			custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_State_Matter
		icon = GFX_focus_generic_self_management
		x = 49
		y = 0
		cost = 5
		available = {
			if = {
				limit = {
					tag = ISR
				}
				has_completed_focus = ISR_win
			}
		}
		available_if_capitulated = yes
		offset = {
			x = -14
			y = 3
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		offset = {
			x = -33
			y = 0
			trigger = {
				OR = {
					has_focus_tree = monaco_focus
					has_focus_tree = san_marino_focus
				}
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				AND = {
					original_tag = PAR
					date < 1936.4.4
				}
			}
			modifier = {
				factor = 0
				AND = {
					original_tag = PAR
					is_historical_focus_on = yes
					date < 1940.1.1 #Higinio Mornigo rise to power
				}
			}
		}

		completion_reward = {
			add_political_power = 75
			hidden_effect = {
				set_country_flag = R56_i_have_generic_politics
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Collectivist_Ethos
		icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_State_Matter }
		mutually_exclusive = { focus = GEN_Liberty_Ethos}

		available = {
		}

		x = -2
		y = 1
		relative_position_id = GEN_State_Matter

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 10
			modifier = {
				has_global_flag = rt56_old_school
				add = 0.1
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					is_puppet = yes
					NOT = {
						OVERLORD = {
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
					}
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = MON
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = TAN
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = PAR
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = {
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
			}
			modifier = {
				factor = 0
				original_tag = MPL
			}
			modifier = {
				factor = 0
				has_civil_war = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			modifier = {
				factor = 0.01
				AND = {
					is_historical_focus_on = no
					is_puppet = yes
					NOT = {
						OVERLORD = {
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
					}
				}
			}
			modifier = {
				factor = 0.02
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 10
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						AND = {
							is_in_faction_with = SOV
							SOV = {
								has_government = communism
							}
						}
						tag = DDR
					}
				}
			}

		}

		completion_reward = {
		# As AI uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = communism
		#		popularity = 0.03
		#	}
		#	add_popularity = {
		#		ideology = fascism
		#		popularity = 0.03
		#	}
			add_political_power = 25
			add_timed_idea = { idea = collectivist_ethos_focus days = 1395 }
		}
	}


	shared_focus = {
		id = nationalism_focus
		icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_Collectivist_Ethos }
		mutually_exclusive = { focus = internationalism_focus }


		available = {
			OR = {
				fascism > 0.15
				has_government = neutrality
			}
		}

		x = -1
		y = 1
		relative_position_id = GEN_Collectivist_Ethos

		cost = 10

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				is_historical_focus_on = no
			}
			modifier = {
				factor = 10
				AND = {
					is_puppet = yes
					OVERLORD = {
						has_government = fascism
					}
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = PAR
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					original_tag = PAR
					is_historical_focus_on = yes
				}
				ROOT = { #bad guy but not a 'bad guy'
					# add_ai_strategy = {
					# 	type = befriend
					# 	id = GER
					# 	value = -999
					# }
					# add_ai_strategy = {
					# 	type = befriend
					# 	id = ITA
					# 	value = -999
					# }
					# add_ai_strategy = {
					# 	type = befriend
					# 	id = JAP
					# 	value = -999
					# }
					# add_ai_strategy = {
					# 	type = befriend
					# 	id = USA
					# 	value = 125
					# }
					# add_ai_strategy = {
					# 	type = befriend
					# 	id = ENG
					# 	value = 10
					# }
				}
			}
		# As AI uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = fascism
		#		popularity = 0.04
		#	}
			add_timed_idea = { idea = nationalism days = 1395 }
		}
	}


	shared_focus = {
		id = militarism
		icon = GFX_goal_extensive_conscription_fascism
		prerequisite = { focus = nationalism_focus }
		x = 0
		y = 2
		relative_position_id = nationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = fascism
		}

		completion_reward = {
			army_experience = 25
			add_war_support = 0.05

			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			add_ideas = GEN_militarism_I
		}
		search_filters = {  FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}

	shared_focus = {
		id = SMI_sideline_the_council
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = militarism }
		mutually_exclusive = { focus = SMI_ideological_consensus }
		x = -3
		y = 1
		relative_position_id = militarism

		cost = 10

		available_if_capitulated = yes

		allow_branch = {
			original_tag = SMI
		}

		available = {
			has_government = fascism
			has_country_leader_with_trait = SMI_fascist_anti_parlementarianism
			fascism > 0.8
			has_army_manpower = {
				size > 20000
			}			
			any_unit_leader = {  
				not = {
					has_trait = JAP_communist_sympathizer
				}
			}			
		}

		completion_reward = {
			
					add_political_power = 100
			add_command_power = 50
			IF = {
				limit = { 
					any_unit_leader = { 
						has_trait = harsh_leader 
						not = {
							has_trait = JAP_communist_sympathizer
						}
					}
				}
				ROOT = {
					random_unit_leader = {
						limit = { 
							has_trait = harsh_leader
							not = {
								has_trait = JAP_communist_sympathizer
							}
						}
						if = {
							limit = {
								is_field_marshal = no
							}
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = {
								ideology = fascism_ideology
								expire = "1965.1.1.1"
								traits = {	
									army_connections
									radical_anti_communist
								}								
							}						
							promote_leader = yes 
						}	
					}
					
				}
			}
			else_if = {
				limit = { 
					any_unit_leader = { 
						has_trait = trait_reckless 
						not = {
							has_trait = JAP_communist_sympathizer
						}
					}
				}
				ROOT = {
					random_unit_leader = {
						limit = { 
							has_trait = trait_reckless
							not = {
								has_trait = JAP_communist_sympathizer
							}
						}
						add_country_leader_role = {
							country_leader = {
								ideology = fascism_ideology
								expire = "1965.1.1.1"
								traits = {	
									army_connections
									radical_anti_communist
								}		
							}
							promote_leader = yes 
						}
						
					}
				}
			}			
			ELSE = {
				ROOT = {
					random_unit_leader = {
						add_country_leader_role = {
							country_leader = {
								ideology = fascism_ideology
								expire = "1965.1.1.1"
								traits = {	
									army_connections
									radical_anti_communist
								}
							}
							promote_leader = yes 
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}	
			random_list = {
				20 = {
					add_country_leader_trait = baron_of_terror	
				}
				20 = {
					add_country_leader_trait = fascistic_paramilitarist	
				}
				20 = {
					add_country_leader_trait = mobilization_specialist	
				}
				20 = {
					add_country_leader_trait = POL_army_logistics	
				}
				20 = {
					add_country_leader_trait = mobilization_proponent	
				}
				20 = {
					add_country_leader_trait = authoritarian_centralizer	
				}																						
				
			}					
		}
		search_filters = {  FOCUS_FILTER_POLITICAL}
	}
	shared_focus = {
		id = SMI_ideological_consensus
		icon = GFX_focus_generic_fascist_propaganda
		prerequisite = { focus = militarism }
		mutually_exclusive = { focus = SMI_sideline_the_council }
		x = -5
		y = 1
		relative_position_id = militarism

		cost = 10

		available_if_capitulated = yes

		allow_branch = {
			original_tag = SMI
		}

		available = {
			has_government = fascism
			has_country_leader_with_trait = SMI_fascist_anti_parlementarianism
			fascism > 0.8
			has_army_manpower = {
				size > 20000
			}			
			
		}

		completion_reward = {
			
			add_political_power = 100
			add_command_power = 50
			swap_ruler_traits = { remove = SMI_fascist_anti_parlementarianism add = great_council }
								
		}
		search_filters = {  FOCUS_FILTER_POLITICAL}
	}



	shared_focus = {
		id = GEN_Organise_Youth
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = nationalism_focus focus = internationalism_focus }
		x = 1
		y = 1
		relative_position_id = nationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = fascism
				has_government = communism
			}
		}

		completion_reward = {
			add_political_power = 25
			if = {
				limit = {
					has_completed_focus = nationalism_focus
				}
				ROOT = {
					add_ideas = GEN_Organise_Youth_Fas_I
				}
			}
			else_if = {
				limit = {
					has_completed_focus = internationalism_focus
				}
				ROOT = {
					add_ideas = GEN_Organise_Youth_Com_I
				}
			}
			else = {
				effect_tooltip = {
					add_ideas = GEN_Organise_Youth_Fas_I
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = internationalism_focus
		icon = GFX_goal_support_communism #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_Collectivist_Ethos }
		mutually_exclusive = { focus = nationalism_focus }


		available = {
			NOT  = {
				original_tag = SOV
			}
			if = {
				limit = { original_tag = CHI }
				has_government = communism
			}
			else = {
				OR = {
					communism > 0.15
					has_government = neutrality
				}
			}
		}

		x = 1
		y = 1
		relative_position_id = GEN_Collectivist_Ethos

		cost = 10

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				factor = 10
				OR = {
					AND = {
						is_puppet = yes
						OVERLORD = {
							has_government = communism
						}
					}
					AND = {
						is_in_faction_with = SOV
						SOV = {
							has_government = communism
						}
					}
					tag = DDR
				}
			}
			modifier = {
				factor = 0.2
				AND = {
					is_in_faction = yes
					faction_leader = {
						has_government = fascism
					}
				}
			}
			modifier = {
				factor = 0.2
				any_enemy_country = {
					is_faction_leader = yes
					has_government = communism
				}
			}						
			modifier = {
				factor = 11
				is_historical_focus_on = yes
				OR = {
					original_tag = MON
					original_tag = TAN
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = { has_government = communism }
			}
			modifier = {
				factor = 2
				is_historical_focus_on = no
			}
		}

		completion_reward = {
		# As IA uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = communism
		#		popularity = 0.05
		#	}
			add_timed_idea = { idea = internationalism days = 1395 }
			if = {
				limit = {
					has_idea = rt56_far_left_suppression
				}
				remove_ideas = rt56_far_left_suppression
			}
		}
	}


	shared_focus = {
		id = GEN_Com_Generals
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = internationalism_focus }
		x = 1
		y = 1
		relative_position_id = internationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = communism
		}

		completion_reward = {
			custom_effect_tooltip = JAP_approach_the_young_officers_tt

			add_ideas = political_commissars_focus

			hidden_effect = {
				create_corps_commander = {
					traits = { JAP_communist_sympathizer infantry_officer }
					skill = 3
					attack_skill = 2
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 1
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer infantry_officer }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 2
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer trait_reckless cavalry_officer }
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
			}
		}
	}


	shared_focus = {
		id = GEN_Collectivist_Propaganda
		icon = GFX_goal_communist_factory
		prerequisite = { focus = internationalism_focus }
		x = 0
		y = 2
		relative_position_id = internationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = communism
		}

		completion_reward = {
			add_political_power = 25
			add_ideas = GEN_Collectivist_Propaganda_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Conquer
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Intervene focus = GEN_Isolated }
		x = -2
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = no
				factor = 3
			}
			modifier = {
				has_global_flag = r56_argo_ai
				factor = 100
			}
		}

		available = {
			OR = { #More of a double check on the AI
				has_government = fascism
				has_government = communism
			}
		}

		completion_reward = {
			add_named_threat = { threat = 0.1 name = GEN_seeking_expansive_t }
			add_war_support = 0.05

			add_ideas = GEN_Conquer_I

			ROOT = {
				every_neighbor_country = {
					limit = {
						exists = yes
						has_war = no
						has_capitulated = no
						is_major = no
						NOT = {
							is_in_faction_with = ROOT
						}
					}
					news_event = {
						hours = 8
						id = r56.news_event.10
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Intervene
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Conquer focus = GEN_Isolated }
		x = 0
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = no
				factor = 3
			}
		}

		completion_reward = {
			add_war_support = 0.05
			add_ideas = GEN_Intervene_I
			if = {
				limit = {
					is_historical_focus_on = no
				}
				if = {
					limit = {
						ROOT = {
							has_government = fascism
							has_war = no
						}
						GER = {
							has_government = fascism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						# add_ai_strategy = {
						# 	type = support
						# 	id = GER
						# 	value = 100
						# }
						# add_ai_strategy = {
						# 	type = send_volunteers_desire
						# 	id = GER
						# 	value = 100
						# }
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = fascism
							has_war = no
						}
						ITA = {
							has_government = fascism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						# add_ai_strategy = {
						# 	type = support
						# 	id = ITA
						# 	value = 75
						# }
						# add_ai_strategy = {
						# 	type = send_volunteers_desire
						# 	id = ITA
						# 	value = 75
						# }
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
							has_war = no
						}
						SOV = {
							has_government = communism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						# add_ai_strategy = {
						# 	type = support
						# 	id = SOV
						# 	value = 100
						# }
						# add_ai_strategy = {
						# 	type = send_volunteers_desire
						# 	id = SOV
						# 	value = 100
						# }
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
							has_war = no
						}
						PRC = {
							has_government = communism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						# add_ai_strategy = {
						# 	type = support
						# 	id = PRC
						# 	value = 75
						# }
						# add_ai_strategy = {
						# 	type = send_volunteers_desire
						# 	id = PRC
						# 	value = 75
						# }
					}
				}
			}

		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Isolated
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Conquer focus = GEN_Intervene }
		x = 2
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 3
			}
		}

		available = {
			NOT = {
				is_subject = yes
				has_war = yes
			}
		}

		completion_reward = {
			add_stability = 0.05

			if = {
				limit = { NOT = { has_idea = neutrality_idea } }
				add_ideas = neutrality_idea
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Forced_Conscription
		icon = GFX_goal_generic_army
		prerequisite = { focus = GEN_Conquer focus = GEN_Intervene }
		x = 1
		y = 1
		relative_position_id = GEN_Conquer

		cost = 5

		available_if_capitulated = yes

		available = {
			OR = {
				has_war = yes
				threat > 0.25
			}
			NOT = {
				OR = {
					has_idea = service_by_requirement
					has_idea = scraping_the_barrel
					has_idea = all_adults_serve
				}
			}
		}

		completion_reward = {
			add_ideas = service_by_requirement
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}

	shared_focus = {
		id = GEN_Fanaticism
		icon = GFX_goal_generic_army_elite
		prerequisite = { focus = GEN_Isolated focus = GEN_Intervene focus = GEN_Conquer }
		x = 0
		y = 2
		relative_position_id = GEN_Intervene

		cost = 10

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = fascism
				has_government = communism
			}
		}

		offset = {
			x = 1
			y = -1
			trigger = {
				has_focus_tree = oman_focus
			}
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	shared_focus = {
		id = GEN_Liberty_Ethos
		icon = GFX_goal_generic_liberty
		prerequisite = { focus = GEN_State_Matter }
		mutually_exclusive = { focus = GEN_Collectivist_Ethos }
		x = 2
		y = 1
		relative_position_id = GEN_State_Matter

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				OVERLORD = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 0.01
				AND = {
					is_historical_focus_on = no
					is_puppet = yes
					OVERLORD = {
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
			}
			modifier = {
				factor = 0.15
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 0
				has_civil_war = yes
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				factor = 10
				is_historical_focus_on = no
				is_puppet = no
				tag = WGR
			}
		}

		completion_reward = {
			add_political_power = 75
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Strenghten_Monarchy
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = GEN_Liberty_Ethos }
		mutually_exclusive = { focus = GEN_Strenghten_Democracy}
		x = -1
		y = 1
		relative_position_id = GEN_Liberty_Ethos

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					has_government = neutrality
				}
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = no
				is_puppet = no
				NOT = {
					has_government = neutrality
				}
			}
			modifier = {
				factor = 6
				has_government = neutrality
			}
		}

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			add_timed_idea = { idea = GEN_Strenghten_Monarchy_I days = 1395 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}


	shared_focus = {
		id = GEN_Strenghten_Democracy
		icon = GFX_goal_support_democracy
		prerequisite = { focus = GEN_Liberty_Ethos }
		mutually_exclusive = { focus = GEN_Strenghten_Monarchy}
		x = 1
		y = 1
		relative_position_id = GEN_Liberty_Ethos

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					OR = {
						has_government = democratic
						tag = PRU
					}
				}
			}
			modifier = {
				factor = 0.05
				is_historical_focus_on = no
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0.2
				is_historical_focus_on = no
				is_puppet = no
				NOT = {
					has_government = democratic
				}
			}
			modifier = {
				factor = 2
				has_government = democratic
			}
			modifier = {
				factor = 10
				is_historical_focus_on = no
				is_puppet = no
				tag = WGR
			}
		}

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			add_timed_idea = { idea = GEN_Strenghten_Democracy_I days = 1395 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}


	shared_focus = {
		id = GEN_Defence_Act
		icon = GFX_goal_arrests
		prerequisite = { focus = GEN_Strenghten_Monarchy focus = GEN_Strenghten_Democracy }
		x = 1
		y = 1
		relative_position_id = GEN_Strenghten_Monarchy

		cost = 10

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		completion_reward = {
			add_popularity = { ideology = fascism popularity = -0.05 }
			add_popularity = { ideology = communism popularity = -0.05 }

			add_ideas = GEN_Defence_Act_I
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = neutrality_focus
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = GEN_Defence_Act }
		mutually_exclusive = { focus = interventionism_focus }
		x = 1
		y = 1
		relative_position_id = GEN_Defence_Act

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				tag = AUS
			}
		}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			if = {
				limit = { NOT = { has_idea = neutrality_idea } }
				add_ideas = neutrality_idea
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = interventionism_focus
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = GEN_Defence_Act }
		mutually_exclusive = { focus = neutrality_focus }
		x = -1
		y = 1
		relative_position_id = GEN_Defence_Act

		cost = 10

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_idea = neutrality_idea
			}
		}

		completion_reward = {
			add_political_power = 75
			add_war_support = 0.05

			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			set_rule = { can_send_volunteers = yes }
			#AI Stuff
			if = {
				limit = {
					is_historical_focus_on = yes
					has_country_flag = monroe_doctrine
					ROOT = {
						NOT = {
							has_government = fascism
						}
						has_war = no
					}
					USA = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					# add_ai_strategy = {
					# 	type = support
					# 	id = USA
					# 	value = 50
					# }
					# add_ai_strategy = {
					# 	type = send_volunteers_desire
					# 	id = USA
					# 	value = 1
					# }
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
					has_country_flag = monroe_doctrine
					ROOT = {
						NOT = {
							has_government = fascism
						}
						has_war = no
					}
					USA = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					# add_ai_strategy = {
					# 	type = support
					# 	id = USA
					# 	value = 125
					# }
					# add_ai_strategy = {
					# 	type = send_volunteers_desire
					# 	id = USA
					# 	value = 100
					# }
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
					NOT = {
						has_country_flag = monroe_doctrine
					}
					ROOT = {
						has_government = democratic
						has_war = no
					}
					ENG = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					# add_ai_strategy = {
					# 	type = support
					# 	id = ENG
					# 	value = 25
					# }
					# add_ai_strategy = {
					# 	type = send_volunteers_desire
					# 	id = ENG
					# 	value = 25
					# }
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Brigades
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = interventionism_focus }
		x = 0
		y = 2
		relative_position_id = interventionism_focus

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Brigades_I
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Military_Build
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = neutrality_focus focus = interventionism_focus }
		mutually_exclusive = { focus = GEN_Anti_Invasion }
		x = -1
		y = 1
		relative_position_id = neutrality_focus

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Military_Build_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = GEN_Anti_Invasion
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = neutrality_focus }
		mutually_exclusive = { focus = GEN_Military_Build }
		x = 1
		y = 1
		relative_position_id = neutrality_focus

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Anti_Invasion_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = why_we_fight
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = GEN_Anti_Invasion focus = GEN_Military_Build focus = GEN_Brigades }
		available = {
			OR = {
				threat > 0.50
				has_defensive_war = yes
			}
		}

		continue_if_invalid = yes

		x = 1
		y = 2
		relative_position_id = GEN_Military_Build
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_why_we_fight_I
			custom_effect_tooltip = why_we_fight_effect
			hidden_effect = {
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					set_rule = { can_create_factions = yes }
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}
