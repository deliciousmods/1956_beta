focus_tree = {
	id = china_nationalist_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = CHI
		}
	}
	default = no
	continuous_focus_position = {
		x = 0
		y = 1200
	}
	focus = {
		id = KMT_internal_stability
		icon = GFX_goal_kmt_china
		mutually_exclusive = { focus = KMT_external_defense }
		available = {
			NOT = { has_war_with = JAP }
			OR = {
				country_exists = SHX
				country_exists = YUN
				country_exists = XSM
				country_exists = GXC
				country_exists = TNG
				country_exists = SIK
				country_exists = PRC
			}
		}
		cancel = {
			has_war_with = JAP
		}
		
		x = 2
		y = 0
		cost = 5
		
		ai_will_do = {
			factor = 1
			modifier = {
				JAP = {
					OR = {
						focus_progress = {
							focus = JAP_support_the_kodoha_faction
							progress > 0.6
						}
						focus_progress = {
							focus = JAP_the_unthinkable_option
							progress > 0.4
						}						
						focus_progress = {
							focus = JAP_strengthen_civilian_government
							progress > 0.4
						}
					}
				
				}
				factor = 25
			}			
			modifier = {
				is_historical_focus_on = yes
				NOT = {
					JAP = {
						OR = {
							focus_progress = {
								focus = JAP_support_the_kodoha_faction
								progress > 0.6
							}
							focus_progress = {
								focus = JAP_the_unthinkable_option
								progress > 0.4
							}
						}
										
					}					
				}
				factor = 0
			}
		}
		
		completion_reward = {
			add_political_power = 150
			add_stability = -0.05
			custom_effect_tooltip = KMT_no_united_front_unless_xian_incident_agreed_tt																			 
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = KMT_SHX_offer
		icon = GFX_goal_CHI_the_shanxi_offer
		prerequisite = { focus = KMT_internal_stability }
		available = {
			is_subject = no
			SHX = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					is_in_faction = no
					is_in_faction_with = CHI
				}
			}
		}
		cancel = {
			OR = {
				is_subject = yes
				SHX = { exists = no }
				has_war_with = SHX
				SHX = { is_subject = yes }
			}
		}
		bypass = {
			OR = {
				original_tag = SHX
				SHX = { exists = no }
				SHX = { 
					is_subject = yes
				}
			}
		}
		
		x = 2
		y = 1
		cost = 5
		completion_reward = {
			SHX = { country_event = { id = kmt.1  hours = 8 }}
		}
	}
	
	focus = { 
		id = KMT_preparation
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_internal_stability}
		available = {
			NOT = { has_war_with = PRC }
			NOT = { PRC = { is_in_faction_with = ROOT }}
		}
		bypass = {
			PRC = { exists = no }
		}
		x = 0
		y = 1
		cost = 10
		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 615
					has_full_control_of_state = 621
				}
				621 = {
					add_building_construction = { 
						type = supply_node
						level = 1
						province = 2087
						instant_build = yes
					}
				}
				build_railway = { 
					path = { 12344 4174 12300 10507 7631 4525 2087 }				
				}
			}
			custom_effect_tooltip = KMT_prep_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							owner = {
								is_subject_of = ROOT
							}
						}
						any_neighbor_state = {
							is_controlled_by = PRC
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
		
	
	focus = {
		id = KMT_strike_PRC
		icon = GFX_Goal_USA_HUAC
		prerequisite = { focus = KMT_preparation }
		
		x = 0
		y = 2
		cost = 5
		
		available = { 
			r56_script_i_am_sane = yes
			PRC = {
				r56_script_target_is_sane = yes
			}
		}
		
		cancel = {
			OR = {
				NOT = { country_exists = PRC }
				has_war_with = PRC
				PRC = { is_in_faction_with = ROOT }
			}
		}
		
		
		
		bypass = { 
			OR = {
				has_global_flag = PRC_yes_truce
				PRC = {
					r56_script_standard_bypass = yes
				}
			}
		}
		
		completion_reward = {
			every_country = {
				limit = {
					OR = {
						original_tag = PRC
						original_tag = SHX
						original_tag = XSM
						original_tag = SIK
						original_tag = YUN
						original_tag = GXC
					}
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = annex_everything
						expire = 0
					}
				}
				add_opinion_modifier = { target = ROOT modifier = no_collaboration_with_CHI_COM }
			}
			army_experience = 5
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.8
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = KMT_civil_war_tt
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_warlord
		icon = GFX_goal_CHI_defeat_the_warlords
		prerequisite = { focus = KMT_strike_PRC focus = KMT_SHX_offer }
		available = {
			is_subject = no
			OR = {
				country_exists = SHX
				country_exists = XSM
				country_exists = GXC
				country_exists = YUN
				country_exists = TNG
			}
			OR = {
				has_global_flag = PRC_yes_truce
				NOT = {
					country_exists = PRC
				}
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = SHX
					country_exists = XSM
					country_exists = GXC
					country_exists = YUN
					country_exists = TNG
				}
				has_global_flag = PRC_yes_truce
			}
		}
		x = 2
		y = 3
		cost = 10
		
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						original_tag = SHX
						original_tag = XSM
						original_tag = YUN
						original_tag = GXC
						original_tag = MEN
						original_tag = TNG
						#original_tag = PGR #is this even used?
					}
					exists = yes
					OR = {
						is_subject = no
						is_subject_of = ROOT
						NOT = { is_in_faction_with = ROOT }
					}
					NOT = { is_subject_of = JAP }
				}
				country_event = { id = kmt.74 hours = 12 }
			}
			custom_effect_tooltip = KMT_civil_war_tt
			set_country_flag = CHI_hostile_against_warlords
		}
	}	
	
	focus = {
		id = KMT_external_defense
		icon = GFX_goal_CHI_focus_on_external_threats
		mutually_exclusive = { focus = KMT_internal_stability }
		available = {
			NOT = {
				has_war_with = PRC
				has_war_with = SHX
				has_war_with = XSM
				has_war_with = YUN
				has_war_with = GXC
				has_war_with = TNG
				is_in_faction_with = JAP
				is_subject_of = JAP
			}
		}
		cancel = {
			OR = {
				has_war_with = SHX
				has_war_with = YUN
				has_war_with = XSM
				has_war_with = GXC
				has_war_with = SHX
				has_war_with = TNG
				is_in_faction_with = JAP
				is_subject_of = JAP				  
			}
		}
		
		bypass = {
			has_war_with = JAP
		}
		x = 4
		y = 0
		cost = 5
		
		ai_will_do = {
			factor = 2
			modifier = {
				is_historical_focus_on = yes
				factor = 1
			}
		}
		
		completion_reward = {
			add_stability = 0.05
			add_political_power = 120
			set_global_flag = KMT_united_front_enabled
			custom_effect_tooltip = KMT_enables_united_front_tt			 
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_fortify_land
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = KMT_external_defense }
		available = {
			NOT = {
				has_war_with = PRC
				has_war_with = SHX
				has_war_with = GXC
				has_war_with = XSM
				has_war_with = YUN
				has_war_with = TNG
				is_in_faction_with = JAP
			}
		}
		bypass = {
			OR = {
				NOT = {
					608 = {
						is_fully_controlled_by = ROOT
					}
					613 = {
						is_fully_controlled_by = ROOT
					}
				}
				is_in_faction_with = JAP
			}
		}
		
		x = 4
		y = 1
		cost = 10
		
		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					613 = {
						is_fully_controlled_by = ROOT
					}
				}
				613 = {
					custom_effect_tooltip = kmt_forts_in_shanghai_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 7014
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11913
							instant_build = yes
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 3
						instant_build = yes
					}
				}
			}
			effect_tooltip = {
				if = {
					limit = {
						608 = {
							is_fully_controlled_by = ROOT
						}
					}
					608 = {
						custom_effect_tooltip = KMT_fortify_land_tt
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 3
								province = 9843
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 3
								province = 10068
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 11761
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 12026
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6828
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 4140
								instant_build = yes
							}
						}
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_idea = german_advisors
					}
					country_event = { id = kmt.218 }
				}
				if = {
					limit = {
						NOT = { has_idea = german_advisors }
					}
					if = {
						limit = {
							608 = {
								is_fully_controlled_by = ROOT
							}
						}
						608 = {
							add_building_construction = {
								type = bunker
								level = 3
								province = 9843
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 3
								province = 10068
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 11761
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 12026
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6828
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 4140
								instant_build = yes
							}
						}
					}
				}
			}
		}	
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_fortify_coast
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = KMT_external_defense }
		available = {
			NOT = {
				has_war_with = PRC
				has_war_with = SHX
				has_war_with = GXC
				has_war_with = XSM
				has_war_with = YUN
				has_war_with = TNG
				is_in_faction_with = JAP
			}
			any_state = {
				OR = {
					state = 597
					state = 613
					state = 596
					state = 595
				}
				is_fully_controlled_by = ROOT
			}
		}
		bypass = {
			NOT = {
				AND = {
					597 = { is_fully_controlled_by = ROOT }
					613 = { is_fully_controlled_by = ROOT }
					596 = { is_fully_controlled_by = ROOT }
					595 = { is_fully_controlled_by = ROOT }
				}
			}
			is_in_faction_with = JAP
		}
		
		x = 6
		y = 1
		cost = 10
		
		completion_reward = {
			army_experience = 10
			597 = {
				if = {
					limit = {
						597 = { 
							is_fully_controlled_by = ROOT
						}
					}
					custom_effect_tooltip = kmt_coastal_bunker_sd_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 4205
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 10000
							instant_build = yes
						}
					}
				}
			}
			613 = {
				if = {
					limit = {
						613 = { is_fully_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_sh_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 4
							province = 7014
							instant_build = yes
						}
					}
				}
			}
			596 = {
				if = {
					limit = {
						596 = { is_fully_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_zhej_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
								province = 7191
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 3
							province = 1055
							instant_build = yes
							}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 9974
							instant_build = yes
						}
					}
				}
			}	
			595 = {
				if = {
					limit = {
						595 = { is_fully_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_fj_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 4196
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 7071
							instant_build = yes
						}
					}
				}
			}
			608 = {
				if = {
					limit = {
						608 = { is_fully_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_tj_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 10068
							instant_build = yes
						}
					}
				}
			}
		}	
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_national_def_propaganda
		icon = GFX_goal_CHI_national_defence_propaganda
		prerequisite = { focus = KMT_fortify_coast focus = KMT_fortify_land }
		available = {
			NOT = {
				has_war_with = PRC
				has_war_with = SHX
				has_war_with = GXC
				has_war_with = XSM
				has_war_with = YUN
				has_war_with = TNG
				is_in_faction_with = JAP
			}
		}
		x = 4
		y = 3
		cost = 10
		
		ai_will_do = {
			factor = 20
		}

		completion_reward = {
			add_political_power = 100
			if = {
				limit = {
					NOT = {
						has_war_with = PRC
						has_war_with = SHX
						has_war_with = GXC
						has_war_with = YUN
						has_war_with = XSM
						has_war_with = TNG
					}
				}
				add_ideas = KMT_propaganda
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_tibet_march
		icon = GFX_goal_PRC_liberate_tibet
		prerequisite = { focus = KMT_national_def_propaganda focus = KMT_warlord }
		mutually_exclusive = { focus = KMT_tibet_friend }
		available = {
			is_subject = no
			TIB = {
				exists = yes
				is_subject = no
			}
			any_neighbor_country = {
				original_tag = TIB
			}
			OR = {
				is_ai = no
				AND = {
					is_ai = yes
					has_war = no
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = TIB
				NOT = { country_exists = TIB }
				TIB = { is_subject_of = ROOT }
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				TIB = {
					is_ai = yes
				}
				add = 0.1
			}
		}
		x = 2
		y = 5
		cost = 10
		
		completion_reward = {
			# every_state = { No cores cuz unrealistic due to their resistance even after getting occupied in 1950 and being a totally different people and religion
			# 	limit = {
			# 		is_core_of = TIB
			# 		NOT = {
			# 			is_core_of = ROOT
			# 		}
			# 	}
			# 	add_core_of = ROOT
			# }
			TIB = { country_event = { id = kmt.8 days = 3 } }
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_tibet_friend
		icon = GFX_goal_TIB_fair_treatment_dalai_lama
		prerequisite = { focus = KMT_national_def_propaganda focus = KMT_warlord }
		mutually_exclusive = { focus = KMT_tibet_march }
		available = { 
			is_subject = no
			TIB = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = ROOT }
				OR = {
					is_in_faction = no
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		bypass = {
			TIB = { is_in_faction_with = ROOT }
		}
		cancel = {
			OR = {
				NOT = { country_exists = TIB }
				has_war_with = TIB
			}
		}
		x = 4
		y = 5
		cost = 10
		ai_will_do = {
			factor = 0.1
		}	
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 322
						state = 758
						state = 757
						state = 601
						state = 604
					}
					is_claimed_by = ROOT
				}
				remove_claim_by = ROOT
			}
			TIB = {
				country_event = { id = kmt.197 days = 1 }
				add_opinion_modifier = { target = ROOT modifier = chi_tib_diplomatic_focus }
				if = {
					limit = {
						ROOT = { NOT = { has_government = neutrality } }
					}
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_ideas = fascist_influence
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_ideas = communist_influence
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_ideas = democratic_influence
					}
					country_event = { id = generic.1 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = KMT_redraw_mcmahon
		icon = GFX_focus_RAJ_british_investors
		prerequisite = { focus = KMT_tibet_friend focus = KMT_tibet_march }
		available = {
			has_army_manpower = { size > 1999999 }				 
			434 = { is_owned_by = RAJ }
			NOT = {
				is_in_faction_with = RAJ
				has_war_with = RAJ
			}
			OR = {
				NOT = { country_exists = TIB }
				TIB = {
					OR = {
						is_subject_of = ROOT 
						is_in_faction_with = ROOT 
					}
					NOT = {
						has_war_with = RAJ
					}
				}
			}
			custom_trigger_tooltip = { 
				tooltip = KMT_redraw_mcmahon_tt
				hidden_trigger = {
					OR = {
						AND = {
							322 = { is_owned_by = ROOT }
							601 = { is_owned_by = ROOT }
						}
						AND = {
							322 = { is_owned_by = TIB }
							601 = { is_owned_by = TIB }
						}
						AND = {
							322 = { is_owned_by = TIB }
							601 = { is_owned_by = ROOT }
						}
						AND = {
							322 = { is_owned_by = ROOT }
							601 = { is_owned_by = TIB }
						}
					}
				}
			}
		}
		bypass = {
			434 = {
				is_owned_by = ROOT
			}
		}
		cancel = {
			OR = {
				OR = {
					TIB = { has_war_with = RAJ }
					has_war_with = RAJ
				}
				NOT = { 434 = { is_owned_by = RAJ } }
				custom_trigger_tooltip = { 
					tooltip = KMT_redraw_mcmahon_cancel_tt
					hidden_trigger = {
						NOT = {
							AND = {
								322 = { is_owned_by = ROOT }
								601 = { is_owned_by = ROOT }
							}
							AND = {
								322 = { is_owned_by = TIB }
								601 = { is_owned_by = TIB }
							}
							AND = {
								322 = { is_owned_by = TIB }
								601 = { is_owned_by = ROOT }
							}
							AND = {
								322 = { is_owned_by = ROOT }
								601 = { is_owned_by = TIB }
							}
						}
					}
				}
				AND = {
					country_exists = TIB
					OR = {
						NOT = {	TIB = { is_puppet_of = ROOT } }
						NOT = {	TIB = { is_in_faction_with = ROOT } }
					}
				}
			}
		}
		x = 3
		y = 6
		cost = 10
		
		completion_reward = {
			add_state_core = 434
			RAJ = { country_event = { id = kmt.11  days = 3 }}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	
	focus = {
		id = KMT_industrial_effort 
		icon = GFX_focus_generic_industry_1
		x = 17
		y = 0
		cost = 10

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 620 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KMT_krupp
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	focus = {
		id = KMT_improve_our_railways
		text = BUL_national_railway_lines
		icon = GFX_goal_generic_railroad
		x = 21
		y = 1
		cost = 10
		prerequisite = { focus = KMT_industrial_effort }
		prerequisite = { focus = KMT_science_effort }

		completion_reward = {
			add_ideas = r56_USA_mobilize_the_railways_idea
			build_railway = { # Nanjing to Tianjin
				path = { 11913 4148 1001 1161 11973 12055 9956 12015 4037 1069 7189 11980 11944 4137 10068 }				
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_industrialization_NW
		icon = GFX_goal_generic_construct_infrastructure
		x = 15
		y = 1
		cost = 14.3
		prerequisite = { focus = KMT_industrial_effort }
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_western_china_tt
					OR = {
						region = 145
						state = 756
						state = 755
						state = 604
					}
				}
				is_controlled_by = ROOT
			}
		}
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						region = 145
						state = 756
						state = 755
						state = 604
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 744
					has_full_control_of_state = 283
					has_full_control_of_state = 283
					has_full_control_of_state = 754
					has_full_control_of_state = 604
				}
				build_railway = { 
					path = { 7481 4167 4295 531 12882 7397 4313 11448 12815 4536 1882 8018 7940 }				
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_excavation_NW
		icon = GFX_goal_generic_construction2
		x = 15
		y = 3
		cost = 10
		prerequisite = { focus = KMT_national_resources_commission }
		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}		
		}
		completion_reward = {
			custom_effect_tooltip = kmt_scale_with_excav_tech
			if = {
				limit = {
					618 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 13
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 16
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 19
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 22
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 25
						state = 618
					}
				}
			}
			if = {
				limit = {
					617 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 617
					}
				}
			}
			if = {
				limit = {
					619 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 619
					}
				}
			}
			if = {
				limit = {
					287 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 287
					}
				}
			}
			if = {
				limit = {
					616 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					604 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_OIL FOCUS_FILTER_CHROMIUM FOCUS_FILTER_ALUMINIUM FOCUS_FILTER_HISTORICAL}
	}
	
	focus = {
		id = KMT_industrialization_S
		icon = GFX_focus_generic_industry_2
		x = 17
		y = 1
		cost = 14.4
		prerequisite = { focus = KMT_industrial_effort }
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				OR = {
					state = 591
					state = 594
					state = 592
					state = 593
					state = 599
					state = 326
					state = 729
					state = 728
				}
				is_controlled_by = ROOT
			}
		}
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 591
						state = 594
						state = 592
						state = 593
						state = 599
						state = 326
						state = 729
						state = 728
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_excavation_S
		icon = GFX_focus_generic_rubber
		x = 17
		y = 3
		cost = 10
		prerequisite = { focus = KMT_national_resources_commission }
		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					594 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 594
				}
			}
			if = {
				limit = {
					592 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 592
				}
			}
			if = {
				limit = {
					591 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 591
				}
			}
			if = {
				limit = {
					593 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				add_resource = {
					type = rubber
					amount = 6
					state = 593
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RUBBER FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = CHI_industrial_evacuations
		icon = GFX_goal_generic_industrial_planning
		prerequisite = { focus = KMT_national_defense_council }
		prerequisite = { focus = KMT_industrial_effort }

		x = 12
		y = 1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = yes
			any_core_state = { #Mostly here so AI/Player doesn't waste time when they can't do a single decision
 				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
				is_controlled_by = ROOT
			}
		}

		completion_reward = {
			unlock_decision_category_tooltip = CHI_industrial_evacuations			
			set_variable = { var = CHI_industrial_evacuations_amount_factor value = 0.75 } #Ratio for how many building are moved. Change CHI_industrial_evacuations_add_AF and CHI_industrial_evacuations_add_IC if you change the value
		}
		search_filters = {
			FOCUS_FILTER_HISTORICAL
		}
		
	}
	
	focus = {
		id = KMT_excavation_NE
		icon = GFX_goal_excavation
		x = 19
		y = 3
		cost = 10
		prerequisite = { focus = KMT_national_resources_commission }
		available = {
			OR = {
				num_of_factories > 200
				AND = {
					has_war = no
					num_of_factories > 100
				}
			}
		}
		completion_reward = {
			custom_effect_tooltip = kmt_scale_with_excav_tech
			if = {
				limit = {
					714 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 18
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 26
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 34
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 42
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 50
						state = 714
					}
				}
			}
			if = {
				limit = {
					609 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}			
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					328 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}			
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					717 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 12
						state = 717
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = aluminium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 10
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = aluminium
						amount = 15
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 20
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 25
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = aluminium
						amount = 30
						state = 715
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ALUMINIUM}
		
	}
	
	focus = {
		id = KMT_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = KMT_national_defense_council }
		prerequisite = { focus = KMT_industrial_effort }
		x = 13
		y = 2
		cost = 10
		ai_will_do = {
			factor = 5
		}
		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 0
						include_locked = yes
					}
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_arms_purchases_in_the_us
		text = FRA_arms_purchases_in_the_us
		icon = GFX_Goal_USA_arsenal_of_democracy
		x = -2
		y = 1
		prerequisite = {
			focus = KMT_armament_effort
		}
		relative_position_id = KMT_armament_effort
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			USA_can_sell_weapons_trigger = yes
		}
		
		completion_reward = {
			USA = { country_event = lar_arms_purchases.1 }
			custom_effect_tooltip = if_they_accept_tt
			unlock_decision_category_tooltip = CHI_weapons_purchases_category
		}
	}
	
	focus = {
		id = KMT_gain_control_of_the_sea 
		icon = GFX_goal_CHI_coa_navy
		prerequisite = { focus = KMT_fortify_coast focus = KMT_revive_jiangnan_shipyard }
		x = 7
		y = 4
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				surrender_progress > 0.2
				factor = 0
			}
		}

		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = CHI_navy_focus_2dockyards }
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}	
	
	focus = {
		id = KMT_increase_funding_of_german_weaponary
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = KMT_revive_hanyang_armory }
		x = 13
		y = 4
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1
				uses = 1
				category = armor
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CHI_hanyang_arsenal_tank_organization
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = CHI_hanyang_arsenal_tank
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_air_effort
		icon = GFX_goal_CHI_coa_air_force
		prerequisite = { focus = KMT_revive_hanyang_armory }
		x = 11
		y = 4
		cost = 10
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_war_with = USA
						has_government = fascism
						has_government = communism
					}
				}
				add_ideas = KMT_chennault
			}
			
			air_experience = 10

			add_doctrine_cost_reduction = {
				name = air_sup_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = CHI_claire_lee_chennault_theorist
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = CHI_claire_lee_chennault_air_chief
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_air_reform
		icon = GFX_focus_chi_flying_tigers
		prerequisite = { focus = KMT_air_effort }
		available = {
			USA = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			NOT = { 
				has_war_with = USA 
				has_government = communism
				has_government = fascism
			}
		}
		x = 10
		y = 5
		cost = 10
		
		completion_reward = {
			air_experience = 30
			add_manpower = 150
			USA = {
				send_equipment = {
					target = ROOT
					type = small_plane_airframe
					amount = 150
				}	
			}
			add_opinion_modifier = {
				target = USA
				modifier = flying_tigers
			}
			add_doctrine_cost_reduction = {
				name = air_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			if = {
				limit = {
					has_idea = KMT_chennault
				}
				swap_ideas = {
					remove_idea = KMT_chennault
					add_idea = KMT_the_flying_tigers_idea
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_study_foreign_ship
		icon = GFX_focus_generic_shipbuilding
		prerequisite = { focus = KMT_gain_control_of_the_sea }
		x = 6
		y = 5
		cost = 10
		
		completion_reward = {
			navy_experience = 5
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_demand_taiwan
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = KMT_gain_control_of_the_sea }
		x = 8
		y = 5
		cost = 10
        ai_will_do = {
			factor = 8
			modifier = {
				strength_ratio = {
					tag = JAP
					ratio < 0.8
				}
				factor = 0
			}
			modifier = {
				NOT = {
					has_tech = transport
				}
				factor = 0
			}			
        }		
		available = {
			524 = {
				owner = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}
		bypass = {
			524 = {
				is_owned_by = ROOT
			}
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					controls_state = 524
				}
				country_event = { id = kmt.15 days = 3 }
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_taiwan_fleet_hub
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = KMT_demand_taiwan }
		available = {
			524  = { 
				is_fully_controlled_by = ROOT
			}
		}
		x = 8
		y = 6
		cost = 10
		bypass = {
			524 = {
				free_building_slots = {
					building = dockyard
					size < 5
					include_locked = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 10

			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 2
				category = naval_equipment
			}

			524 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = dockyard
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 10
					instant_build = yes
					province = 7186
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_pacific_fleet
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = KMT_taiwan_fleet_hub }
		mutually_exclusive = { focus = KMT_sea_fleet }
		x = 9
		y = 7
		cost = 10
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = cv_bonus
				bonus = 1
				uses = 1
				category = cv_tech
				category = cvl_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_sea_fleet
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = KMT_taiwan_fleet_hub }
		mutually_exclusive = { focus = KMT_pacific_fleet }
		x = 7
		y = 7
		cost = 10
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	focus = {
		id = KMT_naval_equipment
		prerequisite = { focus = KMT_sea_fleet focus = KMT_pacific_fleet }
		icon = GFX_goal_generic_admirality
		x = 1
		y = 2
		relative_position_id = KMT_sea_fleet
		cost = 10
		ai_will_do = {
			factor = 10
		}

		allow_branch = {
			has_dlc = "Man the Guns"
			any_controlled_state = {
				is_coastal = yes
			}			
		}		

		available_if_capitulated = yes

		available = {
			
		}

		completion_reward = {
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_gunnery_tech
				category = naval_shell_tech
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = asw_tech
				category = torpedo_equipment
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 1
				category = naval_armor_tech
				category = damage_control_tech
				
			}					
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}	
	focus = {
		id = KMT_pacific_expansion
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = KMT_pacific_fleet }
		x = 9
		y = 8
		cost = 10
		available = {
			is_subject = no
		}
		
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = naval_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 1
				category = cat_fleet_in_being
				category = cat_base_strike
			}
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 78
							region = 94
							region = 84
							region = 83
							region = 97
							region = 178
							region = 179
							region = 172
							region = 105
							region = 176
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}			 
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_sea_expansion
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = KMT_sea_fleet }
		x = 7
		y = 8
		cost = 10
		available = {
			is_subject = no
		}
		
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = naval_doctrine_tech_bonus_name
				cost_reduction = 0.5
				uses = 1
				category = cat_trade_interdiction
			}
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 75
							region = 142
							region = 188
							region = 73
							region = 72
							region = 159
							region = 160
							region = 80
							region = 187
							region = 158
							region = 93
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ANNEXATION }
	}
	
	focus = {
		id = KMT_modernize_army
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = KMT_revive_hanyang_armory }
		x = 15
		y = 4
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = artillery_tech_bonus_name
				bonus = 1
				uses = 1
				category = artillery
				category = armor
				category = cat_mechanized_equipment
				category = motorized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_north_plan
		icon = GFX_goal_CHI_retake_manchuria
		prerequisite = { focus = KMT_fortify_land focus = KMT_SHX_offer }
		available = {
			is_puppet = no
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_manchuria_plus_mengukou_tt
					OR = {
						region = 155
						state = 947
						state = 610
						state = 609
						state = 745
						state = 612
						state = 611
					}
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
			OR = {
				AND = {
					has_completed_focus = KMT_fortify_land
					has_army_manpower = { size > 1699999 }
				}
				AND = {
					has_completed_focus = KMT_SHX_offer
					OR = {
						has_army_manpower = { size > 1299999 }
						AND = {
							GXC = {
								OR = {
									exists = no
									is_subject_of = ROOT
								}
							}
							XSM = {
								OR = {
									exists = no
									is_subject_of = ROOT
								}
							}
							YUN = {
								OR = {
									exists = no
									is_subject_of = ROOT
								}
							}
							SIK = {
								OR = {
									exists = no
									is_subject_of = ROOT
								}
							}
						}
					}
				}
			}
		}
		x = 3
		y = 2
		cost = 10
		bypass = {
			all_state = {
				OR = {
					NOT = { 
						custom_trigger_tooltip = {
							tooltip = state_is_manchuria_plus_mengukou_tt
							OR = {
								region = 155
								state = 947
								state = 610
								state = 609
								state = 745
								state = 612
								state = 611
							}
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			every_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 155
							state = 947
							state = 610
							state = 609
							state = 745
							state = 612
							state = 611
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_pioneering_the_north_east
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = KMT_industrial_effort }
		available = {
			OR = {
				num_of_factories > 100
				AND = {
					has_war = no
					num_of_factories > 50
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_is_in_manchuria_tt
					OR = {
						region = 155
						state = 947
						state = 610
					}
				}
				is_controlled_by = ROOT
			}
		}
		x = 19
		y = 1
		cost = 14.4
		
		completion_reward = {
			every_controlled_state = {
				limit = {
					OR = {
						region = 155
						state = 947
						state = 610
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = KMT_science_effort
		icon = GFX_goal_CHI_academia_sinica
		x = 22
		y = 0
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_science_funding
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_extra_research_slot
		icon = GFX_focus_research
		prerequisite = { focus = KMT_science_effort }
		x = 23
		y = 2
		cost = 10
		available = {
			num_of_factories > 30
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = public_iliteracy
				}
				swap_ideas = {
					remove_idea = public_iliteracy
					add_idea = public_iliteracy_2
				}
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_national_institute
		icon = GFX_goal_star_of_david
		prerequisite = { focus = KMT_science_effort }
		prerequisite = { focus = KMT_industrial_effort }
		x = 20
		y = 4
		cost = 10
		bypass = {
			GER = {
				NOT = {
					has_government = fascism
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_national_institute_ns
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_military_science 
		icon = GFX_focus_chi_whampoa_military_academy
		prerequisite = { focus = KMT_national_institute }
		prerequisite = { focus = KMT_modernize_army }
		x = 17
		y = 6
		cost = 10

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
			army_experience = 25
			navy_experience = 25
			air_experience = 25
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_ballistic_weapon
		icon = GFX_focus_rocketry
		prerequisite = { focus = KMT_military_science }
		prerequisite = { focus = KMT_bold_hypothesis }
		x = 19
		y = 7
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  FOCUS_FILTER_HISTORICAL}
	}
	
	focus = {
		id = KMT_electronics_research
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = KMT_extra_research_slot }
		prerequisite = { focus = KMT_industrial_effort }
		x = 22
		y = 3
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_extra_research_slot_2
		icon = GFX_focus_research
		prerequisite = { focus = KMT_bold_hypothesis }
		prerequisite = { focus = KMT_extra_research_slot }
		available = {
			num_of_factories > 100
		}
		x = 23
		y = 7
		cost = 10
		
		completion_reward = {
			if = {
				limit = {
					has_idea = public_iliteracy_2
				}
				remove_ideas = public_iliteracy_2
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_bold_hypothesis
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = KMT_electronics_research }
		x = 22
		y = 6
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_nuclear_physics
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = KMT_bold_hypothesis }
		x = 21
		y = 7
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_nuclear_physics
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_jet
		icon = GFX_goal_generic_air_jet_new
		prerequisite = { focus = KMT_military_science }
		prerequisite = { focus = KMT_air_base_expansion }
		x = 15
		y = 7
		cost = 10
		
		completion_reward = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 1
				uses = 1
				category = jet_technology
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_fighter_focus
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = KMT_air_base_expansion }
		mutually_exclusive = { focus = KMT_bomber_focus }
		x = 13
		y = 7
		cost = 10
		
		completion_reward = {
			air_experience = 5
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = KMT_fighter_focus
					bonus = 1
					uses = 1
					category = light_air
				}
			}
			else = {
				add_tech_bonus = {
					name = air_bonus
					bonus = 1
					uses = 1
					category = light_fighter
					category = cat_heavy_fighter
				}
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				mio:CHI_camco_fighter_organization = {
					add_mio_funds = 1500
				}
			}
		}


		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_bomber_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = KMT_air_base_expansion }
		mutually_exclusive = { focus = KMT_fighter_focus }
		x = 11
		y = 7
		cost = 10
		completion_reward = {
			air_experience = 5
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = KMT_bomber_focus
					bonus = 1
					uses = 1
					category = heavy_air
				}
			}
			else = {
				add_tech_bonus = {
					name = air_bonus
					bonus = 1
					uses = 1
					category = cat_strategic_bomber
					category = tactical_bomber
				}
			}


			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				mio:CHI_camco_medium_organization = {
					add_mio_funds = 1500
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = camco_bomb	
			}

  
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_cas_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = KMT_fighter_focus }
		x = 13
		y = 8
		cost = 10
		
		completion_reward = {
			air_experience = 10
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = KMT_cas_effort
					technology = aa_cannon_2
					bonus = 1
					uses = 1
				}
			}
			else = {
				add_tech_bonus = {
					name = air_bonus
					bonus = 1
					uses = 1
					category = cas_bomber
				}
			}
			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				mio:CHI_camco_bomber_organization = {
					add_mio_funds = 1500
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = camco_cas
			}
		 
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_nav_effort
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = KMT_bomber_focus }
		x = 11
		y = 8
		cost = 10
		
		completion_reward = {
			air_experience = 10
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = air_bonus
					bonus = 1
					uses = 1
					category = air_equipment
				}
			}
			else = {
				add_tech_bonus = {
					name = air_bonus
					bonus = 1
					uses = 1
					category = naval_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
		
	focus = {
		id = KMT_political_effort
		icon = GFX_focus_chi_legislative_yuan
		x = 33
		y = 0
		cost = 10
		
		completion_reward = {
			add_political_power = 120
			if = {
				limit = {
					has_idea = KMT_corrupted_government
				}
				swap_ideas = {
					remove_idea = KMT_corrupted_government
					add_idea = KMT_corrupted_government_lesser
				}
			}
			if = {
				limit = {
					has_idea = KMT_corrupted_government_wartime
				}
				swap_ideas = {
					remove_idea = KMT_corrupted_government_wartime
					add_idea = KMT_corrupted_government_wartime_lesser
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_democratic_republic
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = { focus = KMT_unitary_semi_presidential_republic }
		mutually_exclusive = { focus = KMT_promote_nationalism }
		prerequisite = { focus = KMT_political_effort }
		available = {
			is_puppet = no
		}
		bypass = {
			has_government = democratic
			NOT = {
				has_completed_focus = KMT_unitary_semi_presidential_republic
			}
		}
		x = 31
		y = 1
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_into_democracy
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = KMT_unitary_semi_presidential_republic 
		icon = GFX_goal_CHI_continue_the_peoples_tutelage
		prerequisite = { focus = KMT_political_effort }
		mutually_exclusive = { focus = KMT_democratic_republic }
		mutually_exclusive = { focus = KMT_promote_nationalism }
		available = {
			is_puppet = no
		}
		x = 25
		y = 1
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_stay_non_aligned
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_promote_nationalism
		icon = GFX_goal_morale_bonus
		prerequisite = { focus = KMT_political_effort }
		mutually_exclusive = { focus = KMT_democratic_republic }
		mutually_exclusive = { focus = KMT_unitary_semi_presidential_republic }
		available = {
			OR = {
				is_puppet = no
				is_puppet_of = JAP
			}
		}
		bypass = {
			has_government = fascism	
		}
		x = 39
		y = 1
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_into_fascism
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}
	
	focus = {
		id = KMT_cbis
		icon = GFX_goal_generic_secret_police
		prerequisite = { focus = KMT_unitary_semi_presidential_republic }
		x = 25
		y = 2
		cost = 10
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = {
						has_intelligence_agency = yes
					}
				}
				create_intelligence_agency = yes				
			}			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = GER_abwehr_contacts
			}
			else = {
				add_ideas = KMT_cbis
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = CHI_dai_li_advisor_lar
			}		
		}
		search_filters = { FOCUS_FILTER_ESPIONAGE FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_cement_control_on_the_economy
		icon = GFX_goal_generic_state_economy
		prerequisite = { focus = KMT_cbis }
		x = 26
		y = 3
		cost = 10
		completion_reward = {
			add_ideas = KMT_cement_control_on_the_economy
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_zhonghua_minzu
		icon = GFX_goal_generic_multinational_army
		prerequisite = { focus = KMT_cbis }
		x = 24
		y = 3
		cost = 10
		completion_reward = {
		add_ideas = KMT_zhonghua_minzu
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = KMT_centralizing_power
		icon = GFX_goal_generic_political
		prerequisite = { focus = KMT_zhonghua_minzu focus = KMT_cement_control_on_the_economy }
		available = {
			has_government = neutrality
		}
		x = 25
		y = 4
		cost = 10
		completion_reward = {
			#add_ideas = KMT_central_power
			add_country_leader_trait = headstrong 
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_into_despotism
		icon = GFX_goal_waking_the_tiger
		prerequisite = { focus = KMT_centralizing_power }
		available = {
			has_government = neutrality
		}
		x = 25
		y = 5
		cost = 10
		completion_reward = {
			set_rule = { 
				can_create_factions = yes
				can_puppet = yes
			}
			#swap_ideas = {
			#	remove_idea = KMT_central_power
			#	add_idea = KMT_despotism
			#}
			add_ideas = KMT_despotism
			if = {
				limit = {
					original_tag = CHI
				}
				hidden_effect = {
					CHI_chiang_kai_shek = {
						remove_country_leader_role = {
							ideology = the_peoples_tutelage
						}
						add_country_leader_role = {
							country_leader = {
								expire = "1965.1.1"
								ideology = despotism
								traits = {
									army_connections
								}
							}
							promote_leader = yes
						}
					}
				}				
			}

		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_social_experiment
		icon = GFX_goal_supremacy_of_will
		prerequisite = { focus = KMT_into_despotism }
		available = {
			NOT = {
				has_government = democratic
			}
		}
		x = 26
		y = 6
		cost = 10
		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_voting_rights
		icon = GFX_goal_constitution
		prerequisite = { focus = KMT_implement_parliamentary_system }
		available = {
			has_government = democratic
		}
		x = 32
		y = 3
		cost = 10
		completion_reward = {
			add_ideas = KMT_voting_rights
			set_rule = {
				can_generate_female_aces = yes
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = KMT_georgist_tax_reform
		icon = GFX_focus_POL_agrarian_reform
		prerequisite = { focus = KMT_implement_parliamentary_system }
		available = {
			NOT = {
				has_government = fascism
			}
		}
		x = 30
		y = 3
		cost = 10
		completion_reward = {
			add_ideas = KMT_georgist_tax_reform
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	focus = {
		id = KMT_implement_parliamentary_system
		icon = GFX_goal_generic_wheat
		prerequisite = { focus = KMT_democratic_republic }
		available = {
			NOT = {
				has_government = fascism
			}
		}
		x = 31
		y = 2
		cost = 10
		completion_reward = {
			add_ideas = KMT_parliament
			remove_ideas = CHI_communist_uprisings
			hidden_effect = {						#if you destryed commies, maybe????
				if = {
					limit = {
						PRC = {
							exists = no
						}
					}
					country_event = { id = prc.116 days = 20 random_days = 10 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}
	
	focus = {
		id = KMT_universal_sufferage
		icon = GFX_goal_CHI_three_principes_of_the_people
		prerequisite = { focus = KMT_voting_rights }
		prerequisite = { focus = KMT_georgist_tax_reform }
		available = {
			has_government = democratic
		}
		x = 31
		y = 4
		cost = 10
		completion_reward = {
			add_ideas = KMT_universal_sufferage_ns
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = CHI_dai_li_advisor_lar
			}		
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = KMT_european_friend
		icon = GFX_allies
		prerequisite = { focus = KMT_universal_sufferage }
		mutually_exclusive = { focus = KMT_alone_in_the_east }
		x = 30
		y = 5
		cost = 10
		available = {
			is_puppet = no
			OR = {
				ENG = {
					NOT = { has_war_with = ROOT }
					has_government = democratic
					has_capitulated = no
					is_faction_leader = yes
					has_opinion = {
						target = ROOT
						value > 0
					}					
				}
				any_other_country = {
					is_major = yes
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
					has_opinion = {
						target = ROOT
						value > 0
					}					
				}
			}
		}

		bypass = {
			is_in_faction_with = ENG
		}
		
		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						NOT = {
							has_completed_focus = ENG_a_change_in_course
							has_completed_focus = ENG_visit_germany	
						}
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_other_country = {
							is_in_faction_with = ENG
							has_war_with = ROOT
						}
					}					
				}
				ENG = {
					country_event = { id = kmt.21 days = 3 }
				}
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}		
		}
		search_filters = { FOCUS_FILTER_ALLIANCE }
	}
	
	focus = {
		id = KMT_alone_in_the_east
		icon = GFX_goal_generic_freedom
		prerequisite = { focus = KMT_universal_sufferage }
		mutually_exclusive = { focus = KMT_european_friend }
		available = {
			has_government = democratic
		}
		x = 32
		y = 5
		cost = 10
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			swap_ideas = {
				remove_idea = KMT_universal_sufferage_ns
				add_idea = KMT_firm_belief
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = KMT_knowledge_of_the_citizens
		icon = GFX_goal_supremacy_of_will
		prerequisite = { focus = KMT_alone_in_the_east }
		available = {
			has_government = democratic
		}
		x = 33
		y = 6
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_people_knowledge
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_westernization
		icon = GFX_focus_research2
		prerequisite = { focus = KMT_european_friend }
		available = {
			has_government = democratic
		}
		x = 29
		y = 6
		cost = 10
		
		completion_reward = {
			add_timed_idea = {
				idea = KMT_westernization_ns
				days = 365
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_fascism_focus
		icon = GFX_goal_CHI_power_to_the_blueshirts
		prerequisite = { focus = KMT_promote_nationalism }
		mutually_exclusive = { focus = KMT_militarism_focus }
		x = 38
		y = 2
		cost = 10
		available = {
			is_puppet = no
		}
		
		completion_reward = {
			set_country_flag = new_life
			add_ideas = kmt_military_youth
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_political_power = 75
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = CHI_dai_li_advisor_lar
			}
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}
			
			
			
	focus = {
		id = KMT_militarism_focus
		icon = GFX_goal_military_government
		prerequisite = { focus = KMT_promote_nationalism }
		mutually_exclusive = { focus = KMT_fascism_focus }
		x = 40
		y = 2
		cost = 10
		available = {
			OR = {
				is_puppet_of = JAP
				AND = {
					NOT = {
						has_war_with = JAP
					}
					NOT = {
						OR = {
							JAP = {
								focus_progress = {
							    focus = JAP_intervene_in_china
							    progress > 0.1
							}
								has_completed_focus = JAP_intervene_in_china
							}
						}
					}
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_militarism
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = CHI_dai_li_advisor_lar
			}
		}
	}
	
	focus = {
		id = KMT_ban_communism
		icon = GFX_goal_generic_anti_communism
		prerequisite = { focus = KMT_fascism_focus }
		available = {
			NOT = {
				has_government = communism
			}
		}
		x = 38
		y = 3
		cost = 10
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.25
			}
			add_ideas = KMT_communism_banned
		}
	}
	
	focus = {
		id = KMT_planning_our_empire
		icon = GFX_focus_generic_china1
		prerequisite = { focus = KMT_ban_communism }
		available = {
			has_government = fascism
		}
		x = 38
		y = 4
		cost = 10
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_ideas = KMT_empire_plan
			add_political_power = 200
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = KMT_isolation_tactic
		icon = GFX_goal_generic_secret_documents
		prerequisite = { focus = KMT_planning_our_empire }
		available = {
			has_government = fascism
		}
		bypass = {
			is_in_faction_with = SOV
		}
		x = 38
		y = 5
		cost = 10
		
		completion_reward = {
			every_country = {
				limit = {
					is_in_faction_with = MON
					is_faction_leader = yes
				}
				country_event = { id = kmt.25 days = 5 }
			}
			if = {
				limit = {
					MON = {
						is_in_faction = no
					}
				}
				MON = {
					country_event = { id = kmt.27 }
				}
			}
			every_country = {
				limit = {
					is_in_faction_with = SIK
					is_faction_leader = yes
				}
				country_event = { id = kmt.28 days = 5 }
			}
			if = {
				limit = {
					SIK = {
						is_in_faction = no
					}
				}
				SIK = {
					country_event = { id = kmt.27 }
				}
			}
			every_country = {
				limit = {
					is_in_faction_with = TAN
					is_faction_leader = yes
				}
				country_event = { id = kmt.30 days = 5 }
			}
			if = {
				limit = {
					TAN = {
						is_in_faction = no
					}
				}
				TAN = {
					country_event = { id = kmt.27 }
				}
			}
		}
	}
	
	focus = {
		id = KMT_war_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = KMT_militarism_focus }
		x = 40
		y = 3
		cost = 10
		
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
					OR = {
						has_idea = partial_economic_mobilisation
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
					}
				}
				add_ideas = KMT_war_propaganda_idea_2
			}
			if = {
				limit = {
					OR = {
						has_idea = partial_economic_mobilisation
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
					}
					OR = {
						has_idea = limited_conscription
						has_idea = extensive_conscription
						has_idea = service_by_requirement
						has_idea = all_adults_serve
						has_idea = scraping_the_barrel
					}
				}
				add_ideas = KMT_war_propaganda_idea
			}
			if = {
				limit = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = isolation
						has_idea = civilian_economy
						has_idea = low_economic_mobilisation
					}
					OR = {
						has_idea = limited_conscription
						has_idea = extensive_conscription
						has_idea = service_by_requirement
						has_idea = all_adults_serve
						has_idea = scraping_the_barrel
					}
				}
				add_ideas = KMT_war_propaganda_idea_2
			}
			if = {
				limit = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = isolation
						has_idea = civilian_economy
						has_idea = low_economic_mobilisation
					}
					has_war = no
				}
				add_ideas = partial_economic_mobilisation
			}
			if = {
				limit = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = isolation
						has_idea = civilian_economy
						has_idea = low_economic_mobilisation
					}
					has_war = yes
				}
				add_ideas = war_economy
			}
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
				}
				add_ideas = limited_conscription
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}
	
	focus = {
		id = KMT_military_first
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = KMT_war_propaganda }
		available = {
			has_government = fascism
		}
		x = 40
		y = 4
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_military_first_idea
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}
	
	focus = {
		id = KMT_war_fanaticism
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = KMT_military_first }
		x = 40
		y = 5
		cost = 10
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_ideas = KMT_war_fanaticism_idea
			add_popularity = {
				ideology = fascism
				popularity = 0.25
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}
	
	focus = {
		id = KMT_claim_territory
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = KMT_war_fanaticism focus = KMT_isolation_tactic }
		available = {
			has_government = fascism
		}
		x = 39
		y = 6
		cost = 10
		
		completion_reward = {
			every_state = {		#Mongolian and Tuvan states
				limit = {
					OR = {
						is_core_of = MON
						is_core_of = TAN
					}
					NOT = { is_claimed_by = ROOT }
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			every_state = {		#Korea
				limit = {
					OR = {
						is_core_of = KOR
						is_core_of = NKR
					}
					NOT = { is_claimed_by = ROOT }
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			every_state = {		#Indochina
				limit = {
					OR = {
						is_core_of = FRI
						is_core_of = VIN
						is_core_of = CAM
						is_core_of = LAO
					}
					NOT = { is_claimed_by = ROOT }
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			every_state = {		#Soviet states 
				limit = {
					OR = {
						is_core_of = GUK
						is_core_of = KYR
						is_core_of = TAJ
						state = 586
						state = 589
					}
					NOT = { is_claimed_by = ROOT }
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			every_state = {		#Nepal + Bhutan
				limit = {
					OR = {
						is_core_of = NEP
						is_core_of = BHU
					}
					NOT = { is_claimed_by = ROOT }
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			if = {
				limit = {
					434  = {
						NOT = { is_core_of = ROOT }
					}
				}
				add_state_core = 434
			}
			if = {
				limit = {
					787  = {
						NOT = { is_core_of = ROOT }
					}
				}
				add_state_core = 787
			}
			if = {
				limit = {
					441  = {
						NOT = { is_core_of = ROOT }
					}
				}
				add_state_core = 441
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = KMT_demand_soviet_puppets
		icon = GFX_focus_usa_focus_on_asia
		prerequisite = { focus = KMT_claim_territory}
		x = 38
		y = 7
		cost = 10
		available = {
			is_subject = no
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_in_central_steppe_or_central_asia_tt
					OR = {
						state = 330
						state = 921
						state = 922
						state = 923
						state = 617
						state = 618
						state = 287
						state = 619
						state = 329
					}
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}
		bypass = {
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_in_central_steppe_or_central_asia_tt
							OR = {
								state = 330
								state = 921
								state = 922
								state = 923
								state = 617
								state = 618
								state = 287
								state = 619
								state = 329
							}
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
					any_controlled_state = {
						OR = {
							region = 152
							region = 145
						}
					}
				}
				country_event = { id = kmt.52 days = 1 }
			}
		}
	}
	
	
	focus = {
		id = KMT_demand_indochina
		icon = GFX_goal_attack_indochina
		prerequisite = { focus = KMT_claim_territory}
		x = 40
		y = 7
		cost = 10
		available = {
			is_subject = no
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_in_indochina_tt
					OR = {
						region = 142
						region = 228
					}
				}
				custom_trigger_tooltip = {
					tooltip = ROOT_is_not_controlled_by_root_or_ally_tt
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}
		bypass = {
			all_state = {
				OR = {
					NOT = {
						custom_trigger_tooltip = {
							tooltip = state_in_indochina_tt
							OR = {
								region = 142
								region = 228
							}
						}
					}
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
					any_controlled_state = {
						OR = {
							region = 142
							region = 228
						}
					}
				}
				country_event = { id = kmt.56 days = 1 }
			}
		}
	}
	

	
	
	focus = {
		id = KMT_improve_burma_road
		icon = GFX_goal_generic_road
		prerequisite = { focus = KMT_national_defense_council }
		x = 10
		y = 1
		cost = 10
		
		available = {
			ENG = {
				has_completed_focus = uk_burma_focus
			}
			325 = {
				OR = {
					controller = {
						is_in_faction_with = ROOT	
					}
					is_owned_and_controlled_by = ROOT
				}
			}
			
		}
		cancel = {
			325 = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		
		bypass = {
			325 = {
				OR = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
					controller = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			325 = {
				if = {
					limit = { 
						OR = {
							is_owned_by = ROOT
							owner = {
								OR = {
									is_subject_of = ROOT
									is_in_faction_with = ROOT
								}
							}
						}
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							owner = {
								has_country_flag = KMT_burma_rd_forts
							}
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 10413
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 10776
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 1522
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 1114
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 1196
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = 1172
						}
						else = {
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_trade_port_neutral
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = KMT_into_despotism }
		ai_will_do = {
			factor = 0
		}
		available = {
			has_war = no
			has_government = neutrality
			OR = {
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_gzw
					728 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_mc
					729 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_hk
					326 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
			}
		}
		x = 24
		y = 6
		cost = 10
		bypass = {
			728 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
			729 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
			326 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					728 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				728 = {
					owner = {
						country_event = { id = kmt.100 }
					}
				}
			}
			if = {
				limit = {
					729 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				729 = {
					owner = {
						country_event = { id = kmt.103 days = 1 }
					}
				}
			}
			if = {
				limit = {
					326 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				326 = {
					owner = {
						country_event = { id = kmt.106 days = 2 }
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_trade_port_demo
		icon = GFX_goal_naval_treaty
		prerequisite = { focus = KMT_european_friend focus = KMT_alone_in_the_east }
		available = {
			has_government = democratic
			OR = {
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_gzw
					728 = {
						is_owned_by = FRA
						FRA = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_mc
					729 = {
						is_owned_by = POR
						POR = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_hk
					326 = {
						is_owned_by = ENG
						ENG = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
			}
		}
		x = 31
		y = 6
		cost = 10
		bypass = {
			728 = {
				OR = {
					NOT = {
						is_owned_by = FRA
					}
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
			729 = {
				OR = {
					NOT = {
						is_owned_by = POR
					}
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
			326 = {
				OR = {
					NOT = {
						is_owned_by = ENG
					}
					is_owned_by = ROOT
					owner = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					OR = {
						728 = {
							is_owned_by = FRA
						}
						728 = {
							is_owned_by = FRI
						}
					}
				}
				728 = {
					owner = {
						country_event = { id = kmt.109 }
					}
				}
			}
			if = {
				limit = {
					729 = {
						is_owned_by = POR
					}
				}
				729 = {
					owner = {
						country_event = { id = kmt.112 days = 1 }
					}
				}
			}
			if = {
				limit = {
					326 = {
						is_owned_by = ENG
					}
				}
				326 = {
					owner = {
						country_event = { id = kmt.115 days = 2 }
					}
				}
			}
		}
		
	}
	
	focus = {
		id = KMT_trade_port_fascism
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = KMT_claim_territory }
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 0
			}
		}
		available = {
			has_government = fascism
			any_state = {
				OR = {
					state = 745
					state = 743
					state = 326
					state = 729
					state = 728
				}
				NOT = {
					is_controlled_by = ROOT
				}
			}
		}
		x = 39
		y = 8
		cost = 10
		bypass = {
			all_state = {
				OR = {
					NOT = { 
						OR = {
							state = 745
							state = 743
							state = 326
							state = 729
							state = 728
						}
					}
					is_controlled_by = ROOT
				}
			}
		}
		
		completion_reward = {
			add_political_power = 50
			unlock_decision_category_tooltip = CHI_unequal_treaties
		}
	}
	
	
	
	focus = {
		id = KMT_ledo_road
		icon = GFX_goal_generic_road2
		prerequisite = { focus = KMT_improve_burma_road }
		available = {
			has_war = yes
			432 = {
				is_controlled_by = RAJ
			}
			OR = {
				640 = {
					controller = {
						has_war_with = ROOT
					}
				}
				325 = {
					controller = {
						has_war_with = ROOT
					}
				}
			}
			NOT = {
				has_war_with = RAJ
			}
		}
		cost = 10
		x = 10
		y = 2
		
		completion_reward = {
			432 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			752 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_air_base_expansion
		icon = GFX_goal_generic_airport
		prerequisite = { focus = KMT_air_effort }
		x = 11 
		y = 6
		cost = 10
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CHI_camco_fighter_organization
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CHI_camco_medium_organization
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = CHI_camco_bomber_organization				
			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = camco
			}	 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_national_resources_commission
		icon = GFX_goal_italy_establish_the_sme
		prerequisite = { focus = KMT_industrialization_NW focus = KMT_industrialization_S focus = KMT_pioneering_the_north_east }
		available = {
			num_of_factories > 100
		}
		x = 17
		y = 2
		cost = 10
		completion_reward = {
			if = {
				limit = {
					605 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 10
					state = 605
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 605
				}
				add_resource = {
					type = aluminium
					amount = 10
					state = 605
				}
			}
			if = {
				limit = {
					603 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 5
					state = 603
				}
				add_resource = {
					type = aluminium
					amount = 3
					state = 603
				}
			}
			if = {
				limit = {
					620 = {
						is_owned_by = ROOT
					}
				}	
				add_resource = {
					type = steel
					amount = 15
					state = 620
				}
			}
			if = {
				limit = {
					602 = {
						is_owned_by = ROOT
					}
				}
				add_resource = {
					type = tungsten
					amount = 4
					state = 602
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ALUMINIUM FOCUS_FILTER_STEEL FOCUS_FILTER_TUNGSTEN FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_national_defense_council
		icon = GFX_goal_defensive_position2
		x = 10
		y = 0
		cost = 10
		completion_reward = {
			army_experience = 5
			navy_experience = 5
			air_experience = 5
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_zhang_qun
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CHI_army_ordnance_department
			show_ideas_tooltip = KMT_rheinmetall
			show_ideas_tooltip = KMT_mauser
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_dare_to_die_corps
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = KMT_national_defense_council }
		available = { has_war = yes }
		relative_position_id = KMT_national_defense_council
		x = -2
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}
		continue_if_invalid = yes		   
		completion_reward = {
			add_ideas = kmt_dare_to_die_corps_idea
			custom_effect_tooltip = kmt_dtdc_tt
			hidden_effect = {
				set_technology = { dare_to_die_corps = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_reuse_captured_weaponary
		icon = GFX_goal_machine_gun
		prerequisite = { focus = KMT_dare_to_die_corps }
		available = { has_war = yes }
		relative_position_id = KMT_dare_to_die_corps
		x = 0
		y = 1
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		continue_if_invalid = yes		   
		completion_reward = {
			swap_ideas = {
				remove_idea = kmt_dare_to_die_corps_idea
				add_idea = kmt_dare_to_die_corps_idea_2
			}
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 producer = ROOT }
		}
		search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT }
	}
	
	focus = {
		id = KMT_revive_jiangnan_shipyard
		icon = GFX_goal_generic_expand_the_naval_industry
		x = 9
		y = 3
		cost = 10
		prerequisite = { focus = KMT_armament_effort }
		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = dockyard
						size < 0
						include_locked = yes
					}
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					613 = {
						OR = {
							NOT = {
								is_owned_and_controlled_by = ROOT
							}
							AND = {
								is_owned_by = ROOT
								free_building_slots = {
									building = dockyard
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}							
				}
			}
			613 = {
				if = {
					limit = { 
						is_owned_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = jiangnan_shipyard_group
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_organize_the_partisans
		icon = GFX_focus_focus_fra_maquis
		relative_position_id = KMT_dare_to_die_corps
		x = 0
		y = 1
		cost = 5
		prerequisite = { focus = KMT_dare_to_die_corps }
		allow_branch = {
			always = no
		}
		available = {
			surrender_progress > 0.05
			any_owned_state = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		cancel = {
			has_war = no
		}
		
		ai_will_do = {
			factor = 20
		}			
		
		completion_reward = {
			division_template = {
				name = "Dangpai"
				is_locked = yes
				division_names_group = CHI_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
			}			  
		}
	}
	
	focus = {
		id = KMT_revive_hanyang_armory
		icon = GFX_goal_generic_war_factory
		x = 13
		y = 3
		cost = 10
		prerequisite = { focus = KMT_armament_effort }
		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 0
						include_locked = yes
					}
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					620 = {
						OR = {
							NOT = {
								is_owned_and_controlled_by = ROOT
							}
							AND = {
								is_owned_by = ROOT
								free_building_slots = {
									building = arms_factory
									size < 0
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}							
				}
			}
			620 = {
				if = {
					limit = { 
						is_owned_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CHI_hanyang_arsenal
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_monetary_reform
		icon = GFX_focus_mex_privatisation
		available = {
			has_war = no
			has_idea = KMT_jinyuanquan_inflation
		}
		prerequisite = { focus = KMT_political_effort }
		x = 42
		y = 1
		cost = 40
		#cost = 50

		cancel_if_invalid = no
		continue_if_invalid = yes
		
		completion_reward = {
			remove_ideas = KMT_jinyuanquan_inflation
			if = {
				limit = {
					OR = {
						has_idea = KMT_corrupted_government
						has_idea = KMT_corrupted_government_lesser
					}
				}
				add_ideas = civilian_economy
			}
			if = {
				limit = {
					has_idea = KMT_corrupted_government_wartime
				}
				add_ideas = partial_economic_mobilisation
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_the_big_rear_concept
		icon = GFX_goal_CHI_big_rear
		x = 46
		y = 0
		cost = 14.3
		
		available = {
			surrender_progress > 0.1
			any_other_country = {
				is_major = yes
				has_war_with = ROOT
			}
		}
		cancel = {
		}
		
		ai_will_do = {
			factor = 100 #DO ASAP
		}			
		
		completion_reward = {
			army_experience = 10
			add_ideas = KMT_rear
			effect_tooltip = {
				custom_effect_tooltip = KMT_r56_the_rear_tt_2
				add_dynamic_modifier = { modifier = r56_the_rear } 
			}
			effect_tooltip = {
				custom_effect_tooltip = KMT_r56_big_rear_tt_1
				add_dynamic_modifier = { modifier = r56_the_big_rear } 
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CHI_taiyuan_arsenal		
			show_ideas_tooltip = KMT_chongqing_steel
			if = { #Rewritten to be more dynamic and work. #Only does a 2 for 1 on civs once in some states. Don't want to make industrial evac totally useless. 
				limit = { #Beijing
					608 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						608 = {
							industrial_complex > 1
						}
						605 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					608 = { #Only remove what's there from state date
						remove_building = {
							type = industrial_complex
							level = 2
						}
					}
					605 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Hebei
				limit = {
					614 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						614 = {
							industrial_complex > 1
						}
						748 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					614 = { #Only remove and replace if they have two
						remove_building = {
							type = industrial_complex
							level = 2
						}
					}
					748 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Shandong
				limit = {
					597 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						597 = {
							industrial_complex > 1
						}
						751 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					597 = { #Only remove and replace if they have two
						remove_building = {
							type = industrial_complex
							level = 2
						}
					}
					751 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Henan
				limit = {
					607 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						607 = {
							industrial_complex > 1
						}
						603 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					607 = { 
						remove_building = { #Startdate civs
							type = industrial_complex
							level = 2
						}
					}
					603 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Qingdao
				limit = {
					743 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						743 = {
							industrial_complex > 1
						}
						752 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					743 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					752 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Jiangsu
				limit = {
					598 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						598 = {
							industrial_complex > 1
						}
						605 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					598 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					605 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Shanghai
				limit = {
					613 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						613 = {
							industrial_complex > 1
						}
						748 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					613 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					748 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Zhejiang
				limit = {
					596 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						596 = {
							industrial_complex > 1
						}
						603 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					596 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					603 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Fujian
				limit = {
					595 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						595 = {
							industrial_complex > 1
						}
						751 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					595 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					751 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Anhui
				limit = {
					606 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						606 = {
							industrial_complex > 1
						}
						752 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					606 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					752 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Huangshan
				limit = {
					749 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						749 = {
							industrial_complex > 1
						}
						605 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					749 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					605 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { #Jiangxi
				limit = {
					600 = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
								AND = {
									is_in_faction_with = ROOT
									has_idea = KMT_united_front
								}
							}
						}	
					}
				}
				if = {
					limit = {
						600 = {
							industrial_complex > 1
						}
						748 = {
							is_fully_controlled_by = ROOT #Don't add stuff to enemy states lol
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					600 = { 
						remove_building = { #Only remove and replace if they have two
							type = industrial_complex
							level = 2
						}
					}
					748 = {
						add_extra_state_shared_building_slots = 1
						#add_building_construction = {
						#	type = arms_factory
						#	level = 2
						#	instant_build = yes
						#}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}

			hidden_effect = {
				if = {
					limit = {
						605 = {
							is_fully_controlled_by = ROOT
						}
					}
					605 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear } 
					}
				}
				if = {
					limit = {
						752 = {
							is_fully_controlled_by = ROOT
						}
					}
					752 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear } 
					}
				}
				if = {
					limit = {
						750 = {
							is_fully_controlled_by = ROOT
						}
					}
					750 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear } 
					}
				}
				if = {
					limit = {
						751 = {
							is_fully_controlled_by = ROOT
						}
					}
					751 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear  } 
					}
				}
				if = {
					limit = {
						748 = {
							is_fully_controlled_by = ROOT
						}
					}
					748 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear } 
					}
				
				}
				if = {
					limit = {
						603 = {
							is_fully_controlled_by = ROOT
						}
					}
					603 = {
						add_dynamic_modifier = { modifier = r56_the_big_rear } 
					}
				}
				if = {
					limit = {
						744 = {
							is_fully_controlled_by = ROOT
						}
					}
					744 = {
						add_dynamic_modifier = { modifier = r56_the_rear  } 
					}
				}
				if = {
					limit = {
						620 = {
							is_fully_controlled_by = ROOT
						}
					}
					620 = {
						add_dynamic_modifier = { modifier = r56_the_rear } 
					}
				}
				if = {
					limit = {
						602 = {
							is_fully_controlled_by = ROOT
						}
					}
					602 = {
						add_dynamic_modifier = { modifier = r56_the_rear } 
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}

	focus = { #Sorry japan, should had ended the war by now
		id = KMT_develop_the_rear
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = KMT_the_big_rear_concept }
		relative_position_id = KMT_the_big_rear_concept
		x = 2
		y = 1
		available = {
			has_war = yes
			605 = { #atleast this needs to be controlled 
				is_fully_controlled_by = ROOT
			}
			OR = {
				surrender_progress > 0.15
				AND = {
					613 = {
						controller = {
							has_war_with = ROOT
						}
					}
					608 = {
						controller = {
							has_war_with = ROOT
						}
					}
					597 = {
						controller = {
							has_war_with = ROOT
						}
					}
					743 = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
			}
		}

		bypass = {
		}

		ai_will_do = {
			factor = 100 #DO ASAP
		}
		continue_if_invalid = yes
		available_if_capitulated = yes
		cost = 14.3
		
		
		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					752 = {
						is_fully_controlled_by = ROOT
					}
				}
				752 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_controlled_by = ROOT
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
					add_building_construction = { 
						type = supply_node
						level = 1
						province = 4999
						instant_build = yes
					}
					add_building_construction = { 
						type = bunker
						level = 1
						province = 4999
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 4999
					value = 2
				}
			}
			if = {
				limit = {
					751 = {
						is_fully_controlled_by = ROOT
					}
				}
				751 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_controlled_by = ROOT
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
					add_building_construction = { 
						type = bunker
						level = 1
						province = 12141
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 12141
					value = 2
				}
			}
			if = {
				limit = {
					750 = {
						is_fully_controlled_by = ROOT
					}
				}
				750 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = supply_node
						level = 1
						province = 6999
						instant_build = yes
					}
					add_building_construction = { 
						type = bunker
						level = 1
						province =  6999
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 7101
					value = 5
				}
			}
			if = {
				limit = {
					605 = {
						is_fully_controlled_by = ROOT
					}
				}
				605 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = supply_node
						level = 1
						province = 7101
						instant_build = yes
					}
					add_building_construction = { 
						type = bunker
						level = 1
						province = 7101
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 6999
					value = 5
				}
			}
			if = {
				limit = {
					603 = {
						is_fully_controlled_by = ROOT
					}
				}
				603 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = supply_node
						level = 1
						province = 4504
						instant_build = yes
					}
					add_building_construction = { 
						type = bunker
						level = 1
						province = 4504
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 4504
					value = 2
				}
			}
			if = {
				limit = {
					748 = {
						is_fully_controlled_by = ROOT
					}
				}
				748 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = bunker
						level = 1
						province = 1010
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 1010
					value = 2
				}
			}
			if = {
				limit = {
					744 = {
						is_fully_controlled_by = ROOT
					}
				}
				744 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = bunker
						level = 1
						province = 7301
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 7301
					value = 2
				}
			}
			if = {
				limit = {
					620 = {
						is_fully_controlled_by = ROOT
					}
				}
				620 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = bunker
						level = 1
						province = 4619
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 4619
					value = 5
				}
			}
			if = {
				limit = {
					602 = {
						is_fully_controlled_by = ROOT
					}
				}
				602 = {
					if = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = yes
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = { 
						type = bunker
						level = 1
						province = 7097
						instant_build = yes
					}
				}
				add_victory_points = {
					province = 7097
					value = 5
				}
			}
			if = {
				limit = {
					605 = {
						is_fully_controlled_by = ROOT
					}
					744 = {
						is_controlled_by = ROOT
					}
				}
				build_railway = { 
					path = { 6999 1893 11865 10144 7418 7406 7301 }				
				}
			}
			if = {
				limit = {
					605 = {
						is_fully_controlled_by = ROOT
					}
					748 = {
						is_fully_controlled_by = ROOT
					}
					750 = {
						is_fully_controlled_by = ROOT
					}
				}
				build_railway = { 
					path = { 6999 4141 10304 10822 10006 7279 7101 }				
				}
			}
			if = {
				limit = {
					752 = {
						is_fully_controlled_by = ROOT
					}
					751 = {
						is_fully_controlled_by = ROOT
					}
					605 = {
						is_fully_controlled_by = ROOT
					}
				}
				build_railway = { 
					path = { 4999 10841 12141 4925 7240 6999 }				
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_lure_them_in_strategy
		icon = GFX_goal_CHI_lure_them_in
		prerequisite = { focus = KMT_the_big_rear_concept }
		relative_position_id = KMT_the_big_rear_concept
		x = 0
		y = 1
		available = {
			has_war = yes
			OR = {
				surrender_progress > 0.15
				AND = {
					613 = {
						controller = {
							has_war_with = ROOT
						}
					}
					608 = {
						controller = {
							has_war_with = ROOT
						}
					}
					597 = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
			}
		}

		bypass = {
			is_puppet = no
			NOT = {
				has_war_with = JAP
			}
		}

		ai_will_do = {
			factor = 101 #DO ASAP
		}
		continue_if_invalid = yes
		available_if_capitulated = yes
		cost = 10
		
		select_effect = {
			country_event = { id = lti.1 }
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_lure_them_in_effect_tt
			effect_tooltip = {
				add_ideas = KMT_lure_them_in_1
				custom_effect_tooltip = KMT_r56_lure_them_in_tt_1
				add_dynamic_modifier = { modifier = r56_lure_them_in } 
			}
			hidden_effect = {
				614 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				607 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				597 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				743 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				598 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				596 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				595 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				749 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				600 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				606 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				613 = {
					add_dynamic_modifier = { modifier = r56_lure_them_in } 
				}
				country_event = { id = lti.5 }
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
	}
	
	focus = {
		id = KMT_harsh_takeover_focus
		icon = GFX_goal_demand_sudetenland
		prerequisite = {
			focus = KMT_lure_them_in_strategy
		}
		available = {
			is_puppet = no
			NOT = {
				has_war_with = JAP
			}
		}
		mutually_exclusive = { focus = KMT_placate_former_puppet_government }
		relative_position_id = KMT_lure_them_in_strategy
		x = -1
		y = 1
		cost = 10
		
		completion_reward = {
			add_political_power = 250
			add_manpower = 250000
			add_equipment_to_stockpile = { type = infantry_equipment amount = 200 producer = MEN }
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 producer = MAN }
			add_equipment_to_stockpile = { type = infantry_equipment amount = 5000 producer = JAP }
			add_equipment_to_stockpile = { type = support_equipment amount = 150 producer = MEN }
			add_equipment_to_stockpile = { type = support_equipment amount = 800 producer = MAN }
			add_equipment_to_stockpile = { type = support_equipment amount = 2000 producer = JAP }
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					region = 155
					NOT = {
						state = 525
						state = 527
						state = 917
						state = 918
						state = 919
						state = 920
					}
				}
				add_manpower = -25000
			}
			division_template = {
				name = "Luchn Shih"
				priority = 1
				is_locked = no
				division_names_group = CHI_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 3 y = 0 }
					infantry = { x = 3 y = 1 }
				}
			}
			custom_effect_tooltip = kmt_harsh_takover_oob_tt
			hidden_effect = {
				every_controlled_state = {
					limit = {
						OR = {
							state = 613
							state = 598
							state = 607
							state = 749
							state = 596
						}
					}
					create_unit = {
						division = "name = \"Tsan Pien Tsung Tui\" division_template = \"Luchn Shih\" start_experience_factor = 0.3 start_equipment_factor = 1.0 force_equipment_variants = { infantry_equipment = { owner = CHI } }" 
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Tsan Pien Tsung Tui\" division_template = \"Luchn Shih\" start_experience_factor = 0.3 start_equipment_factor = 1.0 force_equipment_variants = { infantry_equipment = { owner = CHI } }" 
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Tsan Pien Tsung Tui\" division_template = \"Luchn Shih\" start_experience_factor = 0.3 start_equipment_factor = 1.0 force_equipment_variants = { infantry_equipment = { owner = CHI } }" 
						owner = ROOT
					}
				}

			}
			add_timed_idea = {
				days = 365
				idea = KMT_harsh_takeover
			}
		}	
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_EQUIPMENT }
	}
	
	focus = {
		id = KMT_placate_former_puppet_government
		icon = GFX_goal_tripartite_pact
		prerequisite = {
			focus = KMT_lure_them_in_strategy
		}
		available = {
			is_puppet = no
			NOT = {
				has_war_with = JAP
			}
		}
		mutually_exclusive = { focus = KMT_harsh_takeover_focus }
		relative_position_id = KMT_harsh_takeover_focus
		x = 2
		y = 0
		cost = 10
		
		completion_reward = {
			add_political_power = -200
			add_stability = -0.15
			add_popularity = {
				ideology = communism
				popularity = -0.5
			}
		}	
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = KMT_warlord_after_civil_war
		icon = GFX_focus_chi_one_china_policy
		prerequisite = { focus = KMT_harsh_takeover_focus focus = KMT_placate_former_puppet_government }
		available = {
			is_subject = no
			OR = {
				country_exists = SHX
				country_exists = XSM
				country_exists = GXC
				country_exists = YUN
				country_exists = TNG
			}
			NOT = {
				country_exists = PRC
			}
		}
		bypass = {
			NOT = {
				country_exists = SHX
				country_exists = XSM
				country_exists = GXC
				country_exists = YUN
				country_exists = TNG
			}
		}
		relative_position_id = KMT_harsh_takeover_focus
		x = -1
		y = 1
		cost = 10
		
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						original_tag = SHX
						original_tag = XSM
						original_tag = YUN
						original_tag = GXC
						original_tag = MEN
						original_tag = TNG
					}
					exists = yes
					OR = {
						is_subject = no
						is_subject_of = ROOT
						NOT = { is_in_faction_with = ROOT }
					}
					NOT = { is_subject_of = JAP }
				}
				country_event = { id = kmt.74 hours = 12 }
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = KMT_preemptive_preparation
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = KMT_harsh_takeover_focus focus = KMT_placate_former_puppet_government }
		relative_position_id = KMT_harsh_takeover_focus
		x = 1
		y = 1
		cost = 5
		
		available = {
			r56_script_i_am_sane = yes
			PRC = {
				r56_script_target_is_sane = yes
			}
		}
		
		bypass = {
			PRC = {
				r56_script_standard_bypass = yes
			}
		}
		
		continue_if_invalid = yes
		
		completion_reward = {
			create_wargoal = {
				target = PRC
				expire = 0
				type = annex_everything
			}
			custom_effect_tooltip = KMT_prep_2_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						any_neighbor_state = {
							is_owned_by = PRC
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_the_yangtze_partition
		icon = GFX_goal_generic_risky_deal
		available = {
			is_subject = no
			has_war_with = PRC
			surrender_progress > 0.4
		}
		prerequisite = { focus = KMT_preemptive_preparation }
		relative_position_id = KMT_preemptive_preparation
		x = -1
		y = 1
		cost = 10
		
		completion_reward = {
			PRC = {
				country_event = { id = kmt.212 hours = 12 } 
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}	
	
	focus = {
		id = KMT_taiwan_bastion
		icon = GFX_goal_generic_fortify_city
		available = {
			is_subject = no
			524 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		prerequisite = { focus = KMT_preemptive_preparation }
		relative_position_id = KMT_preemptive_preparation
		x = 1
		y = 1
		cost = 10
		
		completion_reward = {
			524 = {
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_development_of_taiwan
		icon = GFX_goal_generic_construct_infrastructure
		available = {
			has_war = no
			524 = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
			NOT = {
				owns_state = 613
				owns_state = 608
				owns_state = 605
			}
		}
		prerequisite = { focus = KMT_taiwan_bastion }
		x = 0
		y = 1
		relative_position_id = KMT_taiwan_bastion
		cost = 10
		
		completion_reward = {
			524 = {
				add_extra_state_shared_building_slots = 20
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}	
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
	}		
	
	focus = {
		id = KMT_focus_on_our_own_army
		icon = GFX_goal_CHI_coa_army
		prerequisite = { focus = KMT_modernize_army focus = KMT_increase_funding_of_german_weaponary }
		mutually_exclusive = { focus = KMT_incorporate_warlord_forces }
		x = 13
		y = 5
		cost = 10
		
		completion_reward = {
			set_country_flag = kmt_wont_remove_warlord_army
			add_ideas = KMT_focus_on_own_army
			if = {
				limit = {
					NOT = {
						has_idea = KMT_warlord_cliques_war
					}
				}
				add_ideas = KMT_warlord_cliques_war
			}
			custom_effect_tooltip = kmt_no_remove_warlord_army_tt
		}	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
	}			
	
	focus = {
		id = KMT_incorporate_warlord_forces
		icon = GFX_focus_chi_proclaim_rival_government
		available = {
			OR = {
				has_idea = KMT_warlord_cliques_war
				NOT = {
					OR = {
						country_exists = SHX
						country_exists = XSM
						country_exists = YUN
						country_exists = GXC
						country_exists = SIK
						country_exists = TNG
					}
				}
			}
			
		}
		prerequisite = { focus = KMT_modernize_army focus = KMT_increase_funding_of_german_weaponary }
		mutually_exclusive = { focus = KMT_focus_on_our_own_army }
		x = 15
		y = 5
		cost = 10
		
		completion_reward = {
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_war
				}
				remove_ideas = KMT_warlord_cliques_war
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_1
				}
				remove_ideas = KMT_warlord_cliques_1
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_2
				}
				remove_ideas = KMT_warlord_cliques_2
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_3
				}
				remove_ideas = KMT_warlord_cliques_3
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_4
				}
				remove_ideas = KMT_warlord_cliques_4
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_5
				}
				remove_ideas = KMT_warlord_cliques_5
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_6
				}
				remove_ideas = KMT_warlord_cliques_6
			}
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_pre_war
				}
				remove_ideas = KMT_warlord_cliques_pre_war
			}
			add_ideas = KMT_effective_integration
		}	
	}
	focus = {
		id = KMT_special_force_training
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = KMT_incorporate_warlord_forces focus = KMT_focus_on_our_own_army }	
		x = 1
		y = 1
		relative_position_id = KMT_focus_on_our_own_army
		cost = 10
		completion_reward = {
			add_tech_bonus = {
				name = KMT_special_force_training
				bonus = 1
				uses = 1
				category = r56_desert_infantry_tech
				category = r56_jaeger_infantry_tech
				category = r56_jungle_infantry_tech
				category = r56_marines_infantry_tech
				category = r56_mountain_infantry_tech
				category = r56_paratroops_infantry_tech	
				category = r56_shock_infantry_tech
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 2
                category = r56_special_forces_training_tech 
            }			
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1.0
					uses = 2
					category = decryption_tech
					category = computing_tech
				}
			}
			else = {
				hidden_effect = {
					set_technology = { lar_decryption_bonus_tech = 1 }
				}
				custom_effect_tooltip = lar_decryption_bonus_tt
				
			}	
			hidden_effect = {
				set_country_flag = cite_an_airborne_unit_flag
			}
			unlock_decision_tooltip = { decision = cite_an_airborne_unit show_effect_tooltip = yes }					
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
	}	
	
	focus = {
		id = KMT_increase_sino_german_cooperation
		icon = GFX_goal_generic_officers
		available = {
			GER = {
				is_puppet = no
				has_opinion = {
					target = ROOT
					value > 9
				}
				has_government = fascism
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
			NOT = {
				has_war_with = GER
			}
			is_puppet = no
		}
		prerequisite = { focus = KMT_fascism_focus }
		x = 36
		y = 3
		cost = 10
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.332 }
			}
			effect_tooltip = {
				custom_effect_tooltip = needs_approval
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = more_sino_german_coop
					}
				}
				add_opinion_modifier = {
					target = GER
					modifier = more_sino_german_coop
				}
				if = {
					limit = {
						has_idea = german_advisors
					}
					swap_ideas = {
						remove_idea = german_advisors
						add_idea = KMT_sino_german_joint_research_ger_adv
					}
					else = {
						add_ideas = KMT_sino_german_joint_research
					}
				}
			}
											 
		}	
	}		
	
	focus = {
		id = KMT_support_pro_japanese_faction
		icon = GFX_goal_CHI_support_pro_japanese_faction
		available = {
			is_puppet = no
			NOT = {
				has_war_with = JAP
			}
			JAP = {
				exists = yes 
				has_government = fascism
			}
		}
		prerequisite = { focus = KMT_militarism_focus }
		x = 42
		y = 3
		cost = 10
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}
			add_stability = -0.15
			add_political_power = -150		 
			JAP = {
				country_event = { id = kmt.220 }
			}
			if = {
				limit = {
					PRC = {
						has_completed_focus = PRC_anti_japanese_aim
					}
					PRC = {
						NOT = {
							has_opinion_modifier = pro_jap_traitor
						}
					}
				}
				PRC = {
					add_opinion_modifier = {
						target = ROOT
						modifier = pro_jap_traitor
					}
				}
			}
			set_party_name = { ideology = fascism long_name = KMT_wjw name = KMT_wjw }
			create_country_leader = {
				name = "Wang Jingwei"
				picture = "gfx/leaders/CHI/r56_portrait_CHI_Wang_Jingwei.dds"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					anti_communist
					eager_collaborator
				}
			}
		}	
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}	
	
	focus = {
		id = KMT_re_elaborate_hakko_ichiu
		icon = GFX_focus_generic_japanese_imperial_glory
		available = {
			is_subject = no
			any_other_country = {
				original_tag = JAP
				exists = yes 
				has_government = fascism
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		prerequisite = { focus = KMT_support_pro_japanese_faction }
		x = 42
		y = 4
		cost = 10
		
		completion_reward = {
			add_stability = -0.2
			add_political_power = -150	 
			if = {
				limit = {
					NOT = { has_government = fascism }
				}
				set_politics = {
					ruling_party = fascism
				}
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.25
			}
			every_other_country = {
				limit = {
					original_tag = JAP
					exists = yes 
					has_government = fascism
					NOT = {
						has_war_with = ROOT
					}
				}
				country_event = { id = kmt.221 days = 1 }
			}
		}	
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}		
	
	focus = {
		id = KMT_introduce_shipbuilding_technology
		icon = GFX_goal_generic_construct_naval_dockyard
		available = {
			is_puppet = no
			NOT = {
				has_war_with = JAP
			}
			JAP = { exists = yes}
			is_in_faction_with = JAP
		}
		prerequisite = { focus = KMT_re_elaborate_hakko_ichiu }
		x = 41
		y = 8
		cost = 10
		
		completion_reward = {
			JAP = {
				country_event = { id = kmt.224 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				custom_effect_tooltip = KMT_jap_navy_indus_assist_tt
				add_tech_bonus = {
					name = dd_bonus
					ahead_reduction = 1
					uses = 1
					bonus = 1
					category = naval_equipment
				}
				if = {
					limit = {
						JAP = { has_idea = the_long_lance }
					}
					add_ideas = the_long_lance
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_navy
					}
					remove_ideas = incompetent_industry_real_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_2_navy
					}
					remove_ideas = incompetent_industry_real_2_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_3_navy
					}
					remove_ideas = incompetent_industry_real_3_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_4_navy
					}
					remove_ideas = incompetent_industry_real_4_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_5_navy
					}
					remove_ideas = incompetent_industry_real_5_navy
				}
			}
		}	
		search_filters = { FOCUS_FILTER_RESEARCH }
	}	
	
	focus = {
		id = KMT_force_japan_to_accept_peace
		icon = GFX_goal_military_agreement_germany
		available = {
			is_puppet = no
			NOT = {
				has_war_with = GER
			}
			GER = {
				is_in_faction_with = JAP
				is_faction_leader = yes
			}
			JAP = {
				has_war_with = ROOT
			}
			has_government = fascism
			NOT = {
				has_global_flag = jap_civil_war_sf
			}
		}
		prerequisite = { focus = KMT_increase_sino_german_cooperation }
		x = 37
		y = 6
		cost = 10
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.233 }
			}
		}
	}		
	
	focus = {
		id = KMT_force_japan_to_cede_land
		icon = GFX_focus_generic_seek_accomodation_with_germany
		available = {
			is_puppet = no
			NOT = {
				has_war_with = GER
			}
			GER = {
				is_in_faction_with = JAP
				is_faction_leader = yes
			}
			custom_trigger_tooltip = {
				tooltip = KMT_any_state_chi_core_jap_own_tt
				any_state = {
					is_core_of = ROOT
					OR = {
						is_owned_by = JAP
						owner = {
							is_puppet_of = JAP
						}
					}
				}
			}
			has_government = fascism
			NOT = {
				has_global_flag = jap_civil_war_sf
			}
		}
		prerequisite = { focus = KMT_force_japan_to_accept_peace }
		x = 37
		y = 8
		cost = 10
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.240 }
			}
		}
	}	
	
	focus = {
		id = KMT_pincer_soviet
		icon = GFX_goal_generic_war_with_comintern
		
		available = {
			r56_script_i_am_sane = yes
			SOV = {
				r56_script_target_is_sane = yes
				has_war = yes
			}
		}
		
		bypass = {
			SOV = {
				r56_script_standard_bypass = yes
			}
		}
		
		prerequisite = { focus = KMT_join_the_axis }
		x = 36
		y = 5
		cost = 10
		
		completion_reward = {
			create_wargoal = {
				target = SOV
				expire = 0
				type = take_state_focus
				generator = { 408 409 657 560 561 742 732 586 589 }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}		
	
	focus = {
		id = KMT_japanese_advisors
		icon = GFX_focus_chi_collaboration_with_the_japanese
		available = {
			is_in_faction_with = JAP
		}
		prerequisite = { focus = KMT_re_elaborate_hakko_ichiu }
		x = 42
		y = 5
		cost = 10
		
		completion_reward = {
			add_ideas = KMT_jap_military_advisors
		}
	}			
	
	focus = {
		id = KMT_draw_closer_to_the_empire
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = KMT_democratic_republic }
		x = 29
		y = 2
		cost = 2.5
		
		completion_reward = {
			add_opinion_modifier = {
				target = ENG
				modifier = KMT_closer_to_britain
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = KMT_closer_to_britain
				}
			}
		}
	}		
	
	focus = {
		id = KMT_trans_pacific_friendship_focus
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = KMT_democratic_republic }
		x = 33
		y = 2
		cost = 2.5
		
		completion_reward = {
			add_opinion_modifier = {
				target = USA
				modifier = KMT_trans_pacific_friendship
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = KMT_trans_pacific_friendship
				}
			}
		}
	}		
	
	focus = {
		id = KMT_oust_the_colonizers
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = KMT_japanese_advisors }
		x = 0
		y = 1
		relative_position_id = KMT_japanese_advisors
		cost = 10

		available = {
			r56_script_i_am_sane = yes
			any_state = {
				custom_trigger_tooltip = {
					tooltip = state_in_indochina_malaysia_indonesia_raj_tt
					OR = {
						region = 190
						region = 153
						region = 31
						region = 141
						region = 189
						region = 142
						region = 188
						region = 187
						region = 158
						region = 159
						region = 93
						region = 167
						region = 160
						state = 323
					}
				}
				OR = {
					owner = {
						capital_scope = { NOT = { is_on_continent = asia }}
					}
					owner = {
						custom_trigger_tooltip = {
							tooltip = is_subject_extra_tt
							is_subject = yes
						}
						OVERLORD = {
							capital_scope = {
								OR = {
									is_on_continent = europe
									is_on_continent = north_america
								}
							}
						}
					}
				}
			}
		}
		
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { is_subject_of = ROOT }
					any_owned_state = {
						OR = {
							region = 190
							region = 153
							region = 31
							region = 141
							region = 189
							region = 142
							region = 188
							region = 187
							region = 158
							region = 159
							region = 93
							region = 167
							region = 160
							state = 323
						}
					}
					OR = {
						capital_scope = { NOT = { is_on_continent = asia }}
						AND = {
							is_subject = yes
							overlord = {
								capital_scope = {
									NOT = { is_on_continent = asia }
								}
							}
						}
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						expire = 0
					}
				}
			}
			if = {
				limit = {
					any_state = {
						is_on_continent = asia
						is_owned_by = POR
					}
				}
				POR = { country_event = { id = kmt.251 }}
			}
			custom_effect_tooltip = KMT_oust_the_colonizers_tt
			unlock_decision_category_tooltip = CHI_liberation_of_asia
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}	
	
	focus = {
		id = KMT_pursuade_britain
		icon = GFX_focus_ENG_home_defense
		available = {
			has_defensive_war_with = JAP
			ENG = { 
				exists = yes
				has_government = democratic
			}
			NOT = { has_idea = KMT_corrupted_government_wartime_lesser } #prequisite moves it to lesser
			surrender_progress < 0.70
		}
		bypass = {
			ENG = { has_war_with = JAP }
		}
		prerequisite = { focus = KMT_draw_closer_to_the_empire focus = KMT_unitary_semi_presidential_republic }
		x = 28
		y = 3
		cost = 10
		
		completion_reward = {
			ENG = { country_event = { id = kmt.249 }}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}
	
	focus = {
		id = KMT_introduce_shipbuilding_technology_usa
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = KMT_trans_pacific_friendship_focus }
		x = 34
		y = 3
		cost = 10
		available = {
			is_puppet = no
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_government = democratic
				exists = yes
				has_opinion = {
					target = ROOT
					value > 9
				}
			}
		}
		
		completion_reward = {
			USA = {
				country_event = { id = kmt.224 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				custom_effect_tooltip = KMT_jap_navy_indus_assist_tt
				add_tech_bonus = {
					name = dd_bonus
					ahead_reduction = 1
					uses = 1
					bonus = 1
					category = naval_equipment
				}
				if = {
					limit = {
						USA = { has_idea = bureau_of_ships_focus }
					}
					add_ideas = bureau_of_ships_focus
				}
				if = {
					limit = {
						USA = { has_idea = liberty_ships_focus }
					}
					add_ideas = liberty_ships_focus
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_navy
					}
					remove_ideas = incompetent_industry_real_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_2_navy
					}
					remove_ideas = incompetent_industry_real_2_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_3_navy
					}
					remove_ideas = incompetent_industry_real_3_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_4_navy
					}
					remove_ideas = incompetent_industry_real_4_navy
				}
				if = {
					limit = {
						has_idea = incompetent_industry_real_5_navy
					}
					remove_ideas = incompetent_industry_real_5_navy
				}
			}
		}	
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = KMT_join_the_axis
		icon = GFX_goal_generic_join_axis
		prerequisite = { focus = KMT_increase_sino_german_cooperation }
		x = 36
		y = 4
		cost = 10
	 	available = {
	 		is_puppet = no
			is_in_faction = no
	 		NOT = { has_war_with = GER }
	 		OR = {
	 			has_government = fascism
	 			fascism > 0.4
	 		}
	 		
	 		GER = {
	 			exists = yes
	 			has_government = fascism
 				is_faction_leader = yes
	 		}
		}
		bypass = {
			is_in_faction_with = GER
		}
		
		completion_reward = {
			GER = { country_event = { id = kmt.247 days = 1 } }	
		}
	}
	
	focus = {
		id = KMT_deal_with_SIK
		icon = GFX_goal_CHI_sinkiang
		x = 3
		y = 4
		cost = 10
		prerequisite = { focus = KMT_warlord focus = KMT_national_def_propaganda }
		ai_will_do = {
			factor = 0
		}
		available = {
			has_army_manpower = {
				size > 749999
			}
			is_puppet = no
			OR = {
				AND = {

					SIK = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}						
					}
					NOT = {
						has_government = communism
					}
				}
				AND = {
					TNG = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}
					}
					NOT = {
						has_government = communism
					}
				}				
			}

		}
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = fascism
					}
					SIK = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}						
					}					
				}
				SIK = {
					country_event = { id = kmt.96 hours = 8 }
				}
			}
			if = {
				limit = {
					has_government = democratic
					SIK = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}						
					}					
				}
				SIK = {
					country_event = { id = kmt.93 }
				}
			}
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = fascism
					}
					TNG = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}						
					}					
				}
				TNG = {
					country_event = { id = kmt.96 hours = 8 }
				}
			}
			if = {
				limit = {
					has_government = democratic
					TNG = {
						exists = yes
						is_puppet = no
						NOT = {
							is_in_Faction_with = ROOT
						}
						NOT = {
							has_war_with = ROOT
						}						
					}					
				}
				TNG = {
					country_event = { id = kmt.93 }
				}
			}			
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}
	
	
		
			
		
		
}
