political_actions = {

	SWE_integrate_aland = {
	
		icon = generic_nationalism
		
		allowed = {
			
			original_tag = SWE
			
		}

		visible = {
			controls_state = 145
			NOT = {
				145 = { is_core_of = ROOT }
			}
		}
		
		available = {
			controls_state = 145
			NOT = {
				145 = { is_core_of = ROOT }
			}
		}

		highlight_states = {
 			highlight_state_targets = { 
				state = 145
			} 
		}

		cost = 30

		days_remove = 60

		cancel_if_not_visible = yes
		
		remove_effect = {
			add_state_core = 145
		}

		ai_will_do = {
			factor = 100
		}
	}
}
SWE_unite_the_cells_category = { 


	SWE_unite_lappland_cells = { 
		icon = generic_form_nation

		cost = 5

		fire_only_once = yes 

		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 666 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 100
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.05
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}

	SWE_unite_norrland_cells = { 
		icon = generic_form_nation

		cost = 5

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 38 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 100
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = Communism
				popularity = 0.05
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}
	
	SWE_unite_jamtland_cells = { 
		icon = generic_form_nation

		cost = 5

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 968 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 100
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.05
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}

	SWE_unite_svealand_cells = { 
		icon = generic_form_nation

		cost = 10

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 141 }
		}

		ai_will_do = {
			factor = 1000
		}	

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.1
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}

	SWE_unite_vastergotland_cells = { 
		icon = generic_form_nation

		cost = 10

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 140 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 1000
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.1
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}

	SWE_unite_smaland_cells = { 
		icon = generic_form_nation

		cost = 5

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 139 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 1000
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.05
			}			
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}

	SWE_unite_scania_cells = { 
		icon = generic_form_nation

		cost = 10

		fire_only_once = yes 

 		available = {
			NOT = { has_country_flag = SWE_united_cell_flag } 
		}

		highlight_states = { 
			highlight_state_targets = { state = 138 }
		}

		complete_effect = { 
			set_country_flag = SWE_united_cell_flag
		}

		ai_will_do = {
			factor = 1000
		}	

		days_remove = 20
		remove_effect = {
			add_popularity = { 
				ideology = communism
				popularity = 0.1
			}
			FROM = { set_country_flag = SWE_united_cell_flag }
			clr_country_flag = SWE_united_cell_flag
		}		
	}	
}
SWE_foreign_diplomacy_decision_category = {
	SWE_pressure_country_government_scandi = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { NOR DEN KAR } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_our_neighbours
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = 30

		days_re_enable = 90

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
		#	custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SWE_promote_ideology_rallies_scandi = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { NOR DEN KAR } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_our_neighbours
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = 30
		days_re_enable = 365

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
		#	custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SWE_fight_alongside_country_comrades_scandi = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { NOR DEN KAR }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_our_neighbours
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}
	SWE_pressure_country_government_fin = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { FIN } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_alliance_with_finland
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = 30

		days_re_enable = 90

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
		#	custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SWE_promote_ideology_rallies_fin = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { FIN } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_alliance_with_finland
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = 30
		days_re_enable = 365

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
		#	custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SWE_fight_alongside_country_comrades_fin = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { FIN }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_alliance_with_finland
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}	
	SWE_pressure_country_government_baltic = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { EST LIT LAT } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_baltics
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = 30

		days_re_enable = 90

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
		#	custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SWE_promote_ideology_rallies_baltic = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { EST LIT LAT } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_baltics
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = 30
		days_re_enable = 365

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = SWE_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
		#	custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SWE_fight_alongside_country_comrades_baltic = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { EST LIT LAT }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SWE_influence_baltics
			is_subject = no
		}

		allowed = {
			original_tag = SWE
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}	
}
SWE_worker_revolt_category = {

	SWE_worker_revolt_militia = {
		icon = GFX_decision_revolt

		available = { NOT = { has_completed_focus = SWE_rally_worker_unions } }

		is_good = no
		cancel_trigger = {
			OR = {
				has_completed_focus = SWE_launch_red_coup
				has_government = communism
			}
		}
		fire_only_once = yes 

		selectable_mission = no
		days_mission_timeout = 210
		timeout_effect = {
			country_event = sweden_soviet.40
			hidden_effect = {
				SOV = {
					add_ai_strategy = {
						type = alliance
						id = "SWE"
						value = -75
					}
				}				
			}
		}
	}	
}
SWE_defensive_militias_category = {
	SWE_prepare_militias = {

		visible = {
			has_war = no
			has_equipment = {
				infantry_equipment > 749
				}
			}

        state_target = yes
        target_trigger = {
            FROM = {
				is_core_of = ROOT
                is_owned_and_controlled_by = ROOT
				state_population_k > 200
            }
        }
        fire_only_once = yes

		custom_cost_text = r56_15_command_power_cost
		custom_cost_trigger = {
			command_power > 15
		}		

		complete_effect = {
			add_command_power = -15
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -350
				producer = SWE
			}
		}

        days_remove = 14
        on_map_mode = map_only

		remove_effect = {
			FROM = { 
				set_state_flag = prepared_defensive_militia 
			}
		}
		ai_will_do = {
			factor = 10
		}		
	}	
	SWE_raise_militia = {

		available = {
			has_defensive_war = yes
		}

		custom_cost_trigger = {
			command_power > 5
			has_political_power > 5
		}

		complete_effect = {
			add_command_power = -5
			add_political_power = -5			
		}
		custom_cost_text = decision_cost_CP_5_pp_5
		
        state_target = yes
        target_trigger = {
            FROM = {
                is_core_of = ROOT
				is_owned_and_controlled_by = ROOT
				NOT = { is_fully_controlled_by = ROOT }
				has_state_flag = prepared_defensive_militia
            }
        }
        fire_only_once = yes
        days_remove = 5
        on_map_mode = map_only

		remove_effect = {
			division_template = {
				name = "Försvars Milis"
				division_names_group = SWE_GAR_01
				is_locked = no
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					garrison = { x = 2 y = 0 }
					garrison = { x = 2 y = 1 }
				}
			}
			FROM = {
				create_unit = {
					division = "division_template = \"Försvars Milis\" start_experience_factor = 0 start_equipment_factor = 1"
					owner = SWE
				}						
			}
		}
		ai_will_do = {
			factor = 10
		}		
	}
}
SWE_the_swedish_german_trade_situation_category = {
	SWE_find_other_trade_partners = {
		visible = {
			OR  = { 
				has_idea = SWE_swedish_german_trade_negative_1_idea 
				has_idea = SWE_swedish_german_trade_0_idea 
				has_idea = SWE_swedish_german_trade_plus_1_idea
				has_idea = SWE_swedish_german_trade_plus_2_idea
			}
		}
		
		icon = GFX_decision_concessions

		available = {
			NOT = {
				has_country_flag = SWE_altering_german_trade_agreement
			}
		}

		cost = 30

		days_remove = 35
		days_re_enable = 120
		
		ai_will_do = {
			factor = 1000
			modifier = {
				OR = {
					has_completed_focus = SWE_abandon_neutrality
					has_completed_focus = SWE_royalist_return
				}
				factor = 0
			}
		}

		complete_effect = {
			custom_effect_tooltip = GEN_120_days_tt			
			set_country_flag = SWE_altering_german_trade_agreement
		}

		remove_effect = {
				clr_country_flag = SWE_altering_german_trade_agreement
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_negative_1_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_negative_2_idea
					remove_idea = SWE_swedish_german_trade_negative_1_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_0_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_negative_1_idea
					remove_idea = SWE_swedish_german_trade_0_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_plus_1_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_0_idea
					remove_idea = SWE_swedish_german_trade_plus_1_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_plus_2_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_plus_1_idea
					remove_idea = SWE_swedish_german_trade_plus_2_idea
				}
			}									
		}
	}
	SWE_expand_german_trade_influence = {
		visible = {
			OR  = { 
				has_idea = SWE_swedish_german_trade_negative_2_idea
				has_idea = SWE_swedish_german_trade_negative_1_idea 
				has_idea = SWE_swedish_german_trade_0_idea 
				has_idea = SWE_swedish_german_trade_plus_1_idea
			}
		}
		
		icon = GFX_decision_concessions

		available = {
			NOT = {
				has_country_flag = SWE_altering_german_trade_agreement
			}
		}

		cost = 30

		days_remove = 35
		days_re_enable = 120

		ai_will_do = {
			factor = 1000
			modifier = {
				OR = {
					has_completed_focus = SWE_gosta_bagge_i_cabinet
					has_completed_focus = SWE_swedish_communism
				}
				factor = 0
			}
		}

		complete_effect = {
			custom_effect_tooltip = GEN_120_days_tt			
			set_country_flag = SWE_altering_german_trade_agreement
		}

		remove_effect = {
				clr_country_flag = SWE_altering_german_trade_agreement
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_plus_1_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_plus_2_idea
					remove_idea = SWE_swedish_german_trade_plus_1_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_0_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_plus_1_idea
					remove_idea = SWE_swedish_german_trade_0_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_negative_1_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_0_idea
					remove_idea = SWE_swedish_german_trade_negative_1_idea
				}
			}
			IF = {
				limit = {
					has_idea = SWE_swedish_german_trade_negative_2_idea
				}
				swap_ideas = {
					add_idea = SWE_swedish_german_trade_plus_1_idea
					remove_idea = SWE_swedish_german_trade_negative_2_idea
				}
			}									
		}		
	}
	SWE_reestablish_trade_with_germany = {
		visible = {
			OR  = {
				NOT = { 
					has_idea = SWE_swedish_german_trade_plus_2_idea 
					has_idea = SWE_swedish_german_trade_plus_1_idea
					has_idea = SWE_swedish_german_trade_0_idea 
					has_idea = SWE_swedish_german_trade_negative_1_idea
					has_idea = SWE_swedish_german_trade_negative_2_idea
				}
			}
		}
		
		available = {
		}

		cost = 100

		days_remove = 42

		remove_effect = {
			IF = {
				limit = {
					NOT = { has_idea = SWE_swedish_german_trade_0_idea }
				}
					add_ideas = SWE_swedish_german_trade_0_idea
			}									
		}
	}			
}
SWE_the_winter_war_category = { 
	SWE_aid_finland_in_their_fight = {

		visible = {

		}
		
		icon = GFX_decision_concessions

		cost = 10

		fire_only_once = yes 

		days_remove = 7

		remove_effect = {
			add_ideas = SWE_the_winter_war_volunteers_idea								
		}
		ai_will_do = {
			factor = 1000
		}		
	}
	SWE_send_guns_to_finland = {

		available = {
			has_idea = SWE_the_winter_war_volunteers_idea	
			has_equipment = {
				infantry_equipment > 1499
			}
		}
		
		icon = GFX_decision_generic_industry

		cost = 25

		days_remove = 21

		remove_effect = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = FIN
			}
		}
		ai_will_do = {
			factor = 1000
		}		
	}
	SWE_send_artillery_to_finland = {

		available = {
			has_idea = SWE_the_winter_war_volunteers_idea	
			has_equipment = {
				artillery_equipment > 749
			}
		}
		
		icon = GFX_decision_ger_military_buildup

		cost = 25

		days_remove = 21

		remove_effect = {
			send_equipment = {
				equipment = artillery_equipment
				amount = 500
				target = FIN
			}
		}
		ai_will_do = {
			factor = 1000
		}		
	}
	SWE_recruit_volunteers_for_the_finnish_army = {

		available = {
			has_idea = SWE_the_winter_war_volunteers_idea	
			has_equipment = {
				infantry_equipment > 1499
			}
			has_manpower > 7000
		}
		
		icon = GFX_decision_generic_military

		cost = 50

		days_remove = 30

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment 
				amount = -600
			}		
			add_manpower = -6000
			FIN = {
				division_template = {
					name = "Svensk Volontär Division"
					division_names_group = SWE_GAR_01
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
					}
				}
				148 = {
					create_unit = {
						division = "division_template = \"Svensk Volontär Division\" start_experience_factor = 0.2 start_equipment_factor = 1"
						owner = FIN
					}						
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}		
	}
	SWE_offer_concessions_to_soviets = {

		icon = hol_exchange_intelligence_data

		available = {
			has_war_with = SOV
			has_civil_war = no
			is_in_faction = no
			FIN = {
				NOT = { has_war_with = SOV }
			}
		}

		visible = {
			has_completed_focus = SWE_intervention_in_the_winter_war
			has_war_with = SOV
		}
		
		ai_will_do = {
			factor = 8
		}
		
		fire_only_once = yes

		complete_effect = {
			SOV = {
				country_event = { id = sweden_winter_war.1 }
			}
			custom_effect_tooltip = finland.7.a_tt
			effect_tooltip = {
				SOV = { 
					white_peace = {
						tag = SWE 
						message = SWE_agree_peace 
					} 
				}
				transfer_state = 124
			}
		}
	}			
}
SWE_nationalist_military_garrisons_category = {
	SWE_crackdown_on_nationalism_in_the_army = {

		visible = {
			OR = {
				has_completed_focus = SWE_swedish_internal_policy
				has_completed_focus = SWE_swedish_communism
				
			}
			OR = {
				has_idea = SWE_nationalist_military_garrisons_subservient
				has_idea = SWE_nationalist_military_garrisons
				has_idea = SWE_nationalist_military_garrisons_aggitated
				has_idea = SWE_nationalist_military_garrisons_rebellious
			}
		}

		icon = GFX_decision_oppression

        state_target = yes
        target_trigger = {
            FROM = {
				is_core_of = ROOT
                is_owned_and_controlled_by = ROOT
				state_population_k > 900
            }
        }
        fire_only_once = yes

		cost = 25

        days_remove = 25
        on_map_mode = map_only 

		remove_effect = {
			 SWE_fascism_level_down = yes												
		}
		ai_will_do = {
			factor = 10000
		}			
	}
	SWE_empower_nationalist_garrisons = {

		visible = {
			OR = {
				has_completed_focus = SWE_abandon_neutrality
				has_completed_focus = SWE_royalist_return
			}
		}
		icon = GFX_decision_generic_military
        state_target = yes
        target_trigger = {
            FROM = {
				is_core_of = ROOT
                is_owned_and_controlled_by = ROOT
				state_population_k > 900
            }
        }
        fire_only_once = yes

		cost = 25

        days_remove = 25
        on_map_mode = map_only 

		remove_effect = {
			SWE_fascism_level_up = yes												
		}
		ai_will_do = {
			factor = 10000
		}				
	}	
}
SWE_nordic_resistance_fighters_category = {
	SWE_fund_norwegian_resistance_fighters = {
		available = {
			NOR = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				infantry_equipment > 499
			}
		}
		
		icon = GFX_decision_generic_civil_support

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_nor = yes
			send_equipment = {
				equipment = infantry_equipment
				amount = 250
				target = NOR
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	SWE_fund_danish_resistance_fighters = {
		available = {
			DEN = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				infantry_equipment > 499
			}
		}

		visible = {
			DEN = {
				NOT = {
					is_in_faction_with = GER
				}
			}
		}

		icon = GFX_decision_generic_civil_support

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_den = yes
			send_equipment = {
				equipment = infantry_equipment
				amount = 250
				target = DEN
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	SWE_support_equipment_to_the_norwegian_resistance = {
		available = {
			NOR = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				support_equipment > 499
			}
		}
		
		icon = GFX_decision_generic_merge_plant_materiel

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_nor = yes
			send_equipment = {
				equipment = support_equipment
				amount = 50
				target = NOR
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	SWE_support_equipment_to_the_danish_resistance = {
		available = {
			DEN = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				support_equipment > 499
			}
		}

		visible = {
			DEN = {
				NOT = {
					is_in_faction_with = GER
				}
			}
		}

		icon = GFX_decision_generic_merge_plant_materiel

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_den = yes
			send_equipment = {
				equipment = support_equipment
				amount = 50
				target = DEN
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	SWE_heavy_guns_to_the_norwegian_resistance = {
		available = {
			NOR = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				artillery_equipment > 149
			}
		}
		
		icon = GFX_decision_generic_ignite_civil_war

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_nor = yes
			send_equipment = {
				equipment = artillery_equipment
				amount = 50
				target = NOR
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	SWE_heavy_guns_to_the_danish_resistance = {
		available = {
			DEN = { has_idea = SWE_norwegian_danish_resistance_stage_0 }
			has_equipment = {
				artillery_equipment > 149
			}
		}
		
		visible = {
			DEN = {
				NOT = {
					is_in_faction_with = GER
				}
			}
		}

		icon = GFX_decision_generic_ignite_civil_war

		cost = 50

		days_remove = 35

		remove_effect = {
			SWE_resistance_level_up_den = yes
			send_equipment = {
				equipment = artillery_equipment
				amount = 50
				target = DEN
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}						
}
SWE_fighting_unemployment_category = {
	SWE_factory_subsidies = {
		icon = GFX_decision_generic_factory

		cost = 50

		available = {
			NOT = { has_country_flag = SWE_subsidising }
		}

		days_remove = 180
		days_re_enable = 360

		modifier = {
			industrial_capacity_factory = 0.15	
			consumer_goods_factor = 0.1
			political_power_factor = -0.1
			production_factory_efficiency_gain_factor = 0.1
			production_factory_max_efficiency_factor = 0.1				
		}

		complete_effect = {
			custom_effect_tooltip = GEN_365_days_tt
			set_country_flag = SWE_subsidising
		}

		remove_effect = {
				clr_country_flag = SWE_subsidising
		}
	}
	SWE_dockyard_subsidies = {
		icon = GFX_decision_generic_construction

		cost = 50

		available = {
			NOT = { has_country_flag = SWE_subsidising }
		}

		modifier = {
			industrial_capacity_dockyard = 0.15	
			consumer_goods_factor = 0.1
			political_power_factor = -0.1
			production_factory_efficiency_gain_factor = 0.1
			production_factory_max_efficiency_factor = 0.1				
		}		

		days_remove = 180
		days_re_enable = 360
		complete_effect = {
			custom_effect_tooltip = GEN_365_days_tt
			set_country_flag = SWE_subsidising
		}

		remove_effect = {
			clr_country_flag = SWE_subsidising
		}
	}	
}
SWE_find_an_alliance_category = {
	SWE_join_demo_from_factionname = {

		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_capitulated = no
			is_subject = no
			is_in_faction = no
			NOT = {
				has_idea = ROOT_diplomatic_effort
			}
		}

		visible = {
			is_subject = no
			has_completed_focus = SWE_neutral_no_more
			is_in_faction = no			
		}

		target_trigger = {
			FROM = {
				capital_scope = {
					is_core_of = FROM
					is_on_continent = Europe
				}
				is_faction_leader = yes
				is_subject = no
				has_capitulated = no
				NOT = {
					has_war_with = ROOT
				}
				has_government = democratic
			}
		}

		fire_only_once = yes
		cost = 25

		ai_will_do = {
			factor = 5
			modifier = {
				ROOT = {
					has_government = democratic
				}
				factor = 10
			}
		}

		days_remove = 30

		complete_effect = {
			add_ideas = ROOT_diplomatic_effort
		}

		remove_effect = {
			remove_ideas = ROOT_diplomatic_effort
			if = {
				limit = {
					FROM = {
						is_faction_leader = yes
					}
				}
				FROM = {
					country_event = generic.2
				}								
			}	
		}
	}		
}
SWE_host_fascist_exiles_europe_category = {
	SWE_host_fascist_exiles_europe = {

		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_capitulated = no
			is_subject = no
		}

		visible = {
			is_subject = no
			has_completed_focus = SWE_host_fascist_exiles		
		}

		target_trigger = {
			FROM = {
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
				NOT = { 
					has_government = fascism 
				} 
				OR = {
					original_tag = GER
					original_tag = ITA
					original_tag = AUS
				}
			}
		}

		fire_only_once = yes
		cost = 50

		ai_will_do = {
			factor = 5
			modifier = {
				ROOT = {
					has_government = fascism
				}
				factor = 10
			}
		}

		days_remove = 30

		complete_effect = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_decrease
				}			
			}
		}

		remove_effect = {			
			if = {
				limit = {
					NOT = { has_idea = SWE_hosting_exiled_european_fascists_level_1 }

				}		
				add_ideas = SWE_hosting_exiled_european_fascists_level_1
			}
			else = {
				SWE_host_fascism_level_up = yes
			}

		}
	}		
}
SWE_reintegrate_the_empire_category = {
	SWE_reintegrate_state_into_empire = {

		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}
		
		available = {
			has_capitulated = no
			FROM = {
				compliance > 45
			}
		}

		visible = {
			has_completed_focus = SWE_prince_gustafs_coup
			has_government = neutrality
		}

		on_map_mode = map_and_decisions_view

		highlight_states = {
 			highlight_state_targets = { 
				state = FROM
			} 
		}

		state_target = yes
        target_trigger = {
            FROM = {
                is_owned_and_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
				OR = {
					is_core_of = DEN
					is_core_of = NOR
					is_core_of = FIN
					is_core_of = ICE
					is_core_of = EST
					is_core_of = LAT
					state = 195
					state = 208
					state = 209
					state = 62
				}
				compliance > 25
            }
        }
		ai_will_do = {
			factor = 100
		}

		cost = 30

		days_remove = 35

		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
}
SWE_greater_sweden_category = {
	SWE_integrate_norway = {
		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_capitulated = no
			NOT = {
				has_country_flag = SWE_integrating_neighbour
			}
			110 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			967 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			142 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			143 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			144 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}												
		}

		visible = {
			has_government = fascism
		}

		cost = 100

		days_remove = 100

		complete_effect = {
			set_country_flag = SWE_integrating_neighbour
		}

		remove_effect = {
			clr_country_flag = SWE_integrating_neighbour
			set_country_flag = SWE_norway_integrated
			every_owned_state = {
				limit = {
					is_core_of = NOR
				}
				add_core_of = SWE 
			}
		}
	}
	SWE_integrate_denmark = {
		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_capitulated = no
			NOT = {
				has_country_flag = SWE_integrating_neighbour
			}
			37 = {
				is_owned_and_controlled_by = SWE
				compliance > 35
				resistance < 10
			}
			99 = {
				is_owned_and_controlled_by = SWE
				compliance > 35
				resistance < 10
			}
			964 = {
				is_owned_and_controlled_by = SWE
				compliance > 35
				resistance < 10
			}											
		}

		visible = {
			has_government = fascism
		}

		cost = 100

		days_remove = 100

		complete_effect = {
			set_country_flag = SWE_integrating_neighbour
		}

		remove_effect = {
			clr_country_flag = SWE_integrating_neighbour
			set_country_flag = SWE_denmark_integrated
			every_owned_state = {
				limit = {
					is_core_of = DEN
				}
				add_core_of = SWE 
			}
		}
	}
	SWE_integrate_finland = {
		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_capitulated = no
			NOT = {
				has_country_flag = SWE_integrating_neighbour
			}
			111 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}			
			146 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			147 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			148 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			149 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}
			150 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}																				
			722 = {
				is_owned_and_controlled_by = SWE				
				compliance > 35
				resistance < 10
			}		
		}

		visible = {
			has_government = fascism
		}

		cost = 100

		days_remove = 100

		complete_effect = {
			set_country_flag = SWE_integrating_neighbour
		}

		remove_effect = {
			clr_country_flag = SWE_integrating_neighbour
			set_country_flag = SWE_finland_integrated
			every_owned_state = {
				limit = {
					is_core_of = FIN
				}
				add_core_of = SWE 
			}
		}
	}
	SWE_proclaim_greater_sweden_decision = {
		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = SWE
		}

		available = {
			has_country_flag = SWE_norway_integrated
			has_country_flag = SWE_denmark_integrated
			has_country_flag = SWE_finland_integrated
		}

		visible = {
			has_completed_focus = SWE_proclaim_greater_sweden
			has_government = fascism
		}

		complete_effect = {
			set_cosmetic_tag = SWE_GREAT_SWE
			add_stability = 0.03
		}
	}		
}
SWE_obtain_plane_schematics_category = {
	SWE_obtain_plane_schematics = {
	
		icon = generic_air
	
		visible = {
			has_completed_focus = SWE_foreign_aircraft_designs
		}
		available = {
			FROM = {
				exists = yes	
				has_government = ROOT
				num_of_factories > 50 
				has_opinion	= {
					target = ROOT
					value > 49
				}
			}
			num_of_civilian_factories_available_for_projects > 2
			has_completed_focus = SWE_foreign_aircraft_designs
		}
	
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_major = yes
						NOT = {
							original_tag = CHI
							original_tag = PRC
						}
						has_opinion = {
							target = ROOT 
							value > 49
						}
						has_government = ROOT
						num_of_factories > 80
					}
				}
			}
		}
	
		days_remove = 90
		days_re_enable = 365
	
		cost = 50
	
		fire_only_once = no
	
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 2
				is_historical_focus_on = yes
				OR = {
					has_political_power > 500
					num_of_factories > 15 	#can afford some planes, maybe
				}
			}
		}
	
		modifier = {
			civilian_factory_use = 2
		}
	
		complete_effect = {
			custom_effect_tooltip = GEN_365_days_tt
			FROM = {
				add_offsite_building = { type = industrial_complex level = 2 }
			}
		}
		
		remove_effect = {
			add_tech_bonus = {
				name = air_bonus
				bonus = 2
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
				category = cat_strategic_bomber
				category = tactical_bomber
				category = cas_bomber
				category = naval_bomber
			}
			FROM = {
				add_offsite_building = { type = industrial_complex level = -2 }
			}
		}
	}
}