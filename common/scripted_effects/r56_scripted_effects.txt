civil_war_anti_exploiter_punitive_action_r56 = {
	# Anti-exploiter punitive brigades! BET YA DIDN'T SEE THAT COMING DID YA?!
	if = {
		limit = {
			has_army_size = {
			    size < 2
			}
		}
		division_template = {
			name = "Independent Batallion"
			priority = 1
			is_locked = yes
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
	
		   	   	infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }

			}
			support = {
			}
		}
		random_state = {
			limit = {
				is_capital = yes
				is_fully_controlled_by = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
		}
		random_state = {
			limit = {
				is_in_home_area = yes
				is_fully_controlled_by = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
		}
		random_state = {
			limit = {
				is_in_home_area = yes
				is_fully_controlled_by = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
			create_unit = {
				division = "division_template = \"Independent Batallion\" start_experience_factor = 0.3 start_equipment_factor = 0.75"
				owner = PREV
			}
		}
	}
}

r56_other_faction_invite_fascism = {
	if = {
		limit = {
			capital_scope = {
				#North and South America
				OR = {
					region = 3
					region = 4
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}	
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			capital_scope = {
				#asia - Oceania
				OR = {
					region = 6
					region = 9
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes
				capital_scope = {
					#asia - Oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}	
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#asia - Oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}				
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = fascism
				is_faction_leader = yes

				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = fascism
				is_faction_leader = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
}
r56_other_faction_invite_communism = {
	if = {
		limit = {
			capital_scope = {
				#North and South America
				OR = {
					region = 3
					region = 4
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			capital_scope = {
				#Asia Oceania
				OR = {
					region = 6
					region = 9
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				capital_scope = {
					#Asia oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#Asia oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}		
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes

				has_capitulated = no
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}		
}
r56_other_faction_invite_democratic = {
	if = {
		limit = {
			capital_scope = {
				#North and South America
				OR = {
					region = 3
					region = 4
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}	
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#North and South America
					OR = {
						region = 3
						region = 4
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			capital_scope = {
				#Asia Oceania
				OR = {
					region = 6
					region = 9
				}
				#Avoid the netherlands in Suriname prioritizing joining American faction
				is_core_of = ROOT				
			}
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
				capital_scope = {
					#Asia oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}
				has_capitulated = no
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				surrender_progress < 0.8				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				num_of_factories > 15
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}
				capital_scope = {
					#Asia oceania
					OR = {
						region = 6
						region = 9
					}
					is_core_of = ROOT				
				}				
				surrender_progress < 0.8			
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}				
	}		
	else_if = {
		limit = {
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}				
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 70
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
				has_opinion = {
					target = ROOT
					value > 0
				}				
			}

			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
				has_opinion = {
					target = ROOT
					value > 0
				}				
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
				has_opinion = {
					target = ROOT
					value > 0
				}				
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes

				has_capitulated = no
				NOT = { has_war_with = ROOT }
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
				has_opinion = {
					target = ROOT
					value > 0
				}				
			}
		}
		random_other_country = {
			limit = {
				has_government = democratic
				is_faction_leader = yes
				has_capitulated = no
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}		
}

r56_other_faction_invite_communism_NOT_SOV = {
	if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 70
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = PREV
					has_war_with = ROOT
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 70
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}				
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				num_of_factories > 50
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				num_of_factories > 50
				NOT = { has_war_with = ROOT }
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}

			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				is_major = yes
				has_capitulated = no
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}
	else_if = {
		limit = {
			any_other_country = {
				has_government = communism
				is_faction_leader = yes

				has_capitulated = no
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				has_opinion = {
					target = ROOT
					value > 0
				}					
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
		}
		random_other_country = {
			limit = {
				has_government = communism
				is_faction_leader = yes
				has_capitulated = no
				NOT = { 
					OR = {
						original_tag = SOV
					}
					has_war_with = ROOT 
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = PREV
						has_war_with = ROOT
					}
				}
			}
			country_event = generic.2
		}
	}		
}


KMT_lend_lease_focus_effect = {
		if = {
			limit = {
				NOT = {
					has_war_with = GER
					any_country = {
						is_in_faction_with = GER
						has_war_with = ROOT
					}
				}
			}
			if = {
				limit = {
					GER = {
						has_tech = infantry_weapons
						NOT = {
							has_tech = infantry_weapons1
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 250 producer = GER }
			}
			if = {
				limit = {
					GER = {
						has_tech = infantry_weapons1
						NOT = {
							has_tech = improved_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 250 producer = GER }
			}
			if = {
				limit = {
					GER = {
						has_tech = improved_infantry_weapons
						NOT = {
							has_tech = advanced_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 250 producer = GER }
			}
			if = {
				limit = {
					GER = {
						has_tech = advanced_infantry_weapons
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 250 producer = GER }
			}
		}
		if = {
			limit = {
				ENG = {
					has_government = democratic
				}
				NOT = {
					has_war_with = ENG
					any_country = {
						is_in_faction_with = ENG
						has_war_with = ROOT
					}
				}
				OR = {
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
					ENG = {
						has_completed_focus = uk_burma_focus
						NOT = {
							640 = {
								controller = {
									has_war_with = ROOT
								}
							}
							325 = {
								controller = {
									has_war_with = ROOT
								}
							}
						}
					}
					AND = {
						OR = {
							640 = {
								controller = {
									has_war_with = ROOT
								}
							}
							325 = {
								controller = {
									has_war_with = ROOT
								}
							}
						}
						CHI = {
							has_completed_focus = KMT_ledo_road
						}
					}
				}
			}
			if = {
				limit = {
					ENG = {
						has_tech = infantry_weapons
						NOT = {
							has_tech = infantry_weapons1
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 250 producer = ENG }
			}
			if = {
				limit = {
					ENG = {
						has_tech = infantry_weapons1
						NOT = {
							has_tech = improved_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 250 producer = ENG }
			}
			if = {
				limit = {
					ENG = {
						has_tech = improved_infantry_weapons
						NOT = {
							has_tech = advanced_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 250 producer = ENG }
			}
			if = {
				limit = {
					ENG = {
						has_tech = advanced_infantry_weapons
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 250 producer = ENG }
			}
		}
		if = {
			limit = {
				USA = {
					has_government = democratic
				}
				NOT = {
					has_war_with = USA
					any_country = {
						is_in_faction_with = USA
						has_war_with = ROOT
					}
				}
				OR = {
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
					AND = {
						USA = {
							NOT = {
								has_war_with = ENG
								any_country = {
									is_in_faction_with = ENG
									has_war_with = USA
								}
							}
						}
						OR = {
							ENG = {
								has_completed_focus = uk_burma_focus
								NOT = {
									640 = {
										controller = {
											has_war_with = ROOT
										}
									}
									325 = {
										controller = {
											has_war_with = ROOT
										}
									}
								}
							}
							AND = {
								OR = {
									640 = {
										controller = {
											has_war_with = ROOT
										}
									}
									325 = {
										controller = {
											has_war_with = ROOT
										}
									}
								}
								CHI = {
									has_completed_focus = KMT_ledo_road
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					USA = {
						has_tech = infantry_weapons
						NOT = {
							has_tech = infantry_weapons1
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 250 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = infantry_weapons1
						NOT = {
							has_tech = improved_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 250 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = improved_infantry_weapons
						NOT = {
							has_tech = advanced_infantry_weapons
						}
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 250 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = advanced_infantry_weapons
					}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 250 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = gwtank
						NOT = {
							has_tech = basic_light_tank
						}
					}
				}
				add_equipment_to_stockpile = { type = gw_tank_equipment amount = 25 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = basic_light_tank
						NOT = {
							has_tech = improved_light_tank
						}
					}
				}
				add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 25 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = improved_light_tank
						NOT = {
							has_tech = advanced_light_tank
						}
					}
				}
				add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 25 producer = USA }
			}
			if = {
				limit = {
					USA = {
						has_tech = advanced_light_tank
					}
				}
				add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 25 producer = USA }
			}
		}
		if = {
			limit = {
				NOT = {
					has_war_with = SOV
					any_country = {
						is_in_faction_with = SOV
						has_war_with = ROOT
					}
				}
				SOV = {
					NOT = {
						has_government = fascism
					}
				}
			}
			if = {
				limit = {
					SOV = {
						NOT = {
							has_completed_focus = SOV_support_the_kuomintang
						}
					}
				}
				else = {
					if = {
						limit = {
							SOV = {
								has_tech = infantry_weapons
								NOT = {
									has_tech = infantry_weapons1
								}
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 500 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = infantry_weapons1
								NOT = {
									has_tech = improved_infantry_weapons
								}
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 500 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = improved_infantry_weapons
								NOT = {
									has_tech = advanced_infantry_weapons
								}
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 500 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = advanced_infantry_weapons
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 500 producer = SOV }
					}
				}
				if = {
					limit = {
						SOV = {
							has_tech = infantry_weapons
							NOT = {
								has_tech = infantry_weapons1
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 250 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = infantry_weapons1
							NOT = {
								has_tech = improved_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 250 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = improved_infantry_weapons
							NOT = {
								has_tech = advanced_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 250 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = advanced_infantry_weapons
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 250 producer = SOV }
				}
			}
			if = {
				limit = {
					SOV = {
						NOT = {
							has_completed_focus = SOV_support_the_kuomintang
						}
					}
				}else = {
					if = {
						limit = {
							SOV = {
								has_tech = gwtank
								NOT = {
									has_tech = basic_light_tank
								}
							}
						}
						add_equipment_to_stockpile = { type = gw_tank_equipment amount = 35 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = basic_light_tank
								NOT = {
									has_tech = improved_light_tank
								}
							}
						}
						add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 35 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = improved_light_tank
								NOT = {
									has_tech = advanced_light_tank
								}
							}
						}
						add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 35 producer = SOV }
					}
					if = {
						limit = {
							SOV = {
								has_tech = advanced_light_tank
							}
						}
						add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 35 producer = SOV }
					}
				}
				if = {
					limit = {
						SOV = {
							has_tech = gwtank
							NOT = {
								has_tech = basic_light_tank
							}
						}
					}
					add_equipment_to_stockpile = { type = gw_tank_equipment amount = 25 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = basic_light_tank
							NOT = {
								has_tech = improved_light_tank
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 25 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = improved_light_tank
							NOT = {
								has_tech = advanced_light_tank
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 25 producer = SOV }
				}
				if = {
					limit = {
						SOV = {
							has_tech = advanced_light_tank
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 25 producer = SOV }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_war_with = ITA
					any_country = {
						is_in_faction_with = ITA
						has_war_with = ROOT
					}
				}
			}
			if = {
				limit = {
					ITA = {
						has_tech = gw_artillery
						NOT = {
							has_tech = artillery1
						}
					}
				}
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 10 producer = ITA }
			}
			if = {
				limit = {
					ITA = {
						has_tech = artillery1
						NOT = {
							has_tech = artillery4
						}
					}
				}
				add_equipment_to_stockpile = { type = artillery_equipment_2 amount = 10 producer = ITA }
			}
			if = {
				limit = {
					ITA = {
						has_tech = artillery4
					}
				}
				add_equipment_to_stockpile = { type = artillery_equipment_3 amount = 10 producer = ITA }
			}
		}
		hidden_effect = {
			country_event = { id = kmt.274 days = 30 }
		}
	}
}

withdraw_from_all_wars_with_puppet = {
	if = {
		limit = {
			has_government = neutrality
		}
		random_other_country = {
			limit = {
				has_government = neutrality
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = neutrality
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = fascism
		}
		random_other_country = {
			limit = {
				has_government = fascism
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = fascism
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = communism
		}
		random_other_country = {
			limit = {
				has_government = communism
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = communism
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = democratic
		}
		random_other_country = {
			limit = {
				has_government = democratic
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = democratic
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.95
		}
	}
}