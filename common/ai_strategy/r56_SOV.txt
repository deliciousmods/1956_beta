# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# alliance
# influence

R56_SOV_dont_switch_start_t26_production_to_bt7 = { #allows soviets to fill Tanks divs early game
	allowed = {
		original_tag = SOV
	}

	enable = {
		date < "1938.3.1" #we can switch after this
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = production_upgrade_desire_offset
		id = light_tank_chassis_2
		value = -225
	}

	ai_strategy = { #don't switch tp A20 when we don't have tech yet
		type = production_upgrade_desire_offset
		id = medium_tank_chassis_1
		value = -225
	}	
	
	ai_strategy = { #Side not don't send tanks here just from them to die to low supply. Okay?
		type = front_armor_score
		id = "MAN"
		value = -100
	}

	ai_strategy = { 
		type = save_equipment
		id = medium_tank_chassis
		value = 100
	}
}

R56_SOV_t34_time = { 
	allowed = {
		original_tag = SOV
	}

	enable = {
		date > "1940.2.1" 
	}

	abort_when_not_enabled = yes


	ai_strategy = {
		type = equipment_production_factor
		id = medium_tank_chassis_2
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = light_tank_chassis_2
		value = -15
	}

	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 10
	}

	ai_strategy = {
		type = template_prio
		id = light_armor
		value = -15
	}
}

r56_SOV_prepare_for_finland_war = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		FIN = {
			has_completed_focus = fin_germantreatyfoc
			exists = yes
			is_neighbor_of = ROOT
			NOT = {
				is_in_faction_with = ROOT
			}
		}
		GER = { has_offensive_war_with = ROOT }
		OR = {
			GER = {
				OR = {
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
						has_full_control_of_state = 94
						has_full_control_of_state = 241
					}
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
					}
					AND = {
						has_full_control_of_state = 207
						has_full_control_of_state = 206
						has_full_control_of_state = 204
					}
					AND = {
						has_full_control_of_state = 96
						has_full_control_of_state = 812
						has_full_control_of_state = 813
					}
					AND = {
						has_full_control_of_state = 812
						has_full_control_of_state = 813
						has_full_control_of_state = 896
					}
				}
			}
			SOV = {
				surrender_progress > 0.20
			}
		}
		SOV = {
			surrender_progress > 0.02
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = prepare_for_war
		id = "FIN"			
		value = 125
	}
}

r56_SOV_save_some_guns_in_the_back_for_german_invasion = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		date > 1941.2.1 #start the stockpile at this date
		date < 1941.7.1 #stop the stockpile at this date
		is_historical_focus_on = yes
		ROOT = {
			is_major = yes
			country_exists = yes
			surrender_progress < 0.10
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = { #So our troops aren't all fighting with sticks 
		type = save_equipment
		id = infantry_equipment
		value = 1
	}

	ai_strategy = { 
		type = save_equipment
		id = medium_tank_chassis
		value = 1
	}
	
}

r56_SOV_need_to_stockpile_and_save_for_ww2 = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		date > 1941.1.1 #slow down the build up at this date
		ROOT = {
			is_major = yes
			country_exists = yes
			surrender_progress < 0.02
		}
		if = {
			limit = {
				SOV = {
					has_war = yes
				}
			}
			any_enemy_country = {
				NOT = {
					is_major = no
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = 1
	}	
}


r56_SOV_be_nice_to_poland_please_if_in_allies_or_atleast_before_1941 = { #Only you Rt56 Dev can prevent WW3 - SpicyAlfredo
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		country_exists = POL
		OR = {
			date < 1941.1.1
			AND = {
				POL = {
					is_in_faction_with = ENG
				}
				ENG = {
					is_major = yes
				}
			}
		}
		NOT = { 
			has_global_flag = rt56_old_school
		}
		ROOT = {
			is_neighbor_of = POL
			NOT = {
				has_completed_focus = SOV_claims_on_poland
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = { #switched to befriend instead of negative antagonize, reads more logically although having a different (seemingly better) effect, they no longer want to form a faction immediately for example
		type = befriend
		id = "POL"
		value = 75
	}

	ai_strategy = {
		type = declare_war
		id = "POL"
		value = -100
	}

	ai_strategy = {
		type = conquer
		id = "POL"			
		value = -100
	}

	ai_strategy = {
		type = declare_war
		id = "POL"			
		value = -100
	}

	ai_strategy = {
		type = invade
		id = "POL"			
		value = -100
	}
	
}

r56_SOV_dont_be_dumb_with_allies = { #complex script, may need to revist. 
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		date < 1946.1.1  
		NOT = { 
			has_global_flag = rt56_old_school
		}
		ROOT = {
			has_government = communism 
			NOT = {
				has_completed_focus = SOV_world_revolution
			}
			any_allied_country = {
				AND = {
					is_ai = yes
					has_war = yes
					NOT = {	is_neighbor_of = SOV }
				}
			}
			NOT = {
				OR = {
					has_war_with = ENG
					has_war_with = USA
					has_war_with = JAP
					has_war_with = FRA
				}
			}
		}
	}

	abort_when_not_enabled = yes

	#Why is it whenever I fight the allies. It's always you guys?
	ai_strategy = {
		type = dont_join_wars_with
		id = "NEP"
		value = 100
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "BUL"
		value = 100
	}
	ai_strategy = {
		type = alliance
		id = "BUL"
		value = -10
	}
	ai_strategy = {
		type = alliance
		id = "NEP"
		value = -25
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "SIA"
		value = 100
	}
	ai_strategy = {
		type = alliance
		id = "SIA"
		value = -10
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "VIN"
		value = 100
	}
	ai_strategy = {
		type = alliance
		id = "VIN"
		value = -50 #We can be friends until you gain power Ho, then things get diffcult 
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "MEX"
		value = 100
	}
	ai_strategy = {
		type = alliance
		id = "MEX"
		value = -10
	}
	ai_strategy = { #you made the list
		type = dont_join_wars_with
		id = "RAJ"
		value = 100
	}
	ai_strategy = { #you made the list
		type = alliance
		id = "RAJ"
		value = -10
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "RUT"
		value = 125
	}
	ai_strategy = {
		type = alliance
		id = "RUT"
		value = -125
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "OMA"
		value = 125 #Youre more touble then the others...
	}
	ai_strategy = {
		type = alliance
		id = "OMA"
		value = -100 #Youre more touble then the others...
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "URG"
		value = 200 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = alliance
		id = "URG"
		value = -175 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "HON"
		value = 200 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = alliance
		id = "HON"
		value = -100 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "ELS"
		value = 125 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = alliance
		id = "ELS"
		value = -100 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = "HAI"
		value = 200 #Youre much more touble then the others...
	}
	ai_strategy = {
		type = alliance
		id = "HAI"
		value = -100 #Youre much more touble then the others...
	}
}

r56_SOV_bad_kid_MON = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		ROOT = {
			has_government = communism
			is_puppet = no 
		}
		MON = {
			is_ai = yes
			OR = {
				NOT = {
					OR = {
						is_in_faction_with = SOV 
						is_puppet_of = SOV
						is_in_faction_with = ENG
					}
				}
				NOT = {	has_government = communism }
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = antagonize
		id = "MON"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "MON"			
		value = 500
	}

	ai_strategy = {
		type = declare_war
		id = "MON"			
		value = 500
	}

	ai_strategy = {
		type = invade
		id = "MON"			
		value = 500
	}

	ai_strategy = {
		type = befriend
		id = "MON"			
		value = -25
	}

}

r56_SOV_bad_kid_TAN = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		#original_tag = SOV
		ROOT = {
			has_government = communism 
		}
		TAN = {
			is_ai = yes
			OR = {
				NOT = {
					OR = {
						is_in_faction_with = SOV 
						is_puppet_of = SOV
						is_in_faction_with = ENG
					}
				}
				NOT = {	has_government = communism }
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "TAN"
		value = 500
	}

	ai_strategy = {
		type = antagonize
		id = "TAN"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "TAN"			
		value = 500
	}

	ai_strategy = {
		type = invade
		id = "TAN"			
		value = 500
	}
	
	ai_strategy = {
		type = befriend
		id = "TAN"			
		value = -25
	}

	
}

r56_SOV_treat_BRA_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry WW2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		#tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
		}
		BRA = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = BRA
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			BRA = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = bra_amigo_urss
				}
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "BRA"			
		value = -25
	}
	ai_strategy = {
		type = alliance
		id = "BRA"			
		value = -75
	}	
}

r56_SOV_treat_CHL_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry WW2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		#tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
		}
		CHL = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = CHL
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			CHL = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = CHL_comintern
				}
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "CHL"			
		value = -75
	}	
}

r56_SOV_treat_ARG_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry ww2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
			exists = yes
		}
		ARG = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = ARG
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			ARG = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = ARG_join_the_comintern
				}
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "ARG"			
		value = -75
	}	
}

r56_SOV_treat_COL_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry ww2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		#tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
		}
		COL = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = COL
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			COL = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = COL_join_the_comintern
				}
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "COL"			
		value = -75
	}	
}

r56_SOV_treat_URG_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry ww2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		#tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
		}
		URG = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = URG
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			URG = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = URG_join_the_comintern
				}
			}
		}
	}	

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "URG"			
		value = -75
	}	
}

r56_SOV_treat_HON_bad_untill_they_do_something_or_if_the_time_is_good = { #used to prevent ealry WW2's
	allowed = {
		original_tag = SOV
	}

	enable = {
		#tag = SOV
		ROOT = {
			has_government = communism 
			is_faction_leader = yes
		}
		HON = {
			has_government = communism 
			is_in_faction = no
		}		
		country_exists = HON
	}

	abort = {
		OR = {
			date > 1950.1.1
			SOV = {
				has_war_with = USA
			}
			HON = {
				OR = {
					AND = {
						has_war_together_with = SOV
						has_war_with = USA
					}
					has_completed_focus = HON_join_soviets
				}
			}
		}
	}	

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "HON"			
		value = -75
	}	
}
