# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence

ENG_you_should_help_france_bro = {
	enable = {
		tag = ENG
	  	has_government = democratic
		ENG = {
			has_war_with = GER
			is_in_faction_with = FRA
		}
		FRA = {
			has_government = democratic
			has_war_with = GER
			has_capitulated = no
		}
		date < 1942.1.1
		NOT = {
			has_global_flag = FRA_already_surrendered
		}
	}

	abort = {
		OR = {
			has_global_flag = FRA_already_surrendered
			FRA = {
				OR = {
					has_capitulated = yes
					surrender_progress > 0.10 #we should get going, I think we left the kettle on
				}
			}
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = protect
		id = "FRA"
		value = 200
	}

	ai_strategy = {
		type = front_unit_request
		area = northern_france_bel_front
		value = 100
	}

	ai_strategy = {
        type = area_priority
        id = northern_france_bel_front
        value = 100
    }
}

ENG_please_stop_stomping_italy_so_hard_in_africa_ty = {
	enable = {
		OR = {
			tag = ENG
			AND = {
				is_subject_of = ENG
				NOT = {
					OR = { #ANZACs get a free trip to Africa
						tag = AST 
						tag = NZL
						tag = RAJ
						tag = EGY
					}
				}
			}
		}
		OR = {
			ENG = {
				has_war_with = ITA
			}
			ROOT = {
				has_war_with = ITA
				is_subject_of = ENG
			}
		}
		OR = {
			AND = {
				date < 1941.2.1
				has_global_flag = FRA_already_surrendered
			}
			AND = { #lets worry about the battle of France first okay?
				date < 1943.1.1
				NOT = {
					has_global_flag = FRA_already_surrendered
				}
			}
		}
	}

	abort = {
		OR = {
			OR = {
				447 = {
					NOT = {
						is_fully_controlled_by = ENG
					}
				}
				AND = {
					EGY = {
						OR = {
							is_subject_of = ENG
							is_in_faction_with = ENG
						}
					}
					447 = {
						NOT = {
							is_fully_controlled_by = EGY
						}
					}
				}
			}
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = front_unit_request
		area = africa
		value = -25
	}
	ai_strategy = {
        type = area_priority
        id = africa
        value = -25
    }
	ai_strategy = {
		type = front_unit_request
		area = suez
		value = -1
	}
}

ENG_please_avoid_nordic_death_trap = {
	enable = {
		OR = {
			NOR = {
				is_ai = yes
				has_war_with = GER
			}
			DEN = {
				is_ai = yes
				has_war_with = GER
			}
		}
		OR = {
			tag = ENG
			AND = {
				is_subject_of = ENG
				NOT = {
					OR = { #check if the defenders somehow become subjects of ENG
						tag = DEN
						tag = NOR 
					}
				}
			}
		}
		OR = {
			ENG = {
				has_war_with = GER
			}
			ROOT = {
				has_war_with = GER
				is_subject_of = ENG
			}
		}
		OR = {
			AND = {
				date < 1943.1.1
				has_global_flag = FRA_already_surrendered
			}
			AND = { #lets worry about the battle of France, Africa, and Asia first okay?
				date < 1944.1.1
				NOT = {
					has_global_flag = FRA_already_surrendered
				}
			}
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = front_unit_request
		area = den_nor_front
		value = -100
	}

	ai_strategy = {
        type = area_priority
        id = den_nor_front
        value = -200
    }
}

ENG_please_avoid_balkan_death_trap = {
	enable = {
		OR = {
			YUG = {
				is_ai = yes
				AND = {
					has_war_with = GER
					has_war_with = ITA
				}
			}
			ALB = {
				is_ai = yes
				OR = {
					has_war_with = GER
					has_war_with = ITA
				}
			}
			ITA = {
				OR = {
					controls_state = 836
					controls_state = 44
					controls_state = 805
				}
			}
		}
		OR = {
			tag = ENG
			AND = {
				is_subject_of = ENG
				NOT = {
					OR = { #check if the defenders somehow become subjects of ENG
						tag = YUG
						tag = ALB
					}
				}
			}
		}
		OR = {
			ENG = {
				AND = {
					has_war_with = GER
					has_war_with = ITA
				}
			}
			ROOT = {
				OR = {
					has_war_with = GER
					has_war_with = ITA
				}
				is_subject_of = ENG
			}
		}
		OR = {
			AND = {
				date < 1943.1.1
				has_global_flag = FRA_already_surrendered
			}
			AND = { #lets worry about the battle of France, Africa, and Asia first okay?
				date < 1944.1.1
				NOT = {
					has_global_flag = FRA_already_surrendered
				}
			}
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = front_unit_request
		area = yugo_front
		value = -35
	}

	ai_strategy = {
        type = area_priority
        id = yugo_front
        value = -35
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "YUG"
		value = 125
	}
	

}

ENG_please_stop_kiling_siam_so_hard_ty = {
	enable = {
		OR = {
			tag = ENG
			AND = {
				is_subject_of = ENG
				NOT = {
					OR = { #ANZACs and Raj stay in Asia
						tag = AST 
						tag = NZL
						tag = RAJ
					}
				}
			}
		}
		OR = {
			ENG = {
				has_war_with = SIA
			}
			ROOT = {
				has_war_with = SIA
				is_subject_of = ENG
			}
		}
		OR = {
			AND = {
				date < 1942.1.1
				has_global_flag = FRA_already_surrendered
			}
			AND = { #lets worry about the battle of France and Africa first okay?
				date < 1943.1.1
				NOT = {
					has_global_flag = FRA_already_surrendered
				}
			}
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = front_unit_request
		area = burma_front
		value = -25
	}
	ai_strategy = {
        type = area_priority
        id = burma_front
        value = -25
    }
}

ENG_less_mean_to_SOV_early = {
	
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
			NOT = { has_war_with = SOV }
		}
		country_exists = SOV
		SOV = {
			is_ai = yes
			has_government = communism
		}
		OR = {
			any_country = {
				is_major = yes
				NOT = {
					tag = SOV
				}
				has_war_with = ENG		
			}
			AND = {
				date < 1941.1.1	
				SOV = {
					NOT = {
						has_war_with = USA
					}
				}
			}
		}	
	}

	abort_when_not_enabled = yes	

	abort = {
		OR = {
			NOT = { country_exists = SOV }
			date > 1941.1.1
		}
	}

	ai_strategy = {
		type = antagonize
		id = "SOV"			
		value = -35
	}

	ai_strategy = {
		type = contain
		id = "SOV"			
		value = -100
	}	

	ai_strategy = {
		type = befriend
		id = "SOV"			
		value = 25
	}

	ai_strategy = { #Sov sphere
		type = alliance
		id = "EST"			
		value = -10
	}
	ai_strategy = { #Sov sphere
		type = alliance
		id = "LIT"			
		value = -10
	}

	ai_strategy = { #Sov sphere
		type = alliance
		id = "LAT"			
		value = -10
	}

	ai_strategy = { #Sov sphere
		type = alliance
		id = "FIN"			
		value = -10
	}
}

ENG_abandon_finland_against_ussr_if_at_war_with_major = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
			NOT = { has_war_with = SOV }
			NOT = { has_war_with = FIN }
		}
		any_country = {
			is_major = yes
			NOT = {
				tag = SOV
			}
			has_war_with = ENG		
		}		
		country_exists = SOV
		country_exists = FIN

	}
	abort = {
		NOT = { country_exists = FIN }
	}
	
	ai_strategy = {
		type = befriend
		id = "FIN"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "FIN"			
		value = -150
	}	
}

ENG_abandon_EST_against_ussr_if_at_war_with_major = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
			NOT = { has_war_with = SOV }
			NOT = { has_war_with = EST }
		}
		any_country = {
			is_major = yes
			NOT = {
				tag = SOV
			}
			has_war_with = ENG		
		}		
		country_exists = SOV
		country_exists = EST

	}
	abort = {
		NOT = { country_exists = EST }
	}
	
	ai_strategy = {
		type = befriend
		id = "EST"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "EST"			
		value = -150
	}	
}

ENG_abandon_LIT_against_ussr_if_at_war_with_major = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
			NOT = { has_war_with = SOV }
			NOT = { has_war_with = LIT }
		}
		any_country = {
			is_major = yes
			NOT = {
				tag = SOV
			}
			has_war_with = ENG		
		}		
		country_exists = SOV
		country_exists = LIT

	}
	abort = {
		NOT = { country_exists = LIT }
	}
	
	ai_strategy = {
		type = befriend
		id = "LIT"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "LIT"			
		value = -150
	}	
}

ENG_abandon_LAT_against_ussr_if_at_war_with_major = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
			NOT = { has_war_with = SOV }
			NOT = { has_war_with = LAT }
		}
		any_country = {
			is_major = yes
			NOT = {
				tag = SOV
			}
			has_war_with = ENG		
		}		
		country_exists = SOV
		country_exists = LAT

	}
	abort = {
		NOT = { country_exists = LAT }
	}
	
	ai_strategy = {
		type = befriend
		id = "LAT"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "LAT"			
		value = -150
	}	
}

ENG_abandon_RUT_because_its_RUT = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
		}		
		country_exists = RUT
		RUT = {
			is_ai = yes
		}
	}
	
	abort = {
		NOT = { country_exists = RUT }
	}
	
	ai_strategy = {
		type = befriend
		id = "RUT"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "RUT"			
		value = -200
	}	
}

ENG_abandon_MON_because_its_MON = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
		}		
		country_exists = MON
		MON = {
			is_ai = yes
			has_government = democratic
		}
	}
	
	abort = {
		NOT = { country_exists = RUT }
	}
	
	ai_strategy = {
		type = befriend
		id = "MON"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "MON"			
		value = -150
	}	
}

ENG_abandon_UKR_because_its_UKR = {
	enable = {
		tag = ENG
		ENG = {
			has_government = democratic
		}		
		country_exists = UKR
		UKR = {
			is_ai = yes
			has_government = democratic
		}
	}
	
	abort = {
		NOT = { country_exists = RUT }
	}
	
	ai_strategy = {
		type = befriend
		id = "UKR"			
		value = -1500
	}
	ai_strategy = {
		type = alliance
		id = "UKR"			
		value = -150
	}	
}

ENG_respect_monroe_doctine_even_if_evil_people_are_eating_latin_america_ECU = {
	enable = {
		threat < 0.90 #I'd rather not fight there. Please and thank you
		tag = ENG
		ENG = {
			has_government = democratic
		}		
		country_exists = ECU
		ECU = {
			AND = {
				is_ai = yes
				has_government = democratic
			}
		}
	}
	
	abort = {
		NOT = { country_exists = ECU }
	}
	
	ai_strategy = {
		type = befriend
		id = "ECU"			
		value = -800
	}
	ai_strategy = {
		type = alliance
		id = "ECU"			
		value = -150
	}	
}

ENG_respect_monroe_doctine_even_if_evil_people_are_eating_latin_america_PAN = {
	enable = {
		threat < 0.60 #The others are expendable, you're important... for reasons
		tag = ENG
		ENG = {
			has_government = democratic
		}
		country_exists = USA
		USA = {
			has_government = democratic #This is a 'you' issue
		}		
		country_exists = PAN
		PAN = {
			AND = {
				is_ai = yes
				has_government = democratic
			}
		}
	}
	
	abort = {
		NOT = { country_exists = ECU }
	}
	
	ai_strategy = {
		type = befriend
		id = "PAN"			
		value = -800
	}
	ai_strategy = {
		type = alliance
		id = "PAN"			
		value = -150
	}	
}

ENG_respect_monroe_doctine_even_if_evil_people_are_eating_latin_america_HAI = {
	enable = {
		threat < 0.80
		tag = ENG
		ENG = {
			has_government = democratic
		}		
		country_exists = HAI
		country_exists = USA
		USA = {
			has_government = democratic #This is a 'you' issue
		}
		HAI = {
			AND = {
				is_ai = yes
				has_government = democratic
			}
		}
	}
	
	abort = {
		NOT = { country_exists = HAI }
	}
	
	ai_strategy = {
		type = befriend
		id = "HAI"			
		value = -800
	}
	ai_strategy = {
		type = alliance
		id = "HAI"			
		value = -150
	}	
}

ENG_respect_monroe_doctine_even_if_evil_people_are_eating_latin_america_COS = {
	enable = {
		threat < 0.65
		tag = ENG
		ENG = {
			has_government = democratic
		}
		country_exists = USA
		USA = {
			has_government = democratic #This is a 'you' issue
		}	
		country_exists = COS
		COS = {
			AND = {
				is_ai = yes
				has_government = democratic
			}
		}
	}
	
	abort = {
		NOT = { country_exists = COS }
	}
	
	ai_strategy = {
		type = befriend
		id = "COS"			
		value = -800
	}
	ai_strategy = {
		type = alliance
		id = "COS"			
		value = -150
	}	
}

ENG_respect_monroe_doctine_even_if_evil_people_are_eating_latin_america_NIC = {
	enable = {
		threat < 0.75
		tag = ENG
		ENG = {
			has_government = democratic
		}
		country_exists = USA
		USA = {
			has_government = democratic #This is a 'you' issue
		}
		country_exists = NIC
		NIC = {
			AND = {
				is_ai = yes
				has_government = democratic
			}
		}
	}
	
	abort = {
		NOT = { country_exists = NIC }
	}
	
	ai_strategy = {
		type = befriend
		id = "NIC"			
		value = -800
	}
	ai_strategy = {
		type = alliance
		id = "NIC"			
		value = -150
	}	
}

ENG_garrison_our_ports = {
	enable = {
		original_tag = ENG
		has_civil_war = no
		OR = {
			has_war_with = FRA
			AND = {
				FRA = {
					has_capitulated = yes
				}
				has_war = yes
			}
		}
		any_country = {
			OR = {
				capital_scope = {
					is_on_continent = europe
				}
				AND = {
					is_major = yes
					is_ai = no
				}				
			}
			OR = {
				has_government = communism
				has_government = fascism
				has_war_with = ROOT
			}
			NOT = {
				OR = {
					is_in_faction_with = ROOT
					is_puppet = yes
				}
				
			}
			num_divisions > 20
		}
	}
	
	abort = {
		
	}
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.2 
		states = { 
			136
 			126
 			127
 			128
 			129
 			338
 			123
 			122 
 		}	
	}

}
mosley_not_guarantee_eastern_europe = {
	enable = {
		tag = ENG
		has_country_leader = { ruling_only = yes name = "Oswald Mosley" }
	}
	abort = {
		
	}
	ai_strategy = {
		type = diplo_action_desire
		id = CZE
		target = guarantee
		value = -20
	}	
	ai_strategy = {
		type = diplo_action_desire
		id = POL
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = HUN
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = YUG
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = ROM
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = BUL
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = RUT
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = EST
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = LAT
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = LIT
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = UKR
		target = guarantee
		value = -20
	}
	ai_strategy = {
		type = diplo_action_desire
		id = BLR
		target = guarantee
		value = -20
	}											
}

# example unit buffer strategy. this strategy will make ai buffer/garrison some units in a target area  which can be used in orders that is in target areas
# 
# ai_strategy = {
# 	type = put_unit_buffers
# 	
#	# ratio of total armeis in country to be buffered
# 	ratio = 0.4
#
#	# you can specify an order id. ratio of same orders ids will be share same ratio
# 	order_id = 2
# 	
# 	# states to put garrison orders (if no state is friendly, strat is invalid)
# 	states = { 
# 		125
# 		126
# 		127
# 		128
# 		129
# 		338
# 		123
# 		122 
# 	}
# 	
#	# ai areas that the orders will use these buffers in
# 	area = europe
# 	area = asia
# 	
# 	# by default if you have orders in target areas, the buffer will request less units. 
#	# you can override this to disable the feature
# 	subtract_invasions_from_need = yes
# 	subtract_fronts_from_need = yes
# }